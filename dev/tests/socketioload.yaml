config:
  # target: "http://localhost:3070"
  target: "https://obfuscation.karls.computer"
  # target: "https://3rd.obfuscationworkshop.org"
  socketio:
    transports: ["websocket"]
  engines:
   socketio-v3: {}
  phases:
    - duration: 60 # Run scenario for 30 seconds
      arrivalCount: 1000 # Create 400 virtual users per scenario
      name: Warm up
    # - duration: 3600 # Run scenario for 30 seconds
    #   arrivalCount: 0.5 # Create 400 virtual users per scenario
    #   name: Waiters

scenarios:
  # - engine: "socketio"
  - engine: socketio-v3
    flow:
      - emit:
          channel: "user"
          data: {
            "uid":"TaIHaUATdEya",
            "name": "testBot",
            "x":0.5850520833333334,
            "y":0.24128440366972478,
            "color": "black",
            "connected":true,
            "deleted":false
          }
      # - emit:
      #     channel: "appearance"
      #     json: 
      #       uid: "TaIHaUATdEy"
      #       name: "bot"
      #       connected: true
      #       x: "0.5850520833333334"
      #       y: "0.24128440366972478"
      # - emit:
      #     channel: "position"
      #     data: "{\"x\":0.5850520833333334,\"y\":0.24128440366972478,\"connected\":true,\"uid\":\"f3706935e29\"}"
      - think: 3600 # do nothing for 5 seconds, then disconnect