config:
  target: "http://localhost:3070"
  # target: "https://obfuscation.karls.computer"
  # target: "https://3rd.obfuscationworkshop.org"
  socketio:
    transports: ["websocket"]
  engines:
   socketio-v3: {}
  phases:
    - duration: 30 # Run scenario for 30 seconds
      arrivalCount: 50 # Create 400 virtual users per scenario
      name: Warm up
scenarios:
  # - engine: "socketio"
  - engine: socketio-v3
    flow:
      # - emit:
      #     channel: "echo"
      #     data: "ping"
      # - emit:
      #     channel: "echo"
      #     data: "ping"
      # - emit:
      #     channel: "echo"
      #     data: "ping"
      # - emit:
      #     channel: "echo"
      #     data: "ping"
      - emit:
          channel: "echo"
          data: "ping"
      # - emit:
      #     channel: "position"
      #     data: '{"x":0.5850520833333334,"y":0.24128440366972478,"connected":true,"uid":"f3706935e29"}'
      # - emit:
      #     channel: "position"
      #     data: "{\"x\":0.5850520833333334,\"y\":0.24128440366972478,\"connected\":true,\"uid\":\"f3706935e29\"}"
      - think: 60 # do nothing for 5 seconds, then disconnect