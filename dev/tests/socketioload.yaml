config:
  # target: "http://localhost:3070"
  target: "https://obfuscation.karls.computer"
  # target: "https://3rd.obfuscationworkshop.org"
  socketio:
    transports: ["websocket"]
  engines:
   socketio-v3: {}
  phases:
    - duration: 1000 # Run scenario for 30 seconds
      arrivalCount: 1000 # Create 400 virtual users per scenario
      name: Warm up
    # - duration: 3600 # Run scenario for 30 seconds
    #   arrivalCount: 0.5 # Create 400 virtual users per scenario
    #   name: Waiters

scenarios:
  # - engine: "socketio"
  - engine: socketio-v3
    flow:
      - emit:
          channel: "user"
          data: {
            "uid":"TaIHaUATdEya",
            "name": "testBot",
            "x":0.5989999833333334,
            "y":0.23528440366972478,
            "color": "red",
            "connected":true,
            "deleted":false
          }
      - think: 0.5 # do nothing for 5 seconds, then disconnect
      - emit:
          channel: "position"
          data: {
            "uid":"TaIHaUATdEya",
            "x":0.5989999833333334,
            "y":0.23428440366972478,
            "color": "red",
            "connected":true,
          }
      - think: 0.5 # do nothing for 5 seconds, then disconnect
      - emit:
          channel: "position"
          data: {
            "uid":"TaIHaUATdEya",
            "x":0.600120833333334,
            "y":0.23428440366972478,
            "color": "red",
            "connected":true,
          }
      - think: 0.5 # do nothing for 5 seconds, then disconnect
      - emit:
          channel: "appearance"
          data: {
            "uid":"TaIHaUATdEya",
            "name": "testBot",
            "x":0.600120833333334,
            "y":0.23528440366972478,
            "color": "red",
            "connected":false,
            "deleted":false
          }
      - think: 5 # do nothing for 5 seconds, then disconnect