(function(t){function e(e){for(var s,r,a=e[0],c=e[1],u=e[2],d=0,f=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},i={app:0},o=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"054c":function(t,e,n){"use strict";n("f11b")},"101a":function(t,e,n){},1580:function(t,e,n){"use strict";n("e5ad")},1812:function(t,e,n){"use strict";n("101a")},"1c2b":function(t,e,n){},"1d4b":function(t,e,n){},2044:function(t,e,n){},"204c":function(t,e,n){},2066:function(t,e,n){"use strict";n("8f36")},2156:function(t,e,n){},"248e":function(t,e,n){},"27b3":function(t,e,n){"use strict";n("36e3")},"293a":function(t,e,n){},2959:function(t,e,n){"use strict";n("d382")},"29a2":function(t,e,n){},"2c8c":function(t,e,n){},"2db9":function(t,e,n){"use strict";n("cb86")},"2e58":function(t,e,n){"use strict";n("7627")},"2fb1":function(t,e,n){"use strict";n("2044")},3003:function(t,e,n){},3224:function(t,e,n){},"32a0":function(t,e,n){"use strict";n("5d18")},"32d9":function(t,e,n){"use strict";n("97fb")},"345b":function(t,e,n){"use strict";n("29a2")},3460:function(t,e,n){},"36e3":function(t,e,n){},3720:function(t,e,n){},"3fed":function(t,e,n){},"42c6":function(t,e,n){},4443:function(t,e,n){"use strict";n("3003")},4738:function(t,e,n){"use strict";n("e5e1")},"4a07":function(t,e,n){},"4f29":function(t,e,n){"use strict";n("aba9")},"50d7":function(t,e,n){},5473:function(t,e,n){},"54c2":function(t,e,n){"use strict";n("204c")},5616:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=n("bc3a"),o=n.n(i),r=n("ff64"),a=n.n(r),c=n("f87c"),u=n("8e27"),l=n("2536"),d=n.n(l),f=n("7707"),m=n.n(f),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{mobile:t.isMobile},attrs:{id:"app"}},[n("Home",{attrs:{slug:t.slug}})],1)},p=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[t.blocked?n("Nomansland"):t.contentLoaded?n("Mainland",{attrs:{wantsToView:t.wantsToView}}):n("div",{attrs:{id:"loading"}},[n("span",{staticClass:"message"},[t._v(" "+t._s(t.loadingMessage)+" ")])])],1)},v=[],b=(n("99af"),n("caad"),n("b0c0"),n("2532"),n("5530")),y=n("2f62"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{class:{blur:t.notfound||!t.registered||t.editing||t.notifications.length>0,touring:t.touring,obfuscated:t.$store.state.desiresTexture,tourIsAtOverlay:t.tourIsAtOverlay,tourIsAtLocation:t.tourIsAtLocation,tourIsAtIsland:t.tourIsAtIsland,tourIsAtAddressBar:t.tourIsAtAddressBar,tourIsAtBBB:t.tourIsAtBBB},style:[t.userColors,t.scale>7?t.regionColors:"",{"--scale":t.scale}]},[n("transition",{attrs:{name:"fade"}},[t.notfound?n("Notfound"):t._e()],1),n("transition",{attrs:{name:"fade"}},[!t.registered||t.editing?n("Editor",{attrs:{touring:t.touring},on:{stopEdit:function(e){t.editing=!1}}}):t._e()],1),n("transition",{attrs:{name:"fade"}},[t.notifications.length>0?n("div",{attrs:{id:"notificationContainer"}},t._l(t.notifications,(function(e){return n("Notification",{key:e.uid,attrs:{notification:e},on:{dismiss:function(n){t.notifications.splice(t.notifications.indexOf(e),1)},goTo:function(e){return t.handleNotificationClick(e)}}})})),1):t._e()]),n("div",{ref:"userlandContainer",class:["LIFECYCLE"+t.lifecycle,{dragging:t.dragging}],attrs:{id:"userlandContainer",tabindex:"-1"},on:{click:function(e){return t.handleClick(e)}}},[n("div",{ref:"userland",class:t.location.slug,style:{height:100*t.scale+"%",width:100*t.scale*t.widthFactor+"%"},attrs:{id:"userland",tabindex:"-1"},on:{mousedown:function(e){e.stopPropagation(),t.dragging=!0},mousemove:function(e){return t.drag(e)},mouseup:function(e){return e.stopPropagation(),t.release(e)}}},[t._l(t.territories,(function(e){return n("Territory",{key:e.slug,attrs:{territory:e},on:{moreInfo:function(e){return t.handleIslandClick(e)}}})})),t._l(t.notDeletedUsers,(function(e){return n("Cursorr",{key:e.uid,ref:t.isMe(e)?"me":"Users",refInFor:!0,attrs:{user:e,dragging:t.isMe(e)?t.dragging:null}})})),t._l(t.notDeletedMessages,(function(e){return n("Message",{key:e.uid,attrs:{message:e,isCompatible:t.isCompatible,isMe:e.authorUID===t.me.uid},on:{goTo:function(e){return t.goTo(t.users[e])}}})}))],2),n("div",{attrs:{id:"location"}},[n("div",{staticClass:"ui tag",attrs:{tabindex:"0"},on:{click:function(e){return t.handleIslandClick("/"+t.location.slug)}}},[t._v(" #"+t._s(t.location.slug)+" ")])])]),n("nav",{class:{hidden:!t.desiresNav}},[n("NavHandle",{attrs:{desiresNav:t.desiresNav,desiresList:t.desiresList,isMobile:t.isMobile},on:{showNav:t.showNav,hideNav:function(e){t.desiresNav=!1},showList:function(e){t.desiresList=!0},showMap:function(e){t.desiresList=!1}}}),t.desiresList?n("Minilist",{on:{goTo:function(e){return t.route(e,!1,!1,!0)}}}):n("Minimap",{attrs:{dragging:t.dragging,miniDragging:t.miniDragging,touring:t.touring},on:{startedDrag:function(e){t.miniDragging=!0},stoppedDrag:function(e){t.miniDragging=!1},newPosition:function(e){return t.handleMini(e)}}}),t.isMobile?n("div",{staticClass:"ui compatibility"},[n("p",[t._v(" To join the discussion, please open this website on a larger screen. ")])]):n("Options",{ref:"options",on:{startEdit:function(e){t.editing=!0},goTo:function(e){return t.goTo(e)},moreInfo:function(e){return t.handleIslandClick(e)}}}),t.isMobile||t.isCompatible?t._e():n("div",{staticClass:"ui compatibility"},[n("p",[t._v(" This platform works best on Chrome or Firefox. ")])])],1),n("Ticker",{attrs:{marquee:t.isMobile}}),n("Overlay",{attrs:{id:"overlay",dragging:t.dragging,content:t.moreInformation,desiresOverlay:t.desiresOverlay,isGeneral:"general"===t.location.slug,touring:t.touring},on:{showOverlay:t.showOverlay,hideOverlay:t.handleOverlayClose,startTour:t.startTour}}),t.touring?n("Tour",{attrs:{editing:t.editing},on:{end:function(e){t.touring=!1},goTo:function(e){return t.handleIslandClick(e)},hideOverlay:function(e){t.desiresOverlay=!1},hideNav:function(e){t.desiresNav=!1},showNav:t.showNav,focusOverlay:function(e){t.tourIsAtOverlay=!0},unfocusOverlay:function(e){t.tourIsAtOverlay=!1},focusLocation:function(e){t.tourIsAtLocation=!0},unfocusLocation:function(e){t.tourIsAtLocation=!1},focusIsland:function(e){t.tourIsAtIsland=!0},unfocusIsland:function(e){t.tourIsAtIsland=!1},focusAddressBar:function(e){t.tourIsAtAddressBar=!0},unfocusAddressBar:function(e){t.tourIsAtAddressBar=!1},focusBBB:function(e){t.tourIsAtBBB=!0},unfocusBBB:function(e){t.tourIsAtBBB=!1}}}):t._e(),t.touring?n("div",{attrs:{id:"addressBar"}}):t._e()],1)},_=[],C=(n("7db0"),n("4160"),n("a630"),n("c975"),n("fb6a"),n("a434"),n("ac1f"),n("3ca3"),n("5319"),n("1276"),n("2ca0"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"navHandle"}},[n("span",{class:["ui","navToggle","hide",{hidden:!t.desiresNav}],attrs:{tabindex:"0"},on:{click:function(e){return t.$emit("hideNav")}}},[t._v(" "+t._s(t.isMobile?"< nav":"<")+" ")]),t.isMobile?t._e():n("div",{staticClass:"ui navType"},[n("span",{class:["map",{selected:!t.desiresList}],attrs:{tabindex:"0"},on:{click:function(e){return t.$emit("showMap")}}},[t._v(" map ")]),n("span",{class:["list",{selected:t.desiresList}],attrs:{tabindex:"0"},on:{click:function(e){return t.$emit("showList")}}},[t._v(" list ")])]),n("span",{class:["ui","navToggle","show",{hidden:t.desiresNav}],attrs:{tabindex:"0"},on:{click:function(e){return t.$emit("showNav")}}},[t._v("nav >")])])}),k=[],$={name:"Handle",props:["isMobile","desiresNav","desiresList"]},T=$,x=(n("2fb1"),n("2877")),S=Object(x["a"])(T,C,k,!1,null,"18a18c13",null),O=S.exports,M=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"notfoundContainer"}},[n("div",{attrs:{id:"notfound"}},[n("span",[t._v("Location not found.")])])])}],L={name:"Notfound"},B=L,P=(n("fa90"),Object(x["a"])(B,M,I,!1,null,"52fe4a7a",null)),D=P.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"registerContainer"}},[n("div",{staticClass:"ui",attrs:{id:"register"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.save(e)}}},[t.registered?t._e():n("div",{staticClass:"introText"},[n("h3",[t._v("Welcome.")]),n("p",[t._v("To join the conversation, please pick a display name and color. You can change these later.")])]),n("div",{staticClass:"form"},[n("div",{staticClass:"name"},[n("label",{attrs:{for:"name"}},[t._v("Name: ")]),n("input",{ref:"name",staticClass:"ui",attrs:{name:"name",type:"text",placeholder:"pick a display name",tabindex:"0"}})]),t.invalid||t.tooshort||t.inuse?n("p",{staticClass:"error"},[t._v(" "+t._s(t.invalid?"Your display name cannot contain any spaces or special characters.":t.tooshort?"Your display name must contain at least 2 characters.":t.inuse?"This name has already been taken by someone else.":null)+" ")]):t._e(),n("div",{staticClass:"color"},[n("label",{attrs:{for:"color"}},[t._v("Color: ")]),n("input",{ref:"color",staticClass:"ui",attrs:{name:"color",type:"text","data-jscolor":"",tabindex:"0"},on:{input:t.updateColor}})]),n("div",{staticClass:"messagesOptions"},[n("label",{attrs:{for:"lifetime"}},[t._v("Message lifetime (days): ")]),n("input",{ref:"messageLifetime",staticClass:"ui",attrs:{name:"lifetime",type:"number",placeholder:"30",tabindex:"0"}})]),n("div",{staticClass:"texture"},[n("label",{attrs:{for:"texture"}},[t._v("Obfuscated texture: ")]),n("input",{ref:"texture",staticClass:"ui",attrs:{name:"texture",type:"checkbox",tabindex:"0"},domProps:{checked:t.desiresTexture},on:{click:function(e){return t.$store.commit("toggleTexture")}}})]),n("div",{staticClass:"contrast"},[n("label",{attrs:{for:"contrast"}},[t._v("Higher contrast: ")]),n("input",{ref:"contrast",staticClass:"ui",attrs:{name:"contrast",type:"checkbox",tabindex:"0"},domProps:{checked:t.desiresContrast},on:{click:function(e){return t.$store.commit("toggleContrast")}}})]),t.registered?t._e():n("div",{staticClass:"introText"},[n("p",[t._v("The messages you post will be visible to every other participant and remain available on the website.")])]),n("input",{ref:"submit",staticClass:"ui save",attrs:{type:"button",value:"save",tabindex:"0"},on:{click:t.save}})])]),t.touring?n("div",{attrs:{id:"jsonMe"}},[n("vue-markdown",{attrs:{source:t.jsonMe}})],1):t._e()])},U=[],j=(n("4d63"),n("25f0"),n("881d")),N=n.n(j),z={name:"Editor",props:["touring"],data:function(){return{invalid:!1,tooshort:!1,inuse:!1,colorPickerOpts:{format:"rgba",previewPosition:"right",previewSize:30,borderRadius:0,padding:0,controlBorderColor:"rgba(255,255,255,0)",sliderSize:13,shadow:!1}}},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["e"])(["registered","desiresTexture","desiresContrast"])),Object(y["c"])(["me","userNames"])),{},{jsonMe:function(){return"```json \n"+JSON.stringify(this.me,null,2)+"\n```"}}),mounted:function(){var t=this;this.registered&&(this.$refs.name.value=this.me.name),setTimeout((function(){t.$refs.name.select()}),50),N.a.presets.default=this.colorPickerOpts,this.$refs.color.value=this.me.color,new N.a(this.$refs.color),N.a.init(),this.$refs.messageLifetime.value=this.me.messageLifetime/864e5||30},methods:{save:function(){var t=this.$refs.name.value,e=this.$refs.color.value,n=864e5*this.$refs.messageLifetime.value;this.validateChars(t)?this.validateLength(t)?this.existingUser(t)?this.inuse=!0:this.register(t,e,n):this.tooshort=!0:this.invalid=!0},cancel:function(){this.$emit("stopEdit")},register:function(t,e,n){this.$store.dispatch("updateAppearance",{name:t,color:e,x:this.me.x,y:this.me.y,messageLifetime:n}),this.$emit("stopEdit"),this.$store.commit("register")},updateColor:function(){this.$store.dispatch("updateColor",{color:this.$refs.color.value})},validateChars:function(t){return/^[A-Za-z0-9]+(?:-[A-Za-z0-9]+)*$/.test(t)},validateLength:function(t){return t.length>1},existingUser:function(t){var e=this,n=this.userNames.find((function(e){return e.toLowerCase()===t.toLowerCase()})),s=function(t){return t.toLowerCase()===e.me.name.toLowerCase()};return n&&!s(t)},toSlug:function(t){t=t.replace(/^\s+|\s+$/g,""),t=t.toLowerCase();for(var e="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",n="aaaaeeeeiiiioooouuuunc------",s=0,i=e.length;s<i;s++)t=t.replace(new RegExp(e.charAt(s),"g"),n.charAt(s));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),t}}},A=z,R=(n("345b"),Object(x["a"])(A,E,U,!1,null,"6082e0bc",null)),H=R.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui",style:{"--userColor":t.color},attrs:{id:"notification"}},[n("p",{staticClass:"time"},[t._v(" "+t._s(t.time)+" ")]),n("p",{staticClass:"author"},[n("span",{staticClass:"name"},[t._v(" "+t._s(t.notification.author)+" ")]),n("span",[t._v(" says: ")])]),n("vue-markdown",{staticClass:"body"},[t._v(" "+t._s(t.notification.content)+" ")]),n("div",{attrs:{id:"notiButtons"}},[n("input",{staticClass:"ui button",attrs:{type:"button",value:"dismiss"},on:{click:function(e){return e.stopPropagation(),t.$emit("dismiss")}}}),t.notification.authorUID?n("input",{staticClass:"ui button",attrs:{type:"button",value:"view"},on:{click:function(e){return e.stopPropagation(),t.$emit("goTo",t.notification)}}}):t._e()])],1)},Z=[],q=n("f817"),W={name:"Notification",props:["notification"],data:function(){return{}},computed:{time:function(){return Object(q["default"])(this.notification.time).format("dddd, MMMM Do [at] HH:mm")},color:function(){return this.notification.authorUID?this.$store.state.users[this.notification.authorUID].color:"black"}},mounted:function(){},methods:{}},V=W,G=(n("a35a"),Object(x["a"])(V,F,Z,!1,null,"7209abc7",null)),Y=G.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["ui",{hovered:!t.touring&&t.hovered||t.dragging}],style:{minHeight:t.height+"px",width:t.width+"px"},attrs:{id:"minimap"},on:{mouseover:function(e){t.hovered=!0},mouseout:function(e){t.hovered=!1},mousedown:function(e){return t.mouseDown(e)},mousemove:function(e){return t.mouseMove(e)},mouseup:function(e){return t.mouseUp(e)}}},[n("div",{staticClass:"terrContainer"},t._l(t.territories,(function(e){return n("Territory",{key:e.slug,attrs:{hovered:t.hovered,territory:e}})})),1),n("div",{staticClass:"messageContainer"},t._l(t.messages,(function(t){return n("Message",{key:t.uid,attrs:{message:t}})})),1),n("div",{staticClass:"cursorContainer"},t._l(t.users,(function(t){return n("Cursorr",{key:t.uid,attrs:{user:t}})})),1),n("Window",{attrs:{id:"viewport",width:t.width/t.scale,height:t.height/t.scale,left:t.left/t.scale,top:t.top/t.scale}}),n("div",{staticClass:"zoom"},[n("div",{staticClass:"in",on:{mousedown:function(e){return e.stopPropagation(),t.$store.commit("zoomIn")},mouseup:function(t){t.stopPropagation()}}},[t._v("+")]),n("div",{staticClass:"out",on:{mousedown:function(e){return e.stopPropagation(),t.$store.commit("zoomOut")},mouseup:function(t){t.stopPropagation()}}},[t._v("-")]),n("div",{staticClass:"zero",on:{mousedown:function(e){return e.stopPropagation(),t.$store.commit("setScale",10)},mouseup:function(t){t.stopPropagation()}}},[t._v("○")])])],1)},J=[],K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{left:100*t.user.x-.1+"%",top:100*t.user.y-.2+"%","--scale":3,"--userColor":"var(--"+t.user.uid+")"}})},Q=[],tt={name:"Cursorr",props:["user"]},et=tt,nt=(n("dbfd"),Object(x["a"])(et,K,Q,!1,null,"9a58fd5e",null)),st=nt.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{left:t.toNearestX(t.message.x,.4)+"%",top:t.toNearestX(t.message.y,.4)+"%",width:t.message.content.length/1.5+"px","--userColor":"var(--"+t.message.authorUID+")"}})},ot=[],rt={name:"Message",props:["message","hovered","dragging"],methods:{toNearestX:function(t,e){return Math.floor(100*t/e)*e}}},at=rt,ct=(n("4738"),Object(x["a"])(at,it,ot,!1,null,"916c743a",null)),ut=ct.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["mini-territory",{hovered:t.hovered}],style:{left:100*t.territory.borders.x+"%",top:100*t.territory.borders.y+"%",width:100*t.territory.borders.w+"%",height:100*t.territory.borders.h+"%","--ground":t.territory.color},attrs:{id:"mini-"+t.territory.slug}},[n("svg",{staticClass:"shape",attrs:{viewBox:t.viewBox,preserveAspectRatio:"none"}},[n("path",{attrs:{fill:t.territory.color,d:t.d}})])])},dt=[],ft=(n("466d"),{name:"Territory",props:["territory","hovered"],data:function(){return{d:null,viewBox:null}},created:function(){var t=this;this.$http.get("".concat(this.$apiURL).concat(this.territory.shape.url)).then((function(e){t.d=e.data.match(/ d="([\s\S]*?)"/g)[0].replace(' d="',"").replace('"',""),t.viewBox=e.data.match(/ viewBox="([\s\S]*?)"/g)[0].replace(' viewBox="',"").replace('"',"")}))},mounted:function(){},methods:{toNearestX:function(t,e){return Math.floor(100*t/e)*e}}}),mt=ft,ht=(n("84fa"),Object(x["a"])(mt,lt,dt,!1,null,null,null)),pt=ht.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{width:t.width+"px",height:t.height+"px",left:t.left+"px",top:t.top+"px"}})},vt=[],bt={name:"Window",props:["width","height","left","top"]},yt=bt,wt=(n("054c"),Object(x["a"])(yt,gt,vt,!1,null,"61e25564",null)),_t=wt.exports,Ct={name:"Map",components:{Cursorr:st,Message:ut,Territory:pt,Window:_t},props:["dragging","miniDragging","touring"],data:function(){return{hovered:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(y["e"])({territories:function(t){return t.territories},left:function(t){return t.windowPos.x/5},top:function(t){return t.windowPos.y/5},width:function(t){return t.windowSize.w/5},height:function(t){return t.windowSize.h/5},scale:function(t){return t.scale},zoomIndex:function(t){return 5*t.scale}})),Object(y["c"])({users:"connectedUsers",messages:"notDeletedMessages"})),methods:{mouseDown:function(t){this.sendDesiredPosition(t),this.$emit("startedDrag")},mouseMove:function(t){this.miniDragging&&this.sendDesiredPosition(t)},mouseUp:function(t){this.$emit("stoppedDrag"),this.sendDesiredPosition(t)},sendDesiredPosition:function(t){var e=t.pageX-this.$el.offsetLeft,n=this.width/(2*this.scale),s=(e-n)*this.zoomIndex,i=t.pageY-this.$el.offsetTop,o=this.height/(2*this.scale),r=(i-o)*this.zoomIndex;this.$emit("newPosition",{x:s,y:r})}}},kt=Ct,$t=(n("64a8"),Object(x["a"])(kt,X,J,!1,null,"088d584e",null)),Tt=$t.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"options"}},[n("div",{staticClass:"registerAgain"},[n("div",{staticClass:"ui button",attrs:{tabindex:"0"},on:{click:function(e){return t.$emit("moreInfo","/reception/register")}}},[t._v(" register ")])]),n("div",{staticClass:"participants"},[t.showParticipants?n("Userslist",{attrs:{tabindex:"0"},on:{goTo:function(e){return t.$emit("goTo",e)},hide:function(e){t.showParticipants=!1}}}):n("div",{staticClass:"ui button showParticipants",attrs:{tabindex:"0"},on:{click:function(e){t.showParticipants=!0}}},[t._v(" participants ")])],1),n("div",{staticClass:"edituser"},[n("div",{staticClass:"ui button",attrs:{tabindex:"0"},on:{click:function(e){return t.$emit("startEdit")}}},[t._v(" options ")])]),n("div",{staticClass:"storage"},[n("div",{staticClass:"ui button",attrs:{tabindex:"0"},on:{click:function(e){return t.$store.dispatch("deleteUser",t.me)}}},[t._v(" delete self ")])])])},St=[],Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["ui",{moderating:t.moderating}],attrs:{id:"userlist"}},[n("div",{staticClass:"title"},[n("span",{staticClass:"hideParticipants",on:{click:function(e){return t.$emit("hide")}}},[t._v(" participants ")]),n("div",{attrs:{id:"moderate"}},[n("span",{staticClass:"moderateButton",on:{click:function(e){t.moderating?t.moderating=!1:t.moderator?t.moderating=!0:t.authenticating?t.authenticating=!1:t.authenticating=!0}}},[t.moderating?n("span",[t._v(" — ")]):n("span",[t._v("M")])]),t.authenticating?n("input",{ref:"password",attrs:{type:"password",name:"moderator",placeholder:"password",autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.authenticate()}}}):t._e()])]),n("ul",[t.moderating?n("li",{staticClass:"deleteUnamed"},[n("span",{staticClass:"ui button delete",on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("deleteAllUnamed")}}},[t._v("delete all unnamed users")])]):t._e(),t._l(t.moderating?t.connectedUsersFirst:t.connectedUsers,(function(e){return n("Label",{key:e.uid,attrs:{user:e,isMe:e.uid===t.me.uid,moderating:t.moderating,messages:t.messagesByUser(e)},on:{goTo:function(e){return t.$emit("goTo",e)}},nativeOn:{click:function(n){return n.stopPropagation(),t.$emit("goTo",e)}}})}))],2)])},Mt=[],It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"userLabel",style:{"--userColor":"var(--"+t.user.uid+")"},on:{mouseover:function(e){e.stopPropagation(),t.hovered=!0},mouseleave:function(e){e.stopPropagation(),t.hovered=!1}}},[n("span",{class:["name",{moderator:t.user.moderator}]},[t._v(" "+t._s(t.isMe?t.user.name+" (you)":t.user.name)+" ")]),t.moderating?n("span",{staticClass:"goto"},[t._v(" "+t._s(t.hovered?"→":" "))]):t._e(),t.moderating?n("div",{staticClass:"moderatorOptions"},[n("span",{staticClass:"ui button messages",on:{click:function(e){e.stopPropagation(),t.messagesVisible=!t.messagesVisible}}},[t._v("messages")]),n("span",{staticClass:"ui button block",on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("blockUser",t.user)}}},[t._v("block")]),n("span",{staticClass:"ui button delete",on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("deleteUser",t.user)}}},[t._v("delete")])]):t._e(),t.moderating?t._e():n("span",{staticClass:"goto"},[t._v(" "+t._s(t.hovered?"→":" "))]),t.moderating&&t.messagesVisible?n("div",{staticClass:"messageListContiner"},[t.messages.length>0?n("ul",{staticClass:"messageList"},t._l(t.messages,(function(e){return n("MessageOptions",{key:e.uid,attrs:{message:e},nativeOn:{click:function(n){return n.stopPropagation(),t.$emit("goTo",e)}}})})),1):n("p",{staticClass:"empty"},[t._v("This user has no messaages.")])]):t._e()])},Lt=[],Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["miniMessageContainer",{hover:t.hovered}],on:{mouseover:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1}}},[n("span",{staticClass:"message"},[t._v(" "+t._s(t.message.content)+" ")]),n("span",{staticClass:"time"},[t._v(" "+t._s(t.format(t.message.time))+" ")]),n("span",{staticClass:"goto"},[t._v(" "+t._s(t.hovered?"→":""))]),n("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.deleteMessage(t.message)}}},[t._v("delete")]),t.message.censored?n("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.censorMessage(t.message)}}},[t._v("uncensor")]):n("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.censorMessage(t.message)}}},[t._v("censor")])])},Pt=[],Dt={name:"MessageOptions",components:{},props:["message"],data:function(){return{now:(new Date).getTime(),hovered:!1}},mounted:function(){},methods:Object(b["a"])(Object(b["a"])({},Object(y["b"])(["deleteMessage","censorMessage"])),{},{format:function(t){return Object(q["default"])(t).format("MMM Do @ HH:mm:ss ")}})},Et=Dt,Ut=(n("9a0a"),Object(x["a"])(Et,Bt,Pt,!1,null,"7ca2a7da",null)),jt=Ut.exports,Nt={name:"Label",components:{MessageOptions:jt},props:["isMe","user","messages","moderating"],data:function(){return{hovered:!1,messagesVisible:!1}},mounted:function(){},methods:{}},zt=Nt,At=(n("2e58"),Object(x["a"])(zt,It,Lt,!1,null,"587f596b",null)),Rt=At.exports,Ht={name:"List",components:{Label:Rt},props:[],data:function(){return{authenticating:!1,moderating:!1}},computed:Object(b["a"])({moderator:function(){return this.$store.getters.me.moderator}},Object(y["c"])(["me","connectedUsers","connectedUsersFirst","notDeletedUsers","notDeletedMessages","messagesByUser"])),mounted:function(){},sockets:{},methods:{authenticate:function(){var t=this.$refs.password.value;"yellowsubmarine"===t&&(this.$store.dispatch("updateModerator",{moderator:!0}),this.authenticating=!1,this.moderating=!0)}}},Ft=Ht,Zt=(n("b44d"),Object(x["a"])(Ft,Ot,Mt,!1,null,"43b2aadb",null)),qt=Zt.exports,Wt={name:"Options",components:{Userslist:qt},data:function(){return{showParticipants:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(y["e"])(["grid"])),Object(y["c"])(["me"])),methods:Object(b["a"])({},Object(y["d"])(["toggleGrid"]))},Vt=Wt,Gt=(n("4443"),Object(x["a"])(Vt,xt,St,!1,null,"aa8bc68c",null)),Yt=Gt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["cursorContainer",{hovered:t.user.typing||t.hovered,dragging:t.dragging,me:t.isMe(t.user)}],style:{left:100*t.user.x-.1+"%",top:100*t.user.y-.15+"%","--scale":15,"--userColor":"var(--"+t.user.uid+")"},on:{mouseover:function(e){e.stopPropagation(),t.hovered=!0},mouseout:function(e){e.stopPropagation(),t.hovered=!1}}},[t.isMe(t.user)?n("input",{ref:"input",staticClass:"input",attrs:{tabindex:"-1",type:"text",placeholder:"type message & press enter",autofocus:""}}):n("span",{staticClass:"input"},[t._v(" "+t._s(t.user.typing)+" ")]),n("div",{staticClass:"cursor"},[n("span",{staticClass:"name",on:{mouseover:function(e){e.stopPropagation(),t.hovered=!0},mouseout:function(e){e.stopPropagation(),t.hovered=!1}}},[t._v(" "+t._s(t.isMe(t.user)?"me":!0===t.user.connected?t.user.name:t.user.name+" (offline)")+" ")])])])},Jt=[],Kt=(n("45fc"),{name:"Cursorr",props:{user:Object,dragging:Boolean},data:function(){return{hovered:!1,current:String,navigation:!1,announcement:!1,mention:!1,pos:null,locationTimer:0,disconnectTimeoutID:null,badWords:["<img","<video","<audio"]}},computed:Object(b["a"])(Object(b["a"])({},Object(y["e"])(["isMobile","scale","windowSize","windowPos"])),Object(y["c"])(["me","isMe","networkConservationMode","messagesByUser","territoryByBorders"])),mounted:function(){this.isMe&&!this.isMobile&&(document.addEventListener("mousemove",this.trackCursor),this.resetDisconnectTimer())},methods:{sendMessage:function(){var t=this.$refs.input,e=this.constructMessage(t.value),n=this.messagesByUser(this.me);if(t.focus(),this.navigation&&this.$router.push(t.value),this.announcement&&(e.content=e.content.replace("!!!","")),this.mention){for(var s=e.content.match(/@[a-zA-Z0-9_-]*/g),i=0;i<s.length;i++)s[i]=s[i].replace("@",""),""==s[i]&&s.splice(i,1);e.mentions=s}e.content&&" "!=e.content&&!this.badWords.some((function(t){return e.content.includes(t)}))&&(n&&0==n.length&&this.me.name.includes(this.me.uid)?this.$store.commit("deregister"):(this.$socket.client.emit("message",e),this.networkConservationMode&&this.$socket.client.emit("position",this.pos))),this.announcement=!1,this.navigation=!1,this.mention=!1,this.stream=!1,this.current=null,t.value="",t.placeholder=""},constructMessage:function(t){var e=(new Date).getTime(),n={uid:this.me.uid+e,author:this.me.name,authorUID:this.me.uid,content:t,time:e,color:this.me.color,x:this.me.x,y:this.me.y,deleted:!1,censored:!1,announcement:this.announcement,navigation:this.navigation,stream:this.stream,location:this.$store.state.location.slug};return n},resetDisconnectTimer:function(){var t=this;clearTimeout(this.disconnectTimeoutID),this.disconnectTimeoutID=setTimeout((function(){t.disconnect()}),6e4)},disconnect:function(){this.$store.dispatch("updatePosition",{x:this.me.x,y:this.me.y,connected:!1}),this.$store.dispatch("updateTyping",{typing:null})},trackCursor:function(t){if(this.resetDisconnectTimer(),!this.dragging){var e={uid:this.me.uid,x:(this.windowPos.x+t.clientX)/(this.windowSize.w*this.scale),y:(this.windowPos.y+t.clientY)/(this.windowSize.h*this.scale),connected:!0};this.$store.dispatch("updatePosition",e),this.pos=e,t.preventDefault()}},emitPos:function(){console.log("emit"),this.$socket.client.emit("position",this.pos)},trackInput:function(t){var e=this.$refs.input;"~"==e.value?this.navigation=!0:e.value.startsWith("!!!")?this.announcement=!0:e.value.includes("@")?this.mention=!0:e.value.includes("/stream")&&(this.stream=!0);var n=this.messagesByUser(this.me),s=n[0],i=n[n.length-1],o=n[n.indexOf(this.current)-1],r=n[n.indexOf(this.current)+1];38==t?n&&n.length>0&&(this.current?this.current=o||s:this.current=i,e.value=this.current.content,e.select()):40==t?n&&n.length>0&&(this.current&&r&&(this.current=r),e.value=this.current.content,e.select()):13==t?this.sendMessage():27==t&&(e.value="",e.blur()),this.$store.dispatch("updateTyping",{uid:this.me.uid,typing:27==t||""==e.value?"":"typing..."})}}}),Qt=Kt,te=(n("783d"),Object(x["a"])(Qt,Xt,Jt,!1,null,"5d6714f8",null)),ee=te.exports,ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["messageContainer","message"+t.message.uid,{hover:t.hovered,announcement:t.message.announcement}],style:{left:t.toNearestX(t.message.x,.2)+"%",top:t.toNearestX(t.message.y,.2)+"%","--blur":t.blur,"--userColor":"var(--"+t.message.authorUID+")"},attrs:{id:t.message.uid},on:{mouseover:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1}}},[t.message.censored?n("div",{staticClass:"message censored"},[t._v(" This message has been censored by a moderator. ")]):n("vue-markdown",{staticClass:"message",attrs:{source:t.message.content}}),n("div",{staticClass:"details"},[n("span",[t._v(" — ")]),n("span",{staticClass:"author",on:{click:function(e){return e.stopPropagation(),t.$emit("goTo",t.message.authorUID)}}},[t._v(t._s(t.message.author))]),n("span",{staticClass:"time"},[t._v(", "+t._s(t.fromNow(t.message.time)))]),t.isMe||t.moderator?n("span",[t._v(" ● ")]):t._e(),t.isMe||t.moderator?n("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.deleteMessage(t.message)}}},[t._v("delete")]):t._e(),t.moderator?n("span",[t._v(" ● ")]):t._e(),t.moderator?n("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.censorMessage(t.message)}}},[t._v(t._s(t.message.censored?"uncensor":"censor"))]):t._e()])],1)},se=[],ie={name:"Message",components:{},props:["isMe","message","isCompatible"],data:function(){return{hovered:!1,now:(new Date).getTime()}},computed:{moderator:function(){return this.$store.getters.me.moderator},blur:function(){if(this.isCompatible){var t=this.now,e=this.$store.state.users[this.message.authorUID].messageLifetime,n=this.message.time,s=t-n,i="blur(".concat(5*s/e,"px)");return i}return null}},created:function(){var t=this;setInterval((function(){t.now=(new Date).getTime()}),6e4)},methods:Object(b["a"])(Object(b["a"])({},Object(y["b"])(["deleteMessage","censorMessage"])),{},{fromNow:function(t){return Object(q["default"])(t).fromNow()},toNearestX:function(t,e){return Math.floor(100*t/e)*e}})},oe=ie,re=(n("fd40"),Object(x["a"])(oe,ne,se,!1,null,null,null)),ae=re.exports,ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"territory",style:{left:100*t.territory.borders.x+"%",top:100*t.territory.borders.y+"%",width:100*t.territory.borders.w+"%",height:100*t.territory.borders.h+"%","--ground":t.territory.color},attrs:{id:t.slug}},[t.scale<=7?n("svg",{staticClass:"shape",attrs:{viewBox:t.viewBox,preserveAspectRatio:"none"}},[n("path",{attrs:{fill:t.territory.color,d:t.d}})]):t._e(),"reception"===t.slug&&t.lifecycle>=0?n("Reception",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):t._e(),"readme"===t.slug&&t.lifecycle>=1?n("Readme",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"exhibition"===t.slug?n("Exhibition",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"schedule"===t.slug&&t.lifecycle>=1?n("Timetable",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"contributors"===t.slug&&t.lifecycle>=1?n("Contributors",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"study-room"===t.slug&&t.lifecycle>=1?n("StudyRoom",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"library"===t.slug&&t.lifecycle>=1?n("Library",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"glossary"===t.slug&&t.lifecycle>=1?n("Glossary",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"hangout"===t.slug&&t.lifecycle>=1?n("Hangout",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"livestream"===t.slug?n("Livestream",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):t.content?n("div",{staticClass:"placeholder",class:t.slug}):t._e()],1)},ue=[],le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.content,(function(e){return n("Island",{key:e.slug,attrs:{id:e.slug+"Island",section:e},nativeOn:{click:function(n){return t.$emit("moreInfo","/reception/"+e.slug)}}})})),1)},de=[],fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"island"},[n("div",{staticClass:"header"},[n("h1",{class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.section.Title)+" ")])])])},me=[],he={name:"Island",props:["section"]},pe=he,ge=(n("8dae"),Object(x["a"])(pe,fe,me,!1,null,"58fecb18",null)),ve=ge.exports,be={name:"Reception",components:{Island:ve},props:["content"]},ye=be,we=(n("e857"),Object(x["a"])(ye,le,de,!1,null,"953cd2e8",null)),_e=we.exports,Ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.content,(function(e){return n("Island",{key:e.slug,attrs:{id:e.slug+"Island",section:e},nativeOn:{click:function(n){return t.$emit("moreInfo","/readme/"+e.slug)}}})})),1)},ke=[],$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"island"},[n("div",{staticClass:"header"},[n("h1",{class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.section.Title)+" ")])])])},Te=[],xe={name:"Island",props:["section"]},Se=xe,Oe=(n("b2f8"),Object(x["a"])(Se,$e,Te,!1,null,"20c07e89",null)),Me=Oe.exports,Ie={name:"Readme",components:{Island:Me},props:["content"]},Le=Ie,Be=(n("77e6"),Object(x["a"])(Le,Ce,ke,!1,null,"e4e85630",null)),Pe=Be.exports,De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.content,(function(e){return n("Island",{key:e.slug,attrs:{id:e.slug+"Island",section:e},on:{moreInfo:function(n){return t.$emit("moreInfo","/exhibition/"+e.slug)}}})})),1)},Ee=[],Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["island",{active:t.active}]})},je=[],Ne={name:"Island",components:{},props:["section"],data:function(){return{active:!1,trackSrc:null}},computed:{videoUrl:function(){return this.$apiURL+this.section.File.url},trackUrl:function(){return this.section.Track?this.$apiURL+this.section.Track.url:null}},created:function(){},methods:{play:function(){this.active?(this.$refs.player.pause(),this.active=!1):(this.$refs.player.play(),this.active=!0)}}},ze=Ne,Ae=(n("9594"),Object(x["a"])(ze,Ue,je,!1,null,"11b59064",null)),Re=Ae.exports,He={name:"Exhibition",components:{Island:Re},props:["content"]},Fe=He,Ze=(n("2959"),Object(x["a"])(Fe,De,Ee,!1,null,"50b0492b",null)),qe=Ze.exports,We=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"timeZone"}},[n("h3",[t._v("Sessions are displayed in "+t._s(t.notEtc(t.timeZone))+" time.")]),t.isInDefaultTimeZone?t._e():n("h3",{staticClass:"toggle",on:{click:function(e){return e.stopPropagation(),t.toggleTimezone(e)}}},[t._v(" "+t._s(t.desiresOwnTimezone?"View sessions in "+t.notEtc(t.defaultTimeZone)+" time.":"View sessions in "+t.notEtc(t.ownTimeZone)+" time.")+" ")])]),t._l(t.parentDays,(function(e,s){return n("div",{key:s,staticClass:"parentDay"},t._l(e,(function(e){return n("div",{key:t.getDay(e.date),staticClass:"day"},[n("div",{staticClass:"date"},[t._v(" "+t._s(t.cuteDate(e.date))+" "),n("br"),n("em",[t._v(t._s("firstDay"===s?"Vernissage":"Workshop"))])]),n("div",{staticClass:"sessionsContainer"},t._l(e.sessions,(function(e){return n("div",{key:e.slug,class:["islandContainer",{buffer:e.buffer,break:t.isBreak(e),island:!e.Start}],style:{height:t.sizeByDuration(e)}},[e.Start?n("Island",{attrs:{id:e.slug+"Island",timeZone:t.timeZone,session:e},nativeOn:{click:function(n){return t.$emit("moreInfo","/schedule/"+e.slug)}}}):n("div",{staticClass:"staggered"},[n("div",{staticClass:"time"},[n("span",{staticClass:"start"},[t._v(t._s(t.getHumanTime(e[0].Start)))]),n("span",{staticClass:"bar"},[t._v(" | ")]),n("span",{staticClass:"end"},[t._v(" "+t._s(t.getHumanTime(e[e.length-1].End)))])]),t._l(e,(function(e){return n("Island",{key:e.slug,staticClass:"buffer",attrs:{id:e.slug+"Island",timeZone:t.timeZone,session:e},nativeOn:{click:function(n){return t.$emit("moreInfo","/schedule/"+e.slug)}}})}))],2)],1)})),0)])})),0)}))],2)},Ve=[],Ge=(n("4de4"),n("d81d"),n("d3b7"),n("07ac"),n("6062"),n("ddb0"),n("7f45")),Ye=n.n(Ge),Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["island"]},[n("div",{staticClass:"time"},[n("span",{staticClass:"start"},[t._v(t._s(t.HumanStart))]),n("span",{staticClass:"bar"},[t._v(" | ")]),n("span",{staticClass:"end"},[t._v(" "+t._s(t.HumanEnd))])]),n("div",{staticClass:"info"},[n("div",{staticClass:"header"},[n("h1",{staticClass:"title",class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.session.Title)+" ")])])]),t.soon?n("BBB-link",{attrs:{BBBLink:t.session.bbbURL},nativeOn:{mousedown:function(t){t.stopPropagation()},mouseup:function(t){t.stopPropagation()},click:function(t){t.stopPropagation()}}}):t._e()],1)},Je=[],Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"BBB-container",class:{disabled:!t.room.url},attrs:{target:"_blank",href:t.room.url?t.room.url:null}},[n("h3",{staticClass:"BBB"},[t._v(" Click here to join "+t._s(t.room.name)+". ")])])},Qe=[],tn={name:"BBBLink",components:{},props:["room"],data:function(){return{}},computed:{},created:function(){},methods:{}},en=tn,nn=(n("8e08"),Object(x["a"])(en,Ke,Qe,!1,null,"66e973b4",null)),sn=nn.exports,on={name:"Island",components:{BBBLink:sn},props:["session","timeZone"],watch:{timeZone:function(){this.HumanStart=this.getHumanTime(this.session.Start),this.HumanEnd=this.getHumanTime(this.session.End)}},data:function(){return{HumanStart:this.getHumanTime(this.session.Start),HumanEnd:this.getHumanTime(this.session.End)}},computed:{soon:function(){return!1}},created:function(){},methods:{getHumanTime:function(t){return Ye()(t).format("HH:mm")}}},rn=on,an=(n("92c2"),Object(x["a"])(rn,Xe,Je,!1,null,"816a562c",null)),cn=an.exports,un={name:"Timetable",components:{Island:cn},props:["content"],data:function(){return{defaultTimeZone:"Etc/UTC",ownTimeZone:Ye.a.tz.guess(),desiresOwnTimezone:!0,parentDays:{}}},computed:{timeZone:function(){return this.desiresOwnTimezone?this.ownTimeZone:this.defaultTimeZone},isInDefaultTimeZone:function(){return this.ownTimeZone===this.defaultTimeZone},isMobile:function(){return this.$store.state.isMobile}},created:function(){Ye.a.tz.setDefault(this.ownTimeZone),this.orderContentByDays()},methods:{orderContentByDays:function(){var t=this,e={firstDay:{},secondDay:{}},n=Object.values(this.content).sort((function(t,e){return new Date(t.Start)-new Date(e.Start)})),s=n.map((function(e){return t.getDay(e["Start"])})),i=Array.from(new Set(s)),o=9e5;i.forEach((function(s){for(var i=n.filter((function(e){return t.sessionInDay(e,s)})),r=0;r<i.length;r++){var a=i[r-1],c=i[r],u=i[r+1];c&&a&&u&&t.getUnixTime(c.Start)-t.getUnixTime(a.Start)<=o&&(i[r-1].buffer=!0,i[r].buffer=!0)}var l=i.filter((function(t){return t.buffer}));if(l.length>0){for(var d={},f=t.getUnixTime(l[0].Start),m=0;m<l.length;){d[f]||(d[f]=[]);var h=t.getUnixTime(l[m].Start);h-f<=4*o?(d[f].push(l[m]),m++):f=h}var p=function(e){var n=i.find((function(n){return t.getUnixTime(n.Start)===e})),s=i.indexOf(n),o=d[e],r=Object.values(o).length;i[s]=o,i.splice(s+1,r-1)};for(var g in d)p(g)}var v={date:i[0].Start,sessions:i},b="production"===t.$env?3==s||4==s||5==s?"firstDay":6==s||7==s||8==s?"secondDay":null:28==s||29==s||30==s?"firstDay":1==s||2==s||3==s?"secondDay":null;e[b][s]=v})),this.$set(this,"parentDays",e)},sessionInDay:function(t,e){return this.getDay(t.Start)===e},toggleTimezone:function(){this.desiresOwnTimezone=!this.desiresOwnTimezone,Ye.a.tz.setDefault(this.timeZone),this.orderContentByDays()},sizeByDuration:function(t){var e=t.length,n=e?t[0].Start:t.Start,s=e?2*t[e-1].End:t.End,i=this.getUnixTime(n),o=this.getUnixTime(s),r=o-i,a=r/25e4,c=this.isMobile?.6:1,u="calc(".concat(a*c," * var(--one))");return u},notEtc:function(t){return"Etc/UTC"===t?"UTC":t},isBreak:function(t){return"Break"===t.Title},getHumanTime:function(t){return Ye()(t).format("HH:mm")},getUnixTime:function(t){return Ye()(t).format("x")},getDay:function(t){return Ye()(t).format("D")},cuteDate:function(t){return Ye()(t).format("dddd, MMMM Do")}}},ln=un,dn=(n("7209"),Object(x["a"])(ln,We,Ve,!1,null,"cb0e8528",null)),fn=dn.exports,mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.content,(function(e){return n("Island",{key:e.slug,attrs:{id:e.slug+"Island",section:e},nativeOn:{click:function(n){return t.$emit("moreInfo","/contributors/"+e.slug)}}})})),1)},hn=[],pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"island"},[n("div",{staticClass:"header"},[n("h1",{class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.section.Name)+" ")])])])},gn=[],vn={name:"Island",props:["section"]},bn=vn,yn=(n("9a48"),Object(x["a"])(bn,pn,gn,!1,null,"f0abe68c",null)),wn=yn.exports,_n={name:"Contributors",components:{Island:wn},props:["content"]},Cn=_n,kn=(n("32d9"),Object(x["a"])(Cn,mn,hn,!1,null,"392cb476",null)),$n=kn.exports,Tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"studyRoom"},[n("div",{staticClass:"schedule"},[n("div",{attrs:{id:"timeZone"}},[n("h3",[t._v("Sessions are displayed in "+t._s(t.notEtc(t.timeZone))+" time.")]),t.isInDefaultTimeZone?t._e():n("h3",{staticClass:"toggle",on:{click:function(e){return e.stopPropagation(),t.toggleTimezone(e)}}},[t._v(" "+t._s(t.desiresOwnTimezone?"View sessions in "+t.notEtc(t.defaultTimeZone)+" time.":"View sessions in "+t.notEtc(t.ownTimeZone)+" time.")+" ")])]),t._l(t.sessionsByDay,(function(e){return n("div",{key:t.getDay(e.date),staticClass:"day"},t._l(e.sessions,(function(s){return n("div",{key:s.slug,staticClass:"islandContainer",attrs:{id:s.slug+"Island"}},[n("div",{staticClass:"date"},[t._v(" "+t._s(t.cuteDate(e.date))+" ")]),n("div",{staticClass:"time"},[n("span",{staticClass:"start"},[t._v(t._s(t.getHumanTime(s.Start)))]),n("span",{staticClass:"end"},[t._v(" "+t._s(t.getHumanTime(s.End)))])]),n("Island",{attrs:{session:s},nativeOn:{click:function(e){return t.$emit("moreInfo","/study-room/"+s.slug)}}})],1)})),0)}))],2),n("div",{staticClass:"room"},[n("div",{staticClass:"island"},[n("BBBLink",{attrs:{room:t.bbbRoom}})],1)])])},xn=[],Sn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["island",{break:t.isBreak}]},[n("div",{staticClass:"info"},[n("div",{staticClass:"header"},[n("h1",{staticClass:"title",class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.session.Title)+" ")])])]),t.soon?n("BBB-link",{attrs:{BBBLink:t.session.bbbURL},nativeOn:{mousedown:function(t){t.stopPropagation()},mouseup:function(t){t.stopPropagation()},click:function(t){t.stopPropagation()}}}):t._e()],1)},On=[],Mn={name:"Island",components:{BBBLink:sn},props:["session"],data:function(){return{}},computed:{soon:function(){return!1},hosts:function(){return this.session.hosts},moderators:function(){return this.session.moderators},isBreak:function(){return!this.session.Description||0===this.session.Description.length}},created:function(){},methods:{}},In=Mn,Ln=(n("b7cf"),Object(x["a"])(In,Sn,On,!1,null,"2eb835a0",null)),Bn=Ln.exports,Pn={name:"StudyRoom",components:{Island:Bn,BBBLink:sn},props:["content"],data:function(){return{defaultTimeZone:"Etc/UTC",ownTimeZone:Ye.a.tz.guess(),desiresOwnTimezone:!0,sessionsByDay:{},bbbRoom:{name:"Study Room",url:""}}},computed:{timeZone:function(){return this.desiresOwnTimezone?this.ownTimeZone:this.defaultTimeZone},isInDefaultTimeZone:function(){return this.ownTimeZone===this.defaultTimeZone}},created:function(){Ye.a.tz.setDefault(this.ownTimeZone),this.orderContentByDays()},methods:{orderContentByDays:function(){var t=this,e={},n=Object.values(this.content).sort((function(t,e){return new Date(t.Start)-new Date(e.Start)})),s=n.map((function(e){return t.getDay(e["Start"])})),i=Array.from(new Set(s));i.forEach((function(s){var i=n.filter((function(e){return t.sessionInDay(e,s)})),o={date:i[0].Start,sessions:i};e[o.date]=o})),this.$set(this,"sessionsByDay",e)},toggleTimezone:function(){this.desiresOwnTimezone=!this.desiresOwnTimezone,Ye.a.tz.setDefault(this.timeZone),this.orderContentByDays()},sessionInDay:function(t,e){return this.getDay(t.Start)===e},sizeByDuration:function(t){var e=this.getUnixTime(t.Start),n=this.getUnixTime(t.End),s=n-e,i=this.isBreak(t)?8:s/45e4,o="calc(".concat(i," * var(--one))");return o},notEtc:function(t){return"Etc/UTC"===t?"UTC":t},isBreak:function(t){return"Break"===t.Title},getHumanTime:function(t){return Ye()(t).format("HH:mm")},getUnixTime:function(t){return Ye()(t).format("x")},getDay:function(t){return Ye()(t).format("D")},cuteDate:function(t){return Ye()(t).format("dddd, MMMM Do")}}},Dn=Pn,En=(n("2066"),Object(x["a"])(Dn,Tn,xn,!1,null,"4585a564",null)),Un=En.exports,jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"posterListContainer"},[n("div",{staticClass:"nonposters"},t._l(t.nonposters,(function(t){return n("Island",{key:t.slug,ref:t.slug,refInFor:!0,attrs:{id:t.slug+"Island",section:t}})})),1),n("div",{staticClass:"posters"},t._l(t.posters,(function(t){return n("Island",{key:t.slug,ref:t.slug,refInFor:!0,attrs:{id:t.slug+"Island",section:t}})})),1)]),n("Island",{ref:"upload",staticClass:"submit",attrs:{section:t.uploadSection,id:t.uploadSection.slug+"Island"},nativeOn:{click:function(e){return t.$emit("moreInfo","/library/"+t.uploadSection.slug)}}})],1)},Nn=[],zn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"island resource"},[n("a",{staticClass:"header",attrs:{href:t.src,target:"_blank"}},[n("h3",[t._v(" "+t._s(t.section.author)+" ")]),n("h1",[t._v(" "+t._s(t.section.Name)+" ")])])])},An=[],Rn={name:"Island",props:["section"],computed:{src:function(){return this.section.File?this.$apiURL+this.section.File.url:this.section.URL}}},Hn=Rn,Fn=(n("d76d"),Object(x["a"])(Hn,zn,An,!1,null,"7514f0c3",null)),Zn=Fn.exports,qn={name:"Library",components:{Island:Zn},props:["content"],computed:{nonposters:function(){return Object.values(this.content).filter((function(t){return!0!==t.Poster})).sort((function(t,e){return new Date(e.updated_at)-new Date(t.updated_at)}))},posters:function(){return Object.values(this.content).filter((function(t){return!0===t.Poster})).sort((function(t,e){return new Date(e.updated_at)-new Date(t.updated_at)}))}},data:function(){return{uploadSection:{Name:"Submit a resource",slug:"upload"}}}},Wn=qn,Vn=(n("6f69"),Object(x["a"])(Wn,jn,Nn,!1,null,"40d71982",null)),Gn=Vn.exports,Yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.content,(function(e){return n("Island",{key:e.slug,attrs:{id:e.slug+"Island",section:e},nativeOn:{click:function(n){return t.$emit("moreInfo","/glossary/"+e.slug)}}})})),n("Island",{ref:"upload",staticClass:"submit",attrs:{section:t.uploadSection,id:t.uploadSection.slug+"Island"},nativeOn:{click:function(e){return t.$emit("moreInfo","/glossary/"+t.uploadSection.slug)}}})],2)},Xn=[],Jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"island"},[n("div",{staticClass:"header"},[n("h1",{class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.section.Term)+" ")])])])},Kn=[],Qn={name:"Island",props:["section"]},ts=Qn,es=(n("a7e2"),Object(x["a"])(ts,Jn,Kn,!1,null,"55b4202e",null)),ns=es.exports,ss={name:"Glossary",components:{Island:ns},props:["content"],data:function(){return{uploadSection:{Term:"Submit a glossary term",slug:"submit"}}}},is=ss,os=(n("f0e4"),Object(x["a"])(is,Yn,Xn,!1,null,"4495a7ca",null)),rs=os.exports,as=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.rooms,(function(t,e){return n("div",{key:e,class:["island","BBBisland"+e]},[n("BBBLink",{attrs:{room:t}})],1)})),n("div",{attrs:{id:"participantsIndicator"}}),n("div",{attrs:{id:"BBBIndicator"}})],2)},cs=[],us={name:"Hangout",components:{BBBLink:sn},data:function(){return{rooms:{1:{name:"Room 1",url:"https://bbb.tbm.tudelft.nl/b/3rd-yns-svo-fbn"},2:{name:"Room 2",url:"https://bbb.tbm.tudelft.nl/b/3rd-qmb-3gn-3ql"},3:{name:"Room 3",url:"https://bbb.tbm.tudelft.nl/b/3rd-scf-jhq-5qv"}}}}},ls=us,ds=(n("1580"),Object(x["a"])(ls,as,cs,!1,null,"ab51647a",null)),fs=ds.exports,ms=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Island")],1)},hs=[],ps=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"island"},[n("div",{staticClass:"body"},[n("Video")],1)])},gs=[],vs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("video",{attrs:{muted:"",crossorigin:"anonymous",controls:t.controls,autoplay:"",tabindex:"-1"},domProps:{muted:!0}})},bs=[],ys=n("dff4"),ws=n.n(ys),_s={name:"Video",components:{},props:["desiresPosition","muted","playing","fullscreen"],data:function(){return{controls:!1}},computed:{playbackId:function(){return this.$store.state.stream.playbackId}},watch:{playbackId:function(){this.updateVideo()},desiresPosition:function(t){this.active&&(this.$el.currentTime=t*this.$el.duration)},playing:function(t){t?this.$el.play():this.$el.pause()},muted:function(t){this.$el.muted=!!t},fullscreen:function(t){var e=this;t&&(this.$el.requestFullScreen?this.$el.requestFullScreen():this.$el.mozRequestFullScreen?this.$el.mozRequestFullScreen():this.$el.webkitRequestFullScreen&&this.$el.webkitRequestFullScreen(),setTimeout((function(){e.controls=!0}),300))}},mounted:function(){var t=this;this.isMobile&&(this.controls=!0),this.playbackId&&this.updateVideo();var e=["","webkit","moz","ms"];e.forEach((function(e){t.$el.addEventListener(e+"fullscreenchange",(function(){window.innerHeight!==screen.height&&(t.$emit("unfullscreened"),t.isMobile||(t.controls=!1))}))})),this.$el.addEventListener("timeupdate",(function(){var e=t.$el.currentTime/t.$el.duration;t.$emit("elapsed",e)}))},methods:{src:function(t){return"https://bbb.tbm.tudelft.nl/hls/".concat(t,".m3u8")},updateVideo:function(){console.log("updating video");var t=this.playbackId,e=this.src(t),n=this.$el;if(console.log("src:",e),ws.a.isSupported()){var s=new ws.a;s.loadSource(e),s.attachMedia(n),s.on(ws.a.Events.MANIFEST_PARSED,(function(){n.play()}))}else n.canPlayType("application/vnd.apple.mpegurl")&&(n.src=e,n.addEventListener("loadedmetadata",(function(){n.play()})))}}},Cs=_s,ks=(n("cf06"),Object(x["a"])(Cs,vs,bs,!1,null,null,null)),$s=ks.exports,Ts={name:"Island",components:{Video:$s}},xs=Ts,Ss=(n("db96"),Object(x["a"])(xs,ps,gs,!1,null,"0ecde456",null)),Os=Ss.exports,Ms={name:"Livestream",components:{Island:Os}},Is=Ms,Ls=(n("4f29"),Object(x["a"])(Is,ms,hs,!1,null,"3f304efc",null)),Bs=Ls.exports,Ps={name:"Territory",components:{Reception:_e,Readme:Pe,Exhibition:qe,Timetable:fn,Contributors:$n,StudyRoom:Un,Library:Gn,Glossary:rs,Hangout:fs,Livestream:Bs},props:["territory"],data:function(){return{d:null,viewBox:null}},computed:{scale:function(){return this.$store.state.scale},lifecycle:function(){return this.$store.state.lifecycle},slug:function(){return this.territory.slug},content:function(){return this.territory.content}},created:function(){var t=this;this.$http.get("".concat(this.$apiURL).concat(this.territory.shape.url)).then((function(e){t.d=e.data.match(/ d="([\s\S]*?)"/g)[0].replace(' d="',"").replace('"',""),t.viewBox=e.data.match(/ viewBox="([\s\S]*?)"/g)[0].replace(' viewBox="',"").replace('"',"")}))},mounted:function(){},methods:{}},Ds=Ps,Es=(n("8f98"),Object(x["a"])(Ds,ce,ue,!1,null,"1d4861ca",null)),Us=Es.exports,js=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui",attrs:{id:"list"}},t._l(t.territories,(function(e){return n("Territory",{key:e.slug,attrs:{territory:e},nativeOn:{click:function(n){return t.handleTerritoryClick(e)}}})})),1)},Ns=[],zs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{class:["list-territory",{active:t.isActive}],style:{"--ground":t.territory.color,"--image":t.shape},attrs:{id:"list-"+t.territory.slug,tabindex:"0"}},[n("span",{staticClass:"name"},[t._v(t._s(t.territory.name))]),n("span",{staticClass:"goto"},[t._v(" → ")])])},As=[],Rs={name:"Territory",props:["territory"],computed:{location:function(){return this.$store.state.location},shape:function(){return'url("'.concat(this.$apiURL).concat(this.territory.shape.url,'#svgView(preserveAspectRatio(none))")')},isActive:function(){return this.territory.slug===this.location.slug}}},Hs=Rs,Fs=(n("d009"),Object(x["a"])(Hs,zs,As,!1,null,null,null)),Zs=Fs.exports,qs={name:"List",components:{Territory:Zs},computed:Object(b["a"])({},Object(y["e"])({territories:function(t){return t.territories}})),methods:{handleTerritoryClick:function(t){this.$emit("goTo",t.slug)}}},Ws=qs,Vs=(n("8aaf"),Object(x["a"])(Ws,js,Ns,!1,null,"2ca60a2c",null)),Gs=Vs.exports,Ys=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{hover:t.hover},attrs:{id:"tickerContainer"},on:{mouseover:function(e){e.stopPropagation(),t.hover=!0},mousemove:function(e){return e.stopPropagation(),t.handleMousemove(e)},mouseout:function(e){e.stopPropagation(),t.hover=!1},mouseup:function(e){e.stopPropagation(),t.href&&t.$router.push(t.href)}}},[n("div",{ref:"smarq",style:{transform:"translateX("+t.x+"px)"},attrs:{id:"ticker"}},[n("vue-markdown",{staticClass:"content",attrs:{inline:""}},[t._v(" "+t._s(t.content)+" ")])],1)])},Xs=[],Js=(n("9911"),n("5370")),Ks=n.n(Js),Qs={name:"Ticker",components:{},props:["marquee"],data:function(){return{hover:!1,x:0}},computed:{location:function(){return this.$store.state.location},phrase:function(){return this.$store.state.ticker.phrase},href:function(){return this.$store.state.ticker.link},content:function(){for(var t="",e=0;e<20;e++)t=t+this.phrase+" ";return t}},watch:{marquee:function(){this.handleSmarquee()}},mounted:function(){this.smarquee=new Ks.a({element:this.$refs.smarq,iterationCount:"infinite"}),this.smarquee.init(),this.handleSmarquee()},methods:{handleMousemove:function(t){this.marquee||(this.x=t.clientX)},handleSmarquee:function(){this.marquee?this.smarquee.play():this.smarquee.pause()}}},ti=Qs,ei=(n("bf0d"),Object(x["a"])(ti,Ys,Xs,!1,null,"4e16cd9a",null)),ni=ei.exports,si=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["overlayContainer",{visible:t.desiresOverlay},{hidden:t.isGeneral}]},[n("div",{attrs:{id:"infoTitle"}},[n("span",{class:["ui","infoToggle","hide",{hidden:!t.desiresOverlay}],attrs:{tabindex:t.desiresOverlay?0:-1},on:{click:function(e){return t.$emit("hideOverlay")}}},[t._v(" hide > ")]),n("span",{class:["ui","infoToggle","show",{hidden:t.desiresOverlay}],attrs:{tabindex:t.desiresOverlay?-1:0},on:{click:function(e){!t.dragging&&t.$emit("showOverlay")}}},[t._v(" < info ")])]),t.content?n("div",{ref:"overlay",class:["ui","overlay",t.content.slug],attrs:{tabindex:"-1"}},[t.content.Sections?t.content.Sections?n("article",{staticClass:"content"},[t._l(t.content.Sections,(function(t){return n("Section",{key:t.id,attrs:{section:t}})})),t.isRegister?n("div",{attrs:{id:"aanmelderContainer"}},[n("a",{attrs:{id:"backupLink",href:"https://www.aanmelder.nl/wo2021/subscribe"}},[t._v("Register online for the event.")]),n("div",{attrs:{id:"AanmelderRootDiv"}})]):t._e()],2):t._e():n("article",{staticClass:"content"},[t.isUpload?n("Upload",{ref:"upload",attrs:{sending:t.sending,sent:t.sent,collection:t.content.collection},on:{sending:function(e){t.sending=!t.sending},sent:function(e){t.sent=!t.sent,t.sending=!1}}}):n("Section",{attrs:{section:t.content}})],1)]):t._e(),t.content&&t.isUpload?n("div",{staticClass:"submitContainer"},[t.sending?t._e():n("input",{ref:"submit",staticClass:"ui submit",attrs:{type:"button",collection:t.content.type,value:t.sent?"submit another":"submit"},on:{click:function(e){return e.stopPropagation(),t.$refs.upload.submit(e)}}})]):t._e(),!t.content||"tour"!==t.content.slug||t.isMobile||t.touring?t._e():n("div",{staticClass:"submitContainer"},[n("input",{ref:"startTour",staticClass:"ui submit",attrs:{type:"button",value:"Start Guided Tour"},on:{click:function(e){return e.stopPropagation(),t.$emit("startTour")}}})])])},ii=[],oi=n("d10b"),ri=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.titleGoesFirst?n("div",{staticClass:"header"},[n("h1",{staticClass:"title",class:{zxx:t.$store.state.desiresTexture}},[t._v(t._s(t.title))]),n("h3",{staticClass:"byline subtitle"},[t._v(t._s(t.subtitle))])]):n("div",{staticClass:"header"},[n("h3",{staticClass:"byline subtitle"},[t._v(t._s(t.subtitle))]),n("h1",{staticClass:"title",class:{zxx:t.$store.state.desiresTexture}},[t._v(t._s(t.title))])]),t.chairs&&t.chairs.length>0?n("SemanticList",{attrs:{collection:"contributors",list:t.chairs,name:"Chair"}}):t._e(),t.hosts&&t.hosts.length>0?n("SemanticList",{attrs:{list:t.hosts,collection:"contributors",name:"Speaker"}}):t._e(),t.moderators&&t.moderators.length>0?n("SemanticList",{attrs:{list:t.moderators,collection:"contributors",name:"Moderator"}}):t._e(),t.notetakers&&t.notetakers.length>0?n("SemanticList",{attrs:{list:t.notetakers,collection:"contributors",name:"Note-taker"}}):t._e(),t.mentors&&t.mentors.length>0?n("SemanticList",{attrs:{collection:"contributors",list:t.mentors,name:"Mentor"}}):t._e(),t.chairing&&t.chairing.length>0?n("SemanticList",{attrs:{collection:"schedule",list:t.chairing,name:"Chairing"}}):t._e(),t.hosting&&t.hosting.length>0?n("SemanticList",{attrs:{collection:"schedule",list:t.hosting,name:"Hosting"}}):t._e(),t.moderating&&t.moderating.length>0?n("SemanticList",{attrs:{collection:"schedule",list:t.moderating,name:"Moderating"}}):t._e(),t.notetaking&&t.notetaking.length>0?n("SemanticList",{attrs:{collection:"schedule",list:t.notetaking,name:"Note-taking"}}):t._e(),t.mentoring&&t.mentoring.length>0?n("SemanticList",{attrs:{collection:"study-room",list:t.mentoring,name:"Mentoring"}}):t._e(),n("div",{staticClass:"body"},[n("vue-markdown",{attrs:{source:t.body}})],1),t.resources?n("div",{staticClass:"body"},[t.resources.length>0?n("div",[n("p",[t._v(" References: ")]),t._l(t.resources,(function(e){return n("ul",{key:e.Name},[n("li",[n("a",{staticClass:"name",attrs:{href:"/library/"+e.slug}},[t._v(t._s(e.Name))])])])}))],2):t._e()]):t._e(),n("div",{staticClass:"footer"},[t.source?n("vue-markdown",{attrs:{source:t.source}}):t._e()],1)],1)},ai=[],ci=(n("a4d3"),n("e01a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"body"},[n("span",{class:t.name+"s"},[n("span",[t._v(" "+t._s(t.title)+" ")]),t._l(t.list,(function(e){return n("span",{key:e.Name||e.Title,class:t.name},[n("a",{staticClass:"name",attrs:{href:"/"+t.collection+"/"+e.slug}},[t._v(t._s(e.Name||e.Title))]),t.isLast(e,t.list)?n("span",[t._v(". ")]):t.isBeforeLast(e,t.list)?n("span",[t._v(" and ")]):n("span",[t._v(", ")])])}))],2)])}),ui=[],li={name:"SemanticList",props:["list","name","collection"],data:function(){return{}},computed:{title:function(){return"Hosting"==this.name?"Participates in":1===this.list.length?this.name+":":this.name+"s:"}},created:function(){},methods:{isLast:function(t,e){return e.indexOf(t)===e.length-1},isBeforeLast:function(t,e){return e.indexOf(t)===e.length-2},alphabetical:function(t){return t.sort((function(t,e){return t.Name.length-e.Name.length}))}}},di=li,fi=(n("27b3"),Object(x["a"])(di,ci,ui,!1,null,"63b797c8",null)),mi=fi.exports,hi={components:{SemanticList:mi},name:"Section",props:["section"],data:function(){return{}},computed:{subtitle:function(){return this.getSubtitle()},title:function(){return this.getTitle()},body:function(){return this.getBody()},source:function(){return this.getSource()},chairs:function(){return this.section.chairs},hosts:function(){return this.section.hosts},moderators:function(){return this.section.moderators},notetakers:function(){return this.section.notetakers},mentors:function(){return this.section.Mentors},chairing:function(){return this.section.chairing},hosting:function(){return this.section.hosting},moderating:function(){return this.section.moderating},notetaking:function(){return this.section.notetaking},mentoring:function(){return this.section.Mentoring},resources:function(){return this.section.references},titleGoesFirst:function(){return this.section.Name}},watch:{body:function(){this.handleLinks()}},created:function(){},mounted:function(){this.handleLinks()},methods:{getSubtitle:function(){return this.section.Subtitle?this.section.Subtitle:this.section.Institution?this.section.Institution:this.section.Start?Object(q["default"])(this.section.Start).format("dddd, MMMM Do [at] HH:mm z"):""},getTitle:function(){return this.section.Title||this.section.title||this.section.Name||this.section.name||this.section.Term||""},getBody:function(){return this.processBody(this.section.Body||this.section.body||this.section.Description||this.section.description||this.section.Bio||this.section.Definition||"")},getSource:function(){return this.section.Source||this.section.link},processBody:function(t){return t&&(t=t.replace(/\]\(\/uploads\//g,"](".concat(this.$apiURL,"/uploads/"))),t},isLast:function(t,e){return e.indexOf(t)===e.length-1},isBeforeLast:function(t,e){return e.indexOf(t)===e.length-2},alphabetical:function(t){return t.sort((function(t,e){return t.Name.length-e.Name.length}))},handleLinks:function(){var t=this;setTimeout((function(){Array.from(document.querySelectorAll("section a")).forEach((function(e){var n=e.attributes.href.value;n&&(n.startsWith("/")||n.startsWith(t.$sokURL))&&e.addEventListener("click",(function(e){var s=n.replace(t.$sokURL,"/");t.$router.push(s),e.preventDefault()}))}))}),500)}}},pi=hi,gi=(n("bf0e"),Object(x["a"])(pi,ri,ai,!1,null,"578ed776",null)),vi=gi.exports,bi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{class:{isLibrary:!t.isGlossary}},[t.sent?n("div",{staticClass:"status"},[n("p",[t._v("Post received!")]),n("p",[t._v("A moderator will review your submission before publishing it.")])]):t.sending?n("div",{staticClass:"status"},[n("p",[t._v("Posting...")])]):n("form",[t.isGlossary?t._e():n("input",{ref:"author",class:["ui","authors"],attrs:{type:"text",required:"",placeholder:"Author(s)"},on:{input:function(e){t.bodyShort=!1}}}),t.bodyShort?n("p",{staticClass:"error"},[t._v("This field is required")]):t._e(),n("input",{ref:"title",class:["ui","title",{invalid:t.titleShort,zxx:t.$store.state.desiresTexture}],attrs:{type:"text",required:"",placeholder:t.titlePlaceholder},on:{input:function(e){t.titleShort=!1}}}),t.titleShort?n("p",{staticClass:"error"},[t._v("This field is required")]):t._e(),t.isGlossary?n("textarea",{ref:"body",class:["ui","body",{invalid:t.bodyShort}],attrs:{placeholder:t.bodyPlaceholder,required:""},on:{input:t.adjustHeight}}):t._e(),t.bodyShort?n("p",{staticClass:"error"},[t._v("This field is required")]):t._e(),n("input",{ref:"source",class:["ui","footer",{invalid:t.sourceShort}],attrs:{type:"url",placeholder:"Enter source URL"},on:{input:function(e){t.sourceShort=!1}}}),t.sourceShort?n("p",{staticClass:"error"},[t._v("This field is required")]):t._e(),t.isGlossary?t._e():n("div",{staticClass:"fileupload"},[n("span",[t._v("Or upload a file:")]),n("input",{ref:"file",class:["ui","footer"],attrs:{type:"file"},on:{input:t.handleFile}})]),t.tooBig?n("p",{staticClass:"error"},[t._v("File must be smaller than 20MB.")]):t._e(),t.isGlossary?t._e():n("div",{staticClass:"postertoggle"},[n("span",[t._v("Poster: ")]),n("input",{ref:"poster",class:["ui","footer"],attrs:{type:"checkbox"},on:{input:function(e){t.isPoster,t.isPoster}}})])])])},yi=[],wi={name:"Upload",props:["sending","sent","collection"],data:function(){return{titleShort:!1,bodyShort:!1,sourceShort:!1,tooBig:!1,isPoster:!1}},computed:{isGlossary:function(){return"glossary"===this.collection},titlePlaceholder:function(){return this.isGlossary?"Enter Term":"Title to display"},bodyPlaceholder:function(){return this.isGlossary?"Enter definition":"Author(s)"}},watch:{},created:function(){},mounted:function(){this.isGlossary?this.$refs.title.focus():this.$refs.author.focus()},methods:{submit:function(){this.isGlossary?this.submitTerm():this.submitResource()},submitTerm:function(){if(this.sent)this.$emit("sent");else{var t=this.$refs.title.value,e=this.$refs.body.value,n=this.$refs.source.value;0!=t.length?0!=e.length?this.titleShort||this.bodyShort||this.sendTerm(t,e,n):this.bodyShort=!0:this.titleShort=!0}},sendTerm:function(t,e,n){var s=this;this.$emit("sending");var i="glossaries",o={Term:t,Definition:e,Source:n,published_at:null},r=new FormData;r.append("data",JSON.stringify(o)),this.$http.post("".concat(this.$apiURL,"/").concat(i),r).then((function(t){console.log(t.status),s.$emit("sent")})).catch((function(t){console.log(t)}))},submitResource:function(){if(this.sent)this.$emit("sent");else{var t=this.$refs.author.value,e=this.$refs.title.value,n=this.$refs.source.value,s=this.$refs.file.files[0],i=this.$refs.poster.checked;0!=e.length?0!=t.length?this.titleShort||this.bodyShort||this.tooBig||this.sendResource(t,e,n,s,i):this.bodyShort=!0:this.titleShort=!0}},sendResource:function(t,e,n,s,i){var o=this;this.$emit("sending");var r="libraries",a={Name:e,author:t,URL:n,published_at:null,Poster:i},c=new FormData;console.log(a),c.append("data",JSON.stringify(a)),s&&c.append("files.File",s,s.name),this.$http.post("".concat(this.$apiURL,"/").concat(r),c).then((function(t){console.log(t.status),o.$emit("sent")})).catch((function(t){console.log(t)}))},handleFile:function(t){this.tooBig=t.currentTarget.files[0].size>20971520},adjustHeight:function(){this.bodyShort=!1;var t=100,e=this.$refs.body,n=parseInt(window.getComputedStyle(e).height,10),s=n-e.clientHeight+5;e.style.height="0px",e.style.height=Math.max(t,e.scrollHeight+s)+"px"}}},_i=wi,Ci=(n("2db9"),Object(x["a"])(_i,bi,yi,!1,null,"66830630",null)),ki=Ci.exports,$i={name:"Overlay",components:{Section:vi,Upload:ki},props:["dragging","content","isGeneral","desiresOverlay","touring"],mixins:[oi["a"]],data:function(){return{isRegister:!1,sending:!1,sent:!1}},computed:{isMobile:function(){return this.$store.state.isMobile},isUpload:function(){return"upload"===this.content.slug||"submit"===this.content.slug}},watch:{content:function(){this.scrollTop(),this.handleAanmelder()}},mounted:function(){this.$smoothElement({el:this.$el,hideOverflow:!0,transition:"all 0.2s ease"}),this.scrollTop(),this.handleAanmelder()},methods:{scrollTop:function(){var t=this;this.$refs.overlay&&0!==this.$refs.overlay.scrollTop&&setTimeout((function(){t.$refs.overlay.scroll({top:0,behavior:"smooth"})}),200)},handleAanmelder:function(){if(this.content&&"register"===this.content.slug){this.isRegister=!0;var t=document.createElement("script");t.setAttribute("src",this.$aanURL),document.head.appendChild(t)}else this.isRegister=!1}}},Ti=$i,xi=(n("e439c"),Object(x["a"])(Ti,si,ii,!1,null,"3c157e83",null)),Si=xi.exports,Oi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{navigating:t.navigating},style:{"--region":t.$store.state.location.color},attrs:{id:"tour"}},[n("v-tour",{attrs:{name:"tour",steps:t.steps,callbacks:t.callbacks,options:t.options},scopedSlots:t._u([{key:"default",fn:function(e){return[n("transition",{attrs:{name:"fade"}},[e.steps[e.currentStep]?n("v-step",{key:e.currentStep,class:{isLast:e.currentStep==e.steps.length-1},attrs:{step:e.steps[e.currentStep],"previous-step":e.previousStep,"next-step":e.nextStep,stop:e.stop,skip:e.skip,finish:e.finish,"is-first":e.isFirst,"is-last":e.isLast,labels:e.labels,highlight:e.highlight}},[n("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[t.isException(e.steps[e.currentStep])||0==e.currentStep?n("input",{staticClass:"ui button",attrs:{type:"button",value:"next"},on:{click:function(t){return t.stopPropagation(),e.nextStep(t)}}}):t._e(),e.currentStep!==e.steps.length-1?n("input",{staticClass:"ui button skip",attrs:{type:"button",value:"skip tour"},on:{click:function(t){return t.stopPropagation(),e.skip(t)}}}):n("input",{staticClass:"ui button end",attrs:{type:"button",value:"end tour"},on:{click:function(t){return t.stopPropagation(),e.skip(t)}}})])]):t._e()],1)]}}])})],1)},Mi=[],Ii={name:"my-tour",props:["editing"],data:function(){var t=this;return{navigating:!1,exceptions:[".overlayContainer","#overlay .overlay","#addressBar","#participantsIndicator","#register","#options .storage .button","#userlist ul","#userlist ul .userLabel","#BBBIndicator",".BBBisland1"],options:{useKeyboardNavigation:!1,debug:!1,highlight:!0},steps:[{target:"#list",content:"This website is spacially organised and divided into so-called regions.",params:{enableScrolling:!1,placement:"right-start"}},{target:"#list",content:"To navigate to a region, you can use this list. <br><br> Go to the Schedule to proceed.",params:{enableScrolling:!1,placement:"right-start"}},{target:"#navHandle .map",content:"You can also switch to the map view.",params:{enableScrolling:!1,placement:"right"},before:function(){return new Promise((function(e){setTimeout((function(){"schedule"===t.$store.state.location.slug&&e("1")}),1e3)}))}},{target:"#minimap",content:"Here, you can zoom in or out or pan around.<br><br> Zoom out to proceed.",params:{enableScrolling:!1,placement:"right-start"}},{target:"#minimap .zero",content:'Click the "o" button to zoom back to default.',params:{enableScrolling:!1,placement:"right"},before:function(){return new Promise((function(e){t.$store.state.scale<7&&setTimeout((function(){e("1")}),700)}))}},{target:"#overlay .overlay",content:"When arriving to a region, a pop-up appears providing more information and region-specific instructions.",params:{enableScrolling:!1,placement:"left"},before:function(){return new Promise((function(e){t.$emit("goTo","/schedule"),t.$emit("focusOverlay"),setTimeout((function(){e("1")}),1e3)}))}},{target:"#overlay .hide",content:'You can hide it using the "hide" button.',params:{enableScrolling:!1,placement:"bottom"}},{target:"#location .tag",content:"The pop-up can always be brought back using the dynamic location tag.",params:{enableScrolling:!1,placement:"bottom"},before:function(){return new Promise((function(e){t.$emit("unfocusOverlay"),t.$emit("focusLocation"),e("1")}))}},{target:"#openingIsland",content:"Regions come with blocks that represent a second layer of information, such as a session, glossary term, article or video. Clicking on the block reveals its contents in the pop-up.",params:{enableScrolling:!1,placement:"top"},before:function(){return new Promise((function(e){t.$emit("hideNav"),t.$emit("focusIsland"),e("1"),setTimeout((function(){t.$emit("unfocusLocation")}),300)}))}},{target:"#addressBar",content:"You can share the URL to any region or block from the address bar.",params:{enableScrolling:!1,placement:"bottom"},before:function(){return new Promise((function(e){t.$emit("unfocusIsland"),t.$emit("focusOverlay"),e("1")}))}},{target:"#list",content:"Navigate to the Cursor Hangout to continue.",params:{enableScrolling:!1,placement:"right-start"},before:function(){return new Promise((function(e){t.$emit("unfocusOverlay"),t.$emit("showNav"),setTimeout((function(){e("1")}),300)}))}},{target:"#participantsIndicator",content:"This platform displays participants and their messages in real time.",params:{enableScrolling:!1,placement:"top",highlight:!1},before:function(){return new Promise((function(e){setTimeout((function(){"hangout"===t.$store.state.location.slug&&e("1")}),1e3)}))}},{target:"#options .edituser .button",content:'When you first landed, you were prompted to create a user profile. You can always edit your profile in the "options" dialogue box.',params:{enableScrolling:!1,placement:"right"}},{target:"#register",content:"Here, you can change your user name and color and set a duration after which your messages will self-destruct.",params:{enableScrolling:!1,placement:"top",highlight:!1}},{target:"#jsonMe",content:'The information you enter is stored on our server and shared with all other participants. <br><br> Click the "save" button to leave the dialogue box.',params:{enableScrolling:!1,placement:"top",highlight:!1}},{target:"#options .storage .button",content:"<strong>Important!</strong> You always have the right to disappear. If you want to delete your user profile and all your messages, you can click this button. <br><br>If you do this now the page will refresh and the tour will end. :-)",params:{enableScrolling:!1,placement:"right"},before:function(){return new Promise((function(e){t.editing||e("1")}))}},{target:"#options .participants .showParticipants",content:'A list of online participants is accessible via the "participants" button.',params:{enableScrolling:!1,placement:"right"}},{target:"#userlist ul",content:"Moderators appear at the top, with a dashed-border.",params:{enableScrolling:!1,placement:"right-start"}},{target:"#BBBIndicator",content:"If you are registered as participant of the study group or the conference, you will be joining video calls via Big Blue Button, which are accessible in their respective regions.",params:{enableScrolling:!1,placement:"left",highlight:!1},before:function(){return new Promise((function(e){var n=0;"hangout"!==t.$store.state.location.slug&&(t.$emit("goTo","/hangout"),n=1e3),setTimeout((function(){e("1"),t.$emit("hideNav"),t.$emit("hideOverlay")}),n)}))}},{target:".BBBisland1",content:'When you are in a call, your cursor will remain "parked" in a big blue button and be visible to everyone else.<br><br>Big Blue Button offers a multitude of features and takes some getting used to. We recommend to use any of these rooms in the cursor hangout to familiarize yourself with the interface before the conference date takes place.',params:{enableScrolling:!1,placement:"left"},before:function(){return new Promise((function(e){t.$emit("hideParticipants"),t.$emit("focusBBB"),e("1")}))}},{target:"#location div",content:"You're ready to go! <br><br> Don't forget to read our Code of Conduct. If you have any questions please call on a moderator by mentioning them in a message or contact us.",params:{enableScrolling:!1,placement:"bottom",highlight:!1},before:function(){return new Promise((function(e){t.$emit("unfocusBBB"),t.$emit("goTo","/readme/tour"),setTimeout((function(){t.$emit("showNav"),e("1")}),400)}))}}],callbacks:{onFinish:this.end,onSkip:this.end}}},created:function(){},mounted:function(){this.$tours["tour"].start(),document.addEventListener("click",this.validate)},computed:{},methods:{validate:function(t){console.log("click");var e=t.target,n=this.$tours["tour"],s=n.currentStep,i=document.querySelector(n.steps[s].target);i==e||this.isDescendant(i,e)||e.classList&&e.classList.contains("save")||e.classList&&e.classList.contains("showParticipants")?(console.log("next"),this.nextStep()):console.log("not valid trget")},nextStep:function(){this.$tours["tour"].nextStep()},showLastStep:function(){this.$tours["tour"].currentStep=this.steps.length-1},myCustomPreviousStepCallback:function(t){console.log("custom previousStep callback on step "+(t+1))},myCustomNextStepCallback:function(t){console.log("custom nextStep callback on step "+(t+1))},isDescendant:function(t,e){var n=e.parentNode;while(null!=n){if(n==t)return!0;n=n.parentNode}return!1},wait:function(t){new Promise((function(e){setTimeout((function(){e("1"),console.log("resolved")}),t||500)}))},isException:function(t){return this.exceptions.indexOf(t.target)>-1},end:function(){this.$emit("unfocusOverlay"),this.$emit("unfocusIsland"),this.$emit("unfocusLocation"),this.$emit("unfocusBBB"),this.$emit("end"),document.removeEventListener("click",this.validate),console.log("end tour")}}},Li=Ii,Bi=(n("54c2"),Object(x["a"])(Li,Oi,Mi,!1,null,null,null)),Pi=Bi.exports,Di={name:"Mainland",components:{NavHandle:O,Notfound:D,Editor:H,Notification:Y,Minimap:Tt,Minilist:Gs,Options:Yt,Cursorr:ee,Message:ae,Territory:Us,Ticker:ni,Overlay:Si,Tour:Pi},props:{wantsToView:String},data:function(){return{notfound:!1,moreInformation:{},secondPath:!1,desiresNav:!0,desiresList:!0,desiresOverlay:!1,editing:!1,scrolling:!1,firstScroll:!0,dragging:!1,miniDragging:!1,notifications:[],lastScrollX:0,lastScrollY:0,isCompatible:!0,touring:!1,tourIsAtOverlay:!1,tourIsAtLocation:!1,tourIsAtIsland:!1,tourIsAtAddressBar:!1,tourIsAtBBB:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(y["e"])(["lifecycle","registered","visited","blocked","users","messages","highCPUNotifiction","territories","location","general","isMobile","scale","widthFactor","windowPos","windowSize"])),Object(y["c"])(["me","isMe","networkConservationMode","territoryByBorders","territoryBySlug","userByName","regionColors","userColors","connectedUsers","notDeletedUsers","notDeletedMessages","positionOf","positionOfIsland","centerOf","pixelsFrom"])),watch:{wantsToView:function(t){this.route(t)},location:function(t,e){t.slug!==e.slug&&(this.secondPath||this.firstScroll||this.$router.push("/"+this.location.slug))},scale:function(t,e){t&&e&&this.recenter(t,e)},networkConservationMode:function(t,e){var n=this;t>e?(console.log("network conservation mode enabled"),this.notifications.push(this.highCPUNotifiction)):(console.log("network conservation mode disabled"),this.notifications.forEach((function(t){"Server"==t.author&&n.notifications.splice(n.notifications.indexOf(t),1)})))}},created:function(){this.isMobile&&(this.$store.commit("setScale",8),this.$store.commit("setWidthFactor",3.4)),this.checkCompatibility()},mounted:function(){var t=this;this.wantsToView&&"/"!==this.wantsToView&&"/general"!==this.wantsToView?this.route(this.wantsToView,"smooth"):this.$router.push("reception"),setTimeout((function(){t.firstScroll=!1}),1500),this.handleLinks(".message a"),this.$el.addEventListener("wheel",(function(t){t.ctrlKey&&(t.preventDefault(),t.stopPropagation())})),this.$refs.userlandContainer.addEventListener("scroll",(function(e){t.setViewerPosition(e)})),document.addEventListener("keyup",(function(e){t.handleInput(e)})),window.addEventListener("resize",(function(){t.$store.commit("resize",{w:window.innerWidth,h:window.innerHeight})})),window.onbeforeunload=function(){t.me&&!1===t.me.delete&&(t.$store.dispatch("disconnect"),(t.isMobile||t.me.name.includes(t.me.uid))&&t.$store.dispatch("deleteUser",t.me))}},sockets:{message:function(t){var e=this;t.deleted||(this.handleLinks(".message".concat(t.uid," a")),t.announcement?this.notifications.push(t):t.mentions?t.mentions.find((function(t){return t===e.me.name}))&&this.notifications.push(t):t.stream&&(console.log(t.content),this.$store.commit("setStream",t.content.replace("/stream ",""))))}},methods:{route:function(t,e,n,s){var i=this;t=t.startsWith("/")?t.slice(1):t;var o,r,a=t.split("/")[0],c=t.split("/")[1];if(console.log(a,c),t.startsWith("~")){var u=this.userByName(a.replace("~",""));u?o=this.positionOf(u):(console.log("user not found"),this.notfound=!0)}else{var l=this.territories[a];l?(o=this.centerOf({x:l.borders.x*this.widthFactor,y:l.borders.y,w:l.borders.w*this.widthFactor,h:l.borders.h}),r=l,c&&(this.secondPath=!0,o=this.positionOfIsland(c),o?(r="upload"===c||"submit"===c?{slug:c,collection:a}:this.territories[a].content[c],setTimeout((function(){i.secondPath=!1}),1e3)):this.notfound=!0)):"general"!==a&&(console.log("territory not found"),this.notfound=!0)}this.notfound?this.firstScroll?setTimeout((function(){var t=i.centerOf(i.territories["reception"].borders);i.scrollTo(t,"smooth"),i.notfound=!1}),1e3):setTimeout((function(){i.$router.go(-1),i.notfound=!1}),1e3):((s||this.location.slug!==a||c)&&setTimeout((function(){i.scrollTo(o,e||"smooth")}),n||0),this.location.slug!==a&&(this.desiresOverlay=!1),n=this.isMobile?0:150,this.isMobile?(this.desiresNav=!1,this.desiresOverlay=!!c):"general"===a?this.desiresOverlay=!1:(c||this.location.slug!==a||s)&&setTimeout((function(){i.desiresOverlay=!0}),n+150),setTimeout((function(){i.moreInformation=r}),n))},handleOverlayClose:function(){var t=this,e=10;this.$router.history.current.path.split("/")[2]&&this.$router.push("/"+this.location.slug),setTimeout((function(){t.desiresOverlay=!1}),e)},handleIslandClick:function(t){if(!this.dragging){var e=this.$router.history.current.path;e===t?this.route(t,!1,!1,!0):this.$router.push("".concat(t))}},handleInput:function(t){if(!this.editing&&!this.isMobile){var e=t.which||t.keyCode;document.activeElement.classList.contains("input")?this.$refs.me[0].trackInput(e):9==e||13==e&&document.activeElement.click()}},handleClick:function(){this.editing||this.isMobile||this.$refs.me[0].sendMessage()},handleMini:function(t){this.scrollTo(t,this.miniDragging?"auto":"smooth")},handleNotificationClick:function(t){this.notifications=[],this.scrollTo(this.positionOf(t),"smooth")},startTour:function(){console.log("tour started"),this.desiresList=!0,this.$refs.options.showParticipants=!1,this.desiresOverlay=!1,this.touring=!0},goTo:function(t,e){this.scrollTo(this.centerOf(t),e||"smooth")},recenter:function(t,e){var n=t/e,s=(e-t)/(e+t),i={x:this.$refs.userlandContainer.scrollLeft*n-this.windowSize.w*s,y:this.$refs.userlandContainer.scrollTop*n-this.windowSize.h*s};this.scrollTo(i,"auto")},drag:function(t){if(this.dragging){var e={x:this.windowPos.x-t.movementX,y:this.windowPos.y-t.movementY};t.clientX<=10||t.clientX>=this.windowSize.w-20||t.clientY<=10||t.clientY>=this.windowSize.h-20?this.dragging=!1:this.scrollTo(e)}},release:function(){this.dragging=!1},scrollTo:function(t,e){var n=this;this.dragging?this.$refs.userlandContainer.scroll({left:t.x,top:t.y,behavior:e||"auto"}):requestAnimationFrame((function(){n.$refs.userlandContainer.scroll({left:t.x,top:t.y,behavior:e||"auto"})}))},setViewerPosition:function(){var t={x:this.$refs.userlandContainer.scrollLeft,y:this.$refs.userlandContainer.scrollTop},e=t.x-this.lastScrollX,n=t.y-this.lastScrollY,s={x:this.me.x*this.windowSize.w*this.scale,y:this.me.y*this.windowSize.h*this.scale},i={x:(s.x+e)/(this.windowSize.w*this.scale),y:(s.y+n)/(this.windowSize.h*this.scale),connected:!0},o=this.territoryByBorders(t);this.$store.commit("viewerPosition",t),this.location.slug!==o.slug&&this.$store.commit("setLocation",o),this.firstScroll||(this.dragging||this.$store.dispatch("updatePosition",i),this.lastScrollX=t.x,this.lastScrollY=t.y)},handleLinks:function(t){var e=this;setTimeout((function(){Array.from(document.querySelectorAll(t)).forEach((function(t){var n=t.attributes.href.value;n&&(n.startsWith("/")||n.startsWith(e.$sokURL))&&t.addEventListener("click",(function(t){var s=n.replace(e.$sokURL,"");e.$router.push(s),t.preventDefault()}))}))}),1e3)},showNav:function(){this.isMobile&&(this.desiresOverlay=!1),this.touring&&(this.desiresList=!0,this.$refs.options.showParticipants=!1),this.desiresNav=!0},showOverlay:function(){this.isMobile&&(this.desiresNav=!1),this.desiresOverlay=!0},checkCompatibility:function(){var t=navigator.userAgent,e=t.indexOf("Chrome")>-1,n=t.indexOf("Firefox")>-1,s=t.indexOf("Safari")<-1;e&&s&&(s=!1),this.isCompatible=e||n}}},Ei=Di,Ui=(n("1812"),Object(x["a"])(Ei,w,_,!1,null,null,null)),ji=Ui.exports,Ni=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},zi=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"blocked"}},[n("div",{staticClass:"message"},[n("p",[t._v("You have been removed.")]),n("p",[t._v("Please reflect on your behaviour.")])])])}],Ai={name:"Nomansland",components:{},props:[],data:function(){return{}},created:function(){},mounted:function(){var t=this.$el,e=window.innerHeight/14,n=window.innerWidth/10,s=this.tableCreate(e,n);t.appendChild(s)},methods:{tableCreate:function(t,e){for(var n=this,s=document.createElement("table"),i=0;i<t;i++)for(var o=s.insertRow(),r=function(t){var e=o.insertCell();e.innerHTML=" ",e.addEventListener("mouseover",(function(){n.repeatXI((function(){e.innerHTML=n.generate_random_string()}),100,10),setTimeout((function(){e.innerHTML=" "}),1050),setTimeout((function(){e.innerHTML=" "}),3e3)}))},a=0;a<e;a++)r(a);return s},generate_random_string:function(){var t=39,e=47,n=Math.floor(Math.random()*(e-t)+t),s=String.fromCharCode(n);return s},repeatXI:function(t,e,n){var s,i;return i=function(){t(),--n||clearInterval(s)},e=e<=0?1e3:e,n=parseInt(n,10)||0,s=setInterval(i,e),!0}}},Ri=Ai,Hi=(n("32a0"),Object(x["a"])(Ri,Ni,zi,!1,null,"55f17412",null)),Fi=Hi.exports,Zi=(n("96cf"),n("1da1")),qi="production",Wi="https://api.obfuscation.karls.computer/",Vi="https://3rd.obfuscationworkshop.org/",Gi={getUsers:function(){var t=this;return new Promise((function(e,n){o.a.get(Vi+"users").then((function(n){e(t.buildObject(n.data))})).catch((function(t){n(t)}))}))},getMessages:function(){var t=this;return new Promise((function(e,n){o.a.get(Vi+"messages").then((function(n){e(t.buildObject(n.data))})).catch((function(t){n(t)}))}))},getTicker:function(){return new Promise((function(t,e){o.a.get(Wi+"ticker").then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},getRegions:function(){var t=this;return new Promise((function(e,n){o.a.get(Wi+"regions").then(function(){var n=Object(Zi["a"])(regeneratorRuntime.mark((function n(s){var i,o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i={reception:{},readme:{},schedule:{},exhibition:{},livestream:{},hangout:{},"study-room":{},contributors:{},library:{},glossary:{}},o=0;case 2:if(!(o<s.data.length)){n.next=13;break}return r=s.data[o],delete r.id,r.borders={x:r.borders.x/100,y:r.borders.y/100,w:r.borders.w/100,h:r.borders.h/100},n.next=8,t.getRegionContent(r.slug);case 8:r.content=n.sent,i[r.slug]=r;case 10:o++,n.next=2;break;case 13:e(i);case 14:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).catch((function(t){n(t)}))}))},getRegionContent:function(t){var e=this;return new Promise((function(n,s){var i=e.resolveQueryFromRegion(t);if(i){var r={};o.a.get(Wi+i).then((function(s){for(var i=0;i<s.data.length;i++){var o=s.data[i];r[o.slug]=o}"schedule"===t?e.correctDates(r):"contributors"===t?r=e.sortNamesAlphabetically(r):"glossary"===t?r=e.sortTermsAlphabetically(r):"readme"===t&&(r=e.sortNumeric(r)),n(r)})).catch((function(t){s(t)}))}else n(null)}))},buildObject:function(t){for(var e={},n=0;n<t.length;n++)e[t[n].uid]=t[n];return e},filterDeleted:function(t){for(var e in t)!0===t[e].deleted&&(console.log(t[e].uid),delete t[e]);return t},sortNamesAlphabetically:function(t){for(var e={},n=Object.values(t).sort((function(t,e){var n=t.Name.split(" ")[t.Name.split(" ").length-1],s=e.Name.split(" ")[e.Name.split(" ").length-1];return n.localeCompare(s)})),s=0;s<n.length;s++)e[n[s].slug]=n[s];return e},sortTermsAlphabetically:function(t){for(var e={},n=Object.values(t).sort((function(t,e){return t.Term.localeCompare(e.Term)})),s=0;s<n.length;s++)e[n[s].slug]=n[s];return e},sortNumeric:function(t){for(var e={},n=Object.values(t).sort((function(t,e){return t.Title.localeCompare(e.Title)})),s=0;s<n.length;s++)e[n[s].slug]=n[s];return e},correctDates:function(t){for(var e in t){var n=t[e];n.Start=this.correctTimeZone(n.Start),n.End=this.correctTimeZone(n.End)}return t},correctTimeZone:function(t){return"development"===qi&&(t=t.replace("-05-04T","-04-29T").replace("-05-07T","-05-02T")),t},resolveQueryFromRegion:function(t){return"reception"===t?"statics":"readme"===t?"readmes":"exhibition"===t?"videos":"schedule"===t?"sessions":"contributors"===t?"hosts":"study-room"===t?"study-sessions":"library"===t?"libraries":"glossary"===t?"glossaries":null}},Yi=Gi,Xi=n("8a77"),Ji={name:"Home",components:{Mainland:ji,Nomansland:Fi},props:["slug"],data:function(){return{wantsToView:null,loadingMessage:"Loading...",serverError:"server error.",tickerLoaded:!1,territoriesLoaded:!1,messagesLoaded:!1,usersLoaded:!1,selfEvaluated:!1}},computed:Object(b["a"])({contentLoaded:function(){return this.tickerLoaded&&this.territoriesLoaded&&this.messagesLoaded&&this.usersLoaded&&this.selfEvaluated}},Object(y["e"])(["lifecycle","version","blocked","isMobile"])),created:function(){var t,e,n,s,i=this;console.log("ENVIRONMENT: ".concat(this.$env)),console.log("SOCKETS: ".concat(this.$sokURL)),console.log("VERSION: ".concat(localStorage.version)),console.log("LIFECYCLE: ".concat(this.lifecycle)),localStorage.version!=this.version&&(console.log("this version is outdated, clearing your storage."),localStorage.clear(),localStorage.version=this.version),Yi.getTicker().then((function(t){i.$store.commit("setTicker",t),i.tickerLoaded=!0})).catch((function(t){console.log(t),i.loadingMessage=i.serverError})),this.loadingMessage="Getting regions...",Yi.getRegions().then((function(e){t=e,i.$store.commit("setTerritories",t),i.territoriesLoaded=!0,i.loadingMessage="Getting users..."})).catch((function(t){console.log(t),i.loadingMessage=i.serverError})),Yi.getMessages().then((function(t){e=t,i.$store.commit("setMessages",e),i.messagesLoaded=!0})).catch((function(t){console.log(t),i.loadingMessage=i.serverError})),Yi.getUsers().then((function(t){if(n=t,i.$store.commit("setUsers",n),i.usersLoaded=!0,localStorage.uid&&n[localStorage.uid])console.log("You've visited."),i.$store.commit("visit"),s=n[localStorage.uid],n[s.uid].name.includes(s.uid)||(console.log("You're a local."),i.$store.commit("register")),s.blocked&&(console.log("You're not welcome here."),i.$store.commit("block"));else{console.log("youre new");var e=Object(Xi["a"])();s={uid:e,name:"newUser-"+e,connected:!0,color:i.randomColor(),x:0,y:0,typing:null,moderator:!1,deleted:!1,blocked:!1},localStorage.uid=s.uid,localStorage.color=s.color}i.isMobile&&(s.isMobile=!0,i.$store.commit("visit")),i.$store.commit("register"),i.$store.commit("setUID",s.uid),i.$store.commit("setUser",s),i.$socket.client.emit("user",s),i.selfEvaluated=!0})).catch((function(t){console.log(t),i.loadingMessage=i.serverError})),this.slug&&(this.wantsToView=this.slug)},mounted:function(){var t=this;this.$router.afterEach((function(e){t.wantsToView=e.fullPath}))},methods:{randomColor:function(){var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),n=Math.floor(256*Math.random()),s=1;return"rgb(".concat(t,", ").concat(e,", ").concat(n,", ").concat(s,")")}}},Ki=Ji,Qi=(n("a16a"),Object(x["a"])(Ki,g,v,!1,null,"4f369bbb",null)),to=Qi.exports,eo={name:"App",components:{Home:to},data:function(){return{slug:null,isMobile:null}},created:function(){var t=this;this.isMobile=this.checkIfMobile(),this.isMobile&&this.$store.commit("makeMobile"),this.slug=window.location.pathname,"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.addEventListener("resize",(function(){t.isMobile=t.checkIfMobile(),t.isMobile?t.$store.commit("makeMobile"):t.$store.commit("makeDesktop")}))},methods:{checkIfMobile:function(){return window.innerWidth<750}}},no=eo,so=(n("034f"),Object(x["a"])(no,h,p,!1,null,null,null)),io=so.exports,oo=n("8c4f");s["a"].use(oo["a"]);var ro=[{path:"/",name:"Home",component:to}],ao=new oo["a"]({mode:"history",routes:ro}),co=ao;s["a"].use(y["a"]);var uo=new y["a"].Store({strict:!1,state:{version:8,lifecycle:"1",save:!0,uid:null,registered:!1,visited:!1,blocked:!1,moderator:!1,users:{},messages:{},connectedCount:1,maxLiveCount:100,wait:!1,highCPUNotifiction:{time:(new Date).getTime(),author:"Server",content:"The platframe is currently experiencing a high number of concurrent visitors. To remain functional, it will stop displaying the correct positions of participants' cursors. You can still send and receive messages."},territories:{},general:{name:"general",slug:"general"},location:{},stream:{playbackId:null,status:null},ticker:{},isMobile:!1,scale:10,widthFactor:1,grid:!1,desiresTexture:!localStorage.desiresTexture||JSON.parse(localStorage.desiresTexture),desiresContrast:!!localStorage.desiresContrast&&JSON.parse(localStorage.desiresContrast),windowSize:{w:window.innerWidth,h:window.innerHeight},windowPos:{x:null,y:null}},mutations:{setLifecycle:function(t,e){return t.lifecycle=e},doNotSave:function(t){return t.save=!1},setUID:function(t,e){return t.uid=e},register:function(t){return t.registered=!0},deregister:function(t){return t.registered=!1},visit:function(t){return t.visited=!0},block:function(t){return t.blocked=!0},setUsers:function(t,e){for(var n in e)s["a"].set(t.users,n,e[n])},setUser:function(t,e){s["a"].set(t.users,e.uid,e)},setUserPosition:function(t,e){t.users[e.uid].x=e.x,t.users[e.uid].y=e.y,t.users[e.uid].connected=e.connected},setUserTyping:function(t,e){t.users[e.uid].typing=e.typing},setUserColor:function(t,e){t.users[e.uid].color=e.color,t.users[e.uid].connected=!0},setUserAppearance:function(t,e){t.users[e.uid].connected=!e.connected||e.connected,t.users[e.uid].name=e.name,t.users[e.uid].color=e.color,t.users[e.uid].x=e.x,t.users[e.uid].y=e.y,t.users[e.uid].typing=e.typing||"",t.users[e.uid].messageLifetime=e.messageLifetime},setUserDisconnected:function(t,e){t.users[e].connected=!1},setUserBlocked:function(t,e){t.users[e.uid].blocked=!0},setUserDeleted:function(t,e){t.users[e.uid].deleted=!0},setUserModerator:function(t,e){t.users[e.uid].moderator=e.moderator},setConnectedCount:function(t,e){t.connectedCount=e},setWait:function(t,e){t.wait=e},setMessages:function(t,e){for(var n in e)s["a"].set(t.messages,n,e[n])},setMessage:function(t,e){s["a"].set(t.messages,e.uid,e)},setMessageDeleted:function(t,e){t.messages[e.uid].deleted=!0},setMessageCensored:function(t,e){t.messages[e.uid].censored=!t.messages[e.uid].censored},setTerritories:function(t,e){for(var n in e)s["a"].set(t.territories,n,e[n])},setTerritoryBorders:function(t,e){s["a"].set(t.territories[e.slug].borders,"x",e.x),s["a"].set(t.territories[e.slug].borders,"y",e.y),s["a"].set(t.territories[e.slug].borders,"w",e.w),s["a"].set(t.territories[e.slug].borders,"h",e.h)},setLocation:function(t,e){t.location=e},setStream:function(t,e){s["a"].set(t.stream,"playbackId",e)},setTicker:function(t,e){t.ticker=e},toggleTexture:function(t){t.desiresTexture=!t.desiresTexture,localStorage.desiresTexture=t.desiresTexture},toggleContrast:function(t){t.desiresContrast=!t.desiresContrast,localStorage.desiresContrast=t.desiresContrast},setScale:function(t,e){return t.scale=e},zoomIn:function(t){return t.scale<20?t.scale+=.25:null},zoomOut:function(t){return t.scale>1?t.scale-=.25:null},setWidthFactor:function(t,e){return t.widthFactor=e},makeMobile:function(t){return t.isMobile=!0},makeDesktop:function(t){return t.isMobile=!1},toggleGrid:function(t){return t.grid=!t.grid},resize:function(t,e){return t.windowSize=e},viewerPosition:function(t,e){return t.windowPos=e}},actions:{socket_user:function(t,e){var n=t.state,s=t.commit;s("setUser",e);var i=!0===e.deleted?"deleted":!0===e.blocked?"blocked":"connected";console.log("user",e.name,i),e.uid===n.uid&&(e.blocked&&s("block"),e.deleted&&(s("doNotSave"),console.log("you're deleted"),localStorage.clear(),window.location.reload(!0)))},socket_message:function(t,e){var n=t.commit;n("setMessage",e)},socket_position:function(t,e){var n=t.state,s=t.commit;e.uid!==n.uid&&(n.users[e.uid]?s("setUserPosition",e):console.log(e.uid," not found."))},socket_typing:function(t,e){var n=t.state,s=t.commit;e.uid!==n.uid&&(n.users[e.uid]?s("setUserTyping",e):console.log(e.uid," not found."))},socket_color:function(t,e){var n=t.state,s=t.commit;e.uid!==n.uid&&s("setUserColor",e)},socket_moderator:function(t,e){var n=t.state,s=t.commit;e.uid!==n.uid&&(s("setUserModerator",e),console.log("user",e.name,"upgraded to moderator"))},socket_appearance:function(t,e){var n=t.state,s=t.commit,i=t.dispatch;if(e.uid!==n.uid&&s("setUserAppearance",e),!1===e.connected&&console.log("user",e.name,"disconnected"),e.messageLifetime){var o=(new Date).getTime(),r=1728e5;for(var a in n.messages){var c=n.messages[a];c.authorUID==e.uid&&c.time<o-(e.messageLifetime||r)&&(console.log(c.content),i("deleteMessage",c))}}},socket_disconnect:function(t){var e=t.state;e.save&&(e.registered||(localStorage.uid=e.uid))},socket_count:function(t,e){var n=t.commit;n("setConnectedCount",e)},updatePosition:function(t,e){var n=t.state,s=t.getters,i=t.commit,o=t.dispatch;e.uid=n.uid,i("setUserPosition",e),s.networkConservationMode||n.wait||(this._vm.$socket.client.emit("position",e),o("resetWait"))},updateTyping:function(t,e){var n=t.state,s=t.getters,i=t.commit,o=t.dispatch;e.uid=n.uid,i("setUserTyping",e),s.networkConservationMode||n.wait||(this._vm.$socket.client.emit("typing",e),o("resetWait"))},updateColor:function(t,e){var n=t.state,s=t.getters,i=t.commit,o=t.dispatch;e.uid=n.uid,i("setUserColor",e),s.networkConservationMode||n.wait||(this._vm.$socket.client.emit("color",e),o("resetWait"))},updateAppearance:function(t,e){var n=t.state,s=t.commit;e.uid=n.uid,s("setUserAppearance",e),this._vm.$socket.client.emit("appearance",e)},updateModerator:function(t,e){var n=t.state,s=t.commit;e.uid=n.uid,s("setUserModerator",e),this._vm.$socket.client.emit("moderator",e)},disconnect:function(t){var e=t.state,n=t.commit,s=t.dispatch;console.log("disconnecting"),n("setUserDisconnected",e.uid);var i=e.users[e.uid];s("updateAppearance",{name:i.name,color:i.color,x:i.x,y:i.y,messageLifetime:i.messageLifetime,connected:!1,typing:null})},blockUser:function(t,e){var n=t.state,s=t.commit,i=t.dispatch;for(var o in s("setUserBlocked",e),this._vm.$socket.client.emit("user",e),n.messages){var r=n.messages[o];r.authorUID==e.uid&&i("deleteMessage",r)}},deleteUser:function(t,e){var n=t.state,s=t.commit,i=t.dispatch;for(var o in s("setUserDeleted",e),this._vm.$socket.client.emit("user",e),n.messages){var r=n.messages[o];r.authorUID==e.uid&&i("deleteMessage",r)}},deleteMessage:function(t,e){var n=t.commit;n("setMessageDeleted",e),this._vm.$socket.client.emit("message",e)},censorMessage:function(t,e){var n=t.commit;n("setMessageCensored",e),this._vm.$socket.client.emit("message",e)},deleteAllUnamed:function(t){var e=t.state,n=t.dispatch;for(var s in e.users){var i=e.users[s];i&&i.name&&i.name.includes(i.uid)&&0==i.connected&&(console.log("deleting ",i.name),n("deleteUser",i))}},resetWait:function(t){var e=t.commit,n=t.getters;e("setWait",!0),setTimeout((function(){e("setWait",!1)}),1e3/n.emitsPerSecond)}},getters:{me:function(t){return t.users[t.uid]},isMe:function(t){return function(e){return e.uid===t.uid}},networkConservationMode:function(t){return t.connectedCount>t.maxLiveCount},emitsPerSecond:function(t){return 2*t.maxLiveCount/t.connectedCount},userByName:function(t,e){return function(n){var s=e.usersArray.find((function(t){return t.name==n}));if(s)return t.users[s.uid]}},territoryByName:function(t){return function(e){return t.territoriesArray.find((function(t){return t.name==e}))}},territoryBySlug:function(t){return function(e){return t.territories[e]}},territoryByBorders:function(t,e){return function(n){var s=.5/t.scale,i=e.coordsFrom(n),o=e.territoriesArray.find((function(e){var n={x:e.borders.x*t.widthFactor,y:e.borders.y,w:e.borders.w*t.widthFactor,h:e.borders.h},o=n.x-s,r=n.y-s,a=n.w+n.x-s,c=n.h+n.y-s;if(i.x>o&&i.x<a&&i.y>r&&i.y<c)return e}));return o||t.general}},messagesByUser:function(t){return function(e){var n=[];for(var s in t.messages){var i=t.messages[s];i.authorUID!=e.uid||i.deleted||n.push(i)}return n}},regionColors:function(t){var e={};for(var n in t.territories){var s=t.territories[n];e["--".concat(n)]=s.color}return e},userColors:function(t){var e={};for(var n in t.users){var s=t.users[n];e["--".concat(n)]=t.desiresContrast?"black":!0===s.connected?s.color:"var(--disconnected)"}return e},userNames:function(t,e){return e.notDeletedUsers.map((function(t){return t.name}))},connectedUsers:function(t,e){return e.notBlockedUsers.filter((function(t){return!0===t.connected&&(!t.isMobile||!1===t.isMobile)})).sort((function(t,e){return t.moderator||e.moderator?t.moderator?e.moderator?-1:e.moderator-t.moderator:1:-1}))},connectedUsersFirst:function(t,e){return e.notDeletedUsers.sort((function(t,e){return t.moderator||e.moderator?t.moderator?e.moderator?-1:e.moderator-t.moderator:1:e.connected-t.connected}))},notBlockedUsers:function(t,e){return e.notDeletedUsers.filter((function(t){return!t.blocked}))},notDeletedUsers:function(t,e){return e.usersArray.filter((function(t){return!t.deleted&&!t.isMobile}))},notDeletedMessages:function(t,e){return e.messagesArray.filter((function(e){return t.users[e.authorUID]&&e.uid&&!e.deleted&&!e.navigation&&!e.stream}))},usersArray:function(t){return Object.values(t.users)},messagesArray:function(t){return Object.values(t.messages)},territoriesArray:function(t){return Object.values(t.territories)},centerOf:function(t,e){return function(n){n=e.pixelsFrom(n);var s=(t.isMobile||(t.windowSize.w-n.w)/2)>=0?(t.windowSize.w-n.w)/2:0,i=t.isMobile?50:(t.windowSize.h-n.h)/2>=0?(t.windowSize.h-n.h)/2:0,o=n.x-s,r=n.y-i;return{x:o,y:r}}},positionOfIsland:function(t){return function(e){var n=e+"Island",s=document.getElementById(n);if(s){var i=s.offsetParent,o=i.offsetParent,r=o.offsetParent,a=r.offsetParent,c=a.offsetParent,u=i.classList.contains("staggered")?2e3:50,l=s.offsetLeft<=u?s.offsetLeft+i.offsetLeft+o.offsetLeft+r.offsetLeft+a.offsetLeft+c.offsetLeft:s.offsetLeft+i.offsetLeft,d=s.offsetTop<=u?s.offsetTop+i.offsetTop+o.offsetTop+r.offsetTop+a.offsetTop+c.offsetTop:s.offsetTop+i.offsetTop,f=l-(t.windowSize.w-s.offsetWidth)/2,m=(t.isMobile,d-100);return{x:f,y:m}}return null}},positionOf:function(t,e){return function(n){return n=e.pixelsFrom(n),{x:n.x-t.windowSize.w/2,y:n.y-t.windowSize.h/2}}},pixelsFrom:function(t){return function(e){return{x:e.x*t.scale*t.windowSize.w,y:e.y*t.scale*t.windowSize.h,w:e.w*t.scale*t.windowSize.w||0,h:e.h*t.scale*t.windowSize.h||0}}},coordsFrom:function(t){return function(e){return{x:e.x/(t.scale*t.windowSize.w),y:e.y/(t.scale*t.windowSize.h),w:e.w/(t.scale*t.windowSize.w)||0,h:e.h/(t.scale*t.windowSize.h)||0}}}}}),lo=uo;s["a"].config.productionTip=!1,s["a"].prototype.$http=o.a,s["a"].prototype.$apiURL="https://api.obfuscation.karls.computer",s["a"].prototype.$sokURL="https://3rd.obfuscationworkshop.org",s["a"].prototype.$aanURL="https://www.aanmelder.nl/115987/xsembed?auth=UB-PSIJLXsgRsW62W1FtPyhMMTE1OTg3TApWRU1CRURVUkxDSEVDSwpwMAp0cDEKLg..",s["a"].prototype.$publicPath="/",s["a"].prototype.$env="production",a.a.props.anchorAttributes.default=function(){return{target:"_blank",rel:"noopener noreferrer nofollow"}},s["a"].component("vue-markdown",a.a),m.a.polyfill();var fo="https://3rd.obfuscationworkshop.org";s["a"].use(c["a"],Object(u["io"])(fo,{transports:["websocket"]}),{store:lo}),n("2440"),s["a"].use(d.a),new s["a"]({router:co,store:lo,render:function(t){return t(io)}}).$mount("#app")},"5d18":function(t,e,n){},"5d7d":function(t,e,n){},"64a8":function(t,e,n){"use strict";n("293a")},"6a82":function(t,e,n){},"6dd8":function(t,e,n){},"6f45":function(t,e,n){},"6f69":function(t,e,n){"use strict";n("d975")},7176:function(t,e,n){},7209:function(t,e,n){"use strict";n("248e")},7627:function(t,e,n){},"77e6":function(t,e,n){"use strict";n("3224")},"783d":function(t,e,n){"use strict";n("b3bb")},"788e":function(t,e,n){},"7c92":function(t,e,n){},"84fa":function(t,e,n){"use strict";n("e4f3")},"85ec":function(t,e,n){},"8aaf":function(t,e,n){"use strict";n("788e")},"8dae":function(t,e,n){"use strict";n("d403")},"8e08":function(t,e,n){"use strict";n("3fed")},"8f03":function(t,e,n){},"8f36":function(t,e,n){},"8f98":function(t,e,n){"use strict";n("7c92")},"92c2":function(t,e,n){"use strict";n("b173")},9594:function(t,e,n){"use strict";n("1d4b")},"97fb":function(t,e,n){},"9a0a":function(t,e,n){"use strict";n("efd4")},"9a48":function(t,e,n){"use strict";n("6a82")},a16a:function(t,e,n){"use strict";n("7176")},a35a:function(t,e,n){"use strict";n("1c2b")},a7e2:function(t,e,n){"use strict";n("5473")},ab50:function(t,e,n){},aba9:function(t,e,n){},b173:function(t,e,n){},b2f8:function(t,e,n){"use strict";n("3460")},b3bb:function(t,e,n){},b44d:function(t,e,n){"use strict";n("3720")},b7cf:function(t,e,n){"use strict";n("8f03")},bf0d:function(t,e,n){"use strict";n("5616")},bf0e:function(t,e,n){"use strict";n("ab50")},cb86:function(t,e,n){},cf06:function(t,e,n){"use strict";n("2c8c")},d009:function(t,e,n){"use strict";n("2156")},d382:function(t,e,n){},d403:function(t,e,n){},d76d:function(t,e,n){"use strict";n("6f45")},d975:function(t,e,n){},db96:function(t,e,n){"use strict";n("5d7d")},dbfd:function(t,e,n){"use strict";n("4a07")},dda3:function(t,e,n){},e439c:function(t,e,n){"use strict";n("6dd8")},e4f3:function(t,e,n){},e5ad:function(t,e,n){},e5e1:function(t,e,n){},e857:function(t,e,n){"use strict";n("f699")},efd4:function(t,e,n){},f0e4:function(t,e,n){"use strict";n("50d7")},f11b:function(t,e,n){},f699:function(t,e,n){},fa90:function(t,e,n){"use strict";n("42c6")},fd40:function(t,e,n){"use strict";n("dda3")}});
//# sourceMappingURL=app.724f86fc.js.map