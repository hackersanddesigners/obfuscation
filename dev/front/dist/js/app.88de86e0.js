(function(t){function e(e){for(var n,r,a=e[0],c=e[1],u=e[2],d=0,f=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,a=1;a<s.length;a++){var c=s[a];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},i={app:0},o=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"039c":function(t,e,s){},"03bd":function(t,e,s){"use strict";s("78a2")},"0444":function(t,e,s){"use strict";s("2766")},"054c":function(t,e,s){"use strict";s("f11b")},"0aba":function(t,e,s){"use strict";s("d333")},"101a":function(t,e,s){},1065:function(t,e,s){},1242:function(t,e,s){"use strict";s("3bb4")},1450:function(t,e,s){"use strict";s("dadb")},1552:function(t,e,s){},1555:function(t,e,s){"use strict";s("1d3d")},1812:function(t,e,s){"use strict";s("101a")},"1d3d":function(t,e,s){},"1ef2":function(t,e,s){},2044:function(t,e,s){},"204c":function(t,e,s){},2156:function(t,e,s){},"228c":function(t,e,s){"use strict";s("a939")},"229e":function(t,e,s){},2361:function(t,e,s){},2766:function(t,e,s){},"2bb4":function(t,e,s){},"2c8c":function(t,e,s){},"2fb1":function(t,e,s){"use strict";s("2044")},3224:function(t,e,s){},"32d9":function(t,e,s){"use strict";s("97fb")},3460:function(t,e,s){},"34ac":function(t,e,s){},"372f":function(t,e,s){},"373a":function(t,e,s){"use strict";s("2361")},"3bb4":function(t,e,s){},"429d":function(t,e,s){"use strict";s("c727")},"42c6":function(t,e,s){},"43a6":function(t,e,s){},4552:function(t,e,s){"use strict";s("754f")},"46b2":function(t,e,s){"use strict";s("34ac")},4716:function(t,e,s){"use strict";s("a59f")},"479d":function(t,e,s){"use strict";s("dec3")},"4f7a":function(t,e,s){"use strict";s("1065")},"50d7":function(t,e,s){},"54c2":function(t,e,s){"use strict";s("204c")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),i=s("bc3a"),o=s.n(i),r=s("ff64"),a=s.n(r),c=s("f87c"),u=s("8e27"),l=s("2536"),d=s.n(l),f=s("7707"),m=s.n(f),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{mobile:t.isMobile},attrs:{id:"app"}},[s("Home",{attrs:{slug:t.slug}})],1)},p=[],g=(s("c975"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"home"}},[t.blocked?s("Nomansland"):t.contentLoaded?s("Mainland",{attrs:{wantsToView:t.wantsToView}}):s("div",{attrs:{id:"loading"}},[s("span",{staticClass:"message"},[t._v(" "+t._s(t.loadingMessage)+" ")])])],1)}),v=[],b=(s("99af"),s("caad"),s("b0c0"),s("2532"),s("5530")),y=s("2f62"),w=s("8a77"),_=(s("d3b7"),s("96cf"),s("1da1")),k=s("b85c"),C=(s("13d5"),s("07ac"),s("ac1f"),s("1276"),function(t,e){return t.reduce((function(t,s){return t[s[e]]=s,t}),{})}),$=function(t,e){return t=Array.isArray(t)?t:Object.values(t),t.sort((function(t,s){var n="Name"===e?t[e].split(" ")[t[e].split(" ").length-1]:t[e],i="Name"===e?s[e].split(" ")[s[e].split(" ").length-1]:s[e];return n.localeCompare(i)}))},T=function(t){return t=Array.isArray(t)?t:Object.values(t),t.sort((function(t,e){return new Date(e.updated_at)-new Date(t.updated_at)}))},S="https://api.obfuscation.karls.computer/",x={reception:{},readme:{},schedule:{},exhibition:{},livestream:{},hangout:{},"study-room":{},contributors:{},library:{},glossary:{}},O=function(t){return"reception"===t?"statics":"readme"===t?"readmes":"exhibition"===t?"videos":"schedule"===t?"sessions":"contributors"===t?"hosts":"study-room"===t?"study-sessions":"library"===t?"libraries":"glossary"===t?"glossaries":null},L=function(t){return new Promise((function(e,s){var n=O(t);n?o.a.get(S+n).then((function(s){var n,i={},o=Object(k["a"])(s.data);try{for(o.s();!(n=o.n()).done;){var r=n.value;i[r.slug]=r}}catch(a){o.e(a)}finally{o.f()}e("contributors"===t?C($(i,"Name"),"slug"):"glossary"===t?C($(i,"Term"),"slug"):"readme"===t?C($(i,"Title"),"slug"):"library"===t?C(T(i),"slug"):i)})).catch((function(t){return s(t)})):e(null)}))},I=function(){return new Promise((function(t,e){return o.a.get(S+"regions").then(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(s){var n,i,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Object(k["a"])(s.data),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=12;break}for(r in o=i.value,o.borders)o.borders[r]=o.borders[r]/100;return e.next=8,L(o.slug);case 8:o.content=e.sent,x[o.slug]=o;case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:t(x);case 21:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){return e(t)}))}))},M=function(){return new Promise((function(t,e){return o.a.get(S+"ticker").then((function(e){return t(e.data)})).catch((function(t){return e(t)}))}))},j={getTicker:M,getAll:I},B="https://3rd.obfuscationworkshop.org/",U={get:function(t){return new Promise((function(e,s){return o.a.get(B+t).then((function(t){return e(C(t.data,"uid"))})).catch((function(t){return s(t)}))}))}},E={territories:j,chat:U},P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{class:{blur:t.notfound||!t.registered||t.editing||t.notifications.length>0,touring:t.touring,obfuscated:t.desiresTexture,tourIsAtOverlay:t.tourIsAtOverlay,tourIsAtLocation:t.tourIsAtLocation,tourIsAtIsland:t.tourIsAtIsland,tourIsAtAddressBar:t.tourIsAtAddressBar,tourIsAtBBB:t.tourIsAtBBB},style:[{"--scale":t.scale}].concat(t.userColors,t.regionColors)},[s("transition",{attrs:{name:"fade"}},[t.notfound?s("Notfound"):t._e()],1),s("transition",{attrs:{name:"fade"}},[!t.registered||t.editing?s("Editor",{attrs:{touring:t.touring},on:{stopEdit:function(e){t.editing=!1}}}):t._e()],1),s("transition",{attrs:{name:"fade"}},[!t.isMobile&&t.notifications.length>0?s("div",{attrs:{id:"notificationContainer"}},t._l(t.notifications,(function(e){return s("Notification",{key:e.uid,attrs:{notification:e},on:{dismiss:function(s){t.notifications.splice(t.notifications.indexOf(e),1)},goTo:function(e){return t.handleNotificationClick(e)}}})})),1):t._e()]),s("div",{ref:"userlandContainer",class:["LIFECYCLE"+t.$lifecycle,{dragging:t.dragging}],attrs:{id:"userlandContainer",tabindex:"-1"},on:{click:function(e){return t.handleClick(e)},scroll:function(e){return t.setViewerPosition(e)}}},[s("div",{ref:"userland",class:t.location.slug,style:{height:100*t.scale+"%",width:100*t.scale*t.widthFactor+"%"},attrs:{id:"userland",tabindex:"-1"},on:{mousedown:function(e){e.stopPropagation(),t.dragging=!0},mousemove:function(e){return t.drag(e)},mouseup:function(e){return e.stopPropagation(),t.release(e)}}},[t._l(t.territories,(function(e){return s("Territory",{key:e.slug,attrs:{territory:e},on:{moreInfo:function(e){return t.handleIslandClick(e)},goTo:function(e){return t.goTo(t.users[e])}}})})),t._l(t.notDeletedUsers,(function(e){return s("Cursorr",{key:e.uid,ref:t.isMe(e)?"me":"Users",refInFor:!0,attrs:{user:e,dragging:t.isMe(e)?t.dragging:null}})})),t._l(t.notDeletedMessages,(function(e){return s("Message",{key:e.uid,attrs:{message:e,isCompatible:t.isCompatible,isMe:e.authorUID===t.me.uid},on:{goTo:function(e){return t.goTo(t.users[e])}}})}))],2),s("div",{attrs:{id:"location"}},[s("div",{staticClass:"ui tag",attrs:{tabindex:"0"},on:{click:function(e){return t.handleIslandClick("/"+t.location.slug)}}},[t._v(" #"+t._s(t.location.slug)+" ")])])]),s("nav",{class:{hidden:!t.desiresNav}},[s("NavHandle",{attrs:{desiresNav:t.desiresNav,desiresList:t.desiresList,isMobile:t.isMobile},on:{showNav:t.showNav,hideNav:function(e){t.desiresNav=!1},showList:function(e){t.desiresList=!0},showMap:function(e){t.desiresList=!1}}}),t.desiresList?s("Minilist",{on:{goTo:function(e){return t.route(e,!1,!1,!0)}}}):s("Minimap",{attrs:{dragging:t.dragging,miniDragging:t.miniDragging,touring:t.touring},on:{startedDrag:function(e){t.miniDragging=!0},stoppedDrag:function(e){t.miniDragging=!1},newPosition:function(e){return t.handleMini(e)}}}),t.isMobile?s("div",{staticClass:"ui compatibility"},[s("p",[t._v(" To join the discussion, please open this website on a larger screen. ")])]):s("Options",{ref:"options",on:{startEdit:function(e){t.editing=!0},goTo:function(e){return t.goTo(e)},moreInfo:function(e){return t.handleIslandClick(e)}}}),t.isMobile||t.isCompatible?t._e():s("div",{staticClass:"ui compatibility"},[s("p",[t._v(" This platform works best on Chrome or Firefox. ")])])],1),s("Ticker",{attrs:{marquee:t.isMobile}}),s("Overlay",{attrs:{id:"overlay",dragging:t.dragging,content:t.moreInformation,desiresOverlay:t.desiresOverlay,isGeneral:"general"===t.location.slug,touring:t.touring},on:{showOverlay:t.showOverlay,hideOverlay:t.handleOverlayClose,startTour:t.startTour}}),t.touring?s("Tour",{attrs:{editing:t.editing},on:{end:function(e){t.touring=!1},goTo:function(e){return t.handleIslandClick(e)},hideOverlay:function(e){t.desiresOverlay=!1},hideNav:function(e){t.desiresNav=!1},showNav:t.showNav,focusOverlay:function(e){t.tourIsAtOverlay=!0},unfocusOverlay:function(e){t.tourIsAtOverlay=!1},focusLocation:function(e){t.tourIsAtLocation=!0},unfocusLocation:function(e){t.tourIsAtLocation=!1},focusIsland:function(e){t.tourIsAtIsland=!0},unfocusIsland:function(e){t.tourIsAtIsland=!1},focusAddressBar:function(e){t.tourIsAtAddressBar=!0},unfocusAddressBar:function(e){t.tourIsAtAddressBar=!1},focusBBB:function(e){t.tourIsAtBBB=!0},unfocusBBB:function(e){t.tourIsAtBBB=!1}}}):t._e(),t.touring?s("div",{attrs:{id:"addressBar"}}):t._e()],1)},D=[],A=(s("7db0"),s("4160"),s("a630"),s("fb6a"),s("a434"),s("3ca3"),s("5319"),s("2ca0"),s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"navHandle"}},[s("span",{class:["ui","navToggle","hide",{hidden:!t.desiresNav}],attrs:{tabindex:"0"},on:{click:function(e){return t.$emit("hideNav")}}},[t._v(" "+t._s(t.isMobile?"< nav":"<")+" ")]),t.isMobile?t._e():s("div",{staticClass:"ui navType"},[s("span",{class:["map",{selected:!t.desiresList}],attrs:{tabindex:"0"},on:{click:function(e){return t.$emit("showMap")}}},[t._v(" map ")]),s("span",{class:["list",{selected:t.desiresList}],attrs:{tabindex:"0"},on:{click:function(e){return t.$emit("showList")}}},[t._v(" list ")])]),s("span",{class:["ui","navToggle","show",{hidden:t.desiresNav}],attrs:{tabindex:"0"},on:{click:function(e){return t.$emit("showNav")}}},[t._v("nav >")])])}),N=[],R={name:"Handle",props:["isMobile","desiresNav","desiresList"]},z=R,H=(s("2fb1"),s("2877")),F=Object(H["a"])(z,A,N,!1,null,"18a18c13",null),V=F.exports,q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"notfoundContainer"}},[s("div",{attrs:{id:"notfound"}},[s("span",[t._v("Location not found.")])])])}],W={name:"Notfound"},G=W,Y=(s("fa90"),Object(H["a"])(G,q,Z,!1,null,"52fe4a7a",null)),X=Y.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"registerContainer"}},[s("div",{staticClass:"ui",attrs:{id:"register"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.save(e)}}},[t.registered?t._e():s("div",{staticClass:"introText"},[s("h3",[t._v("Welcome.")]),s("p",[t._v("To join the conversation, please pick a display name and color. You can change these later.")])]),s("div",{staticClass:"form"},[s("div",{staticClass:"name"},[s("label",{attrs:{for:"name"}},[t._v("Name: ")]),s("input",{ref:"name",staticClass:"ui",attrs:{name:"name",type:"text",placeholder:"pick a display name",tabindex:"0"}})]),t.invalid||t.tooshort||t.inuse?s("p",{staticClass:"error"},[t._v(" "+t._s(t.invalid?"Your display name cannot contain any spaces or special characters.":t.tooshort?"Your display name must contain at least 2 characters.":t.inuse?"This name has already been taken by someone else.":null)+" ")]):t._e(),s("div",{staticClass:"color"},[s("label",{attrs:{for:"color"}},[t._v("Color: ")]),s("input",{ref:"color",staticClass:"ui",attrs:{name:"color",type:"text","data-jscolor":"",tabindex:"0"},on:{input:t.updateColor}})]),s("div",{staticClass:"messagesOptions"},[s("label",{attrs:{for:"lifetime"}},[t._v("Message lifetime (days): ")]),s("input",{ref:"messageLifetime",staticClass:"ui",attrs:{name:"lifetime",type:"number",placeholder:"30",tabindex:"0"}})]),s("div",{staticClass:"texture"},[s("label",{attrs:{for:"texture"}},[t._v("Obfuscated texture: ")]),s("input",{ref:"texture",staticClass:"ui",attrs:{name:"texture",type:"checkbox",tabindex:"0"},domProps:{checked:t.desiresTexture},on:{click:function(e){return t.$store.commit("toggleTexture")}}})]),s("div",{staticClass:"contrast"},[s("label",{attrs:{for:"contrast"}},[t._v("Higher contrast: ")]),s("input",{ref:"contrast",staticClass:"ui",attrs:{name:"contrast",type:"checkbox",tabindex:"0"},domProps:{checked:t.desiresContrast},on:{click:function(e){return t.$store.commit("toggleContrast")}}})]),t.registered?t._e():s("div",{staticClass:"introText"},[s("p",[t._v("The messages you post will be visible to every other participant and remain available on the website.")])]),s("input",{ref:"submit",staticClass:"ui save",attrs:{type:"button",value:"save",tabindex:"0"},on:{click:t.save}})])]),t.touring?s("div",{attrs:{id:"jsonMe"}},[s("vue-markdown",{attrs:{source:t.jsonMe}})],1):t._e()])},K=[],Q=(s("4d63"),s("25f0"),s("881d")),tt=s.n(Q),et={name:"Editor",props:["touring"],data:function(){return{invalid:!1,tooshort:!1,inuse:!1,colorPickerOpts:{format:"rgba",previewPosition:"right",previewSize:30,borderRadius:0,padding:0,controlBorderColor:"rgba(255,255,255,0)",sliderSize:13,shadow:!1}}},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["d"])(["desiresTexture","desiresContrast"])),Object(y["d"])("users",["registered"])),Object(y["c"])("users",["me","userNames"])),{},{jsonMe:function(){return"```json \n"+JSON.stringify(this.me,null,2)+"\n```"}}),mounted:function(){var t=this;this.registered&&(this.$refs.name.value=this.me.name),setTimeout((function(){t.$refs.name.select()}),50),tt.a.presets.default=this.colorPickerOpts,this.$refs.color.value=this.me.color,new tt.a(this.$refs.color),tt.a.init(),this.$refs.messageLifetime.value=this.me.messageLifetime/864e5||30},methods:{save:function(){var t=this.$refs.name.value,e=this.$refs.color.value,s=864e5*this.$refs.messageLifetime.value;this.validateChars(t)?this.validateLength(t)?this.existingUser(t)?this.inuse=!0:this.register(t,e,s):this.tooshort=!0:this.invalid=!0},cancel:function(){this.$emit("stopEdit")},register:function(t,e,s){this.$store.dispatch("users/updateAppearance",{name:t,color:e,x:this.me.x,y:this.me.y,messageLifetime:s}),this.$emit("stopEdit"),this.$store.commit("users/register")},updateColor:function(){this.$store.dispatch("users/updateColor",{color:this.$refs.color.value})},validateChars:function(t){return/^[A-Za-z0-9]+(?:-[A-Za-z0-9]+)*$/.test(t)},validateLength:function(t){return t.length>1},existingUser:function(t){var e=this,s=this.userNames.find((function(e){return e.toLowerCase()===t.toLowerCase()})),n=function(t){return t.toLowerCase()===e.me.name.toLowerCase()};return s&&!n(t)},toSlug:function(t){t=t.replace(/^\s+|\s+$/g,""),t=t.toLowerCase();for(var e="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",s="aaaaeeeeiiiioooouuuunc------",n=0,i=e.length;n<i;n++)t=t.replace(new RegExp(e.charAt(n),"g"),s.charAt(n));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),t}}},st=et,nt=(s("0aba"),Object(H["a"])(st,J,K,!1,null,"4ee50efd",null)),it=nt.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui",style:{"--userColor":t.color},attrs:{id:"notification"}},[s("p",{staticClass:"time"},[t._v(" "+t._s(t.time)+" ")]),s("p",{staticClass:"author"},[s("span",{staticClass:"name"},[t._v(" "+t._s(t.notification.author)+" ")]),s("span",[t._v(" says: ")])]),s("vue-markdown",{staticClass:"body"},[t._v(" "+t._s(t.notification.content)+" ")]),s("div",{attrs:{id:"notiButtons"}},[s("input",{staticClass:"ui button",attrs:{type:"button",value:"dismiss"},on:{click:function(e){return e.stopPropagation(),t.$emit("dismiss")}}}),t.notification.authorUID?s("input",{staticClass:"ui button",attrs:{type:"button",value:"view"},on:{click:function(e){return e.stopPropagation(),t.$emit("goTo",t.notification)}}}):t._e()])],1)},rt=[],at=s("f817"),ct={name:"Notification",props:["notification"],computed:Object(b["a"])(Object(b["a"])({time:function(){return Object(at["default"])(this.notification.time).format("dddd, MMMM Do [at] HH:mm")}},Object(y["d"])("users",["users"])),{},{color:function(){return this.notification.authorUID?this.users[this.notification.authorUID].color:"black"}})},ut=ct,lt=(s("46b2"),Object(H["a"])(ut,ot,rt,!1,null,"615218db",null)),dt=lt.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["ui",{hovered:!t.touring&&t.hovered||t.dragging}],style:{minHeight:t.height+"px",width:t.width+"px"},attrs:{id:"minimap"},on:{mouseover:function(e){t.hovered=!0},mouseout:function(e){t.hovered=!1},mousedown:function(e){return t.mouseDown(e)},mousemove:function(e){return t.mouseMove(e)},mouseup:function(e){return t.mouseUp(e)}}},[s("div",{staticClass:"terrContainer"},t._l(t.territories,(function(e){return s("Territory",{key:e.slug,attrs:{hovered:t.hovered,territory:e}})})),1),s("div",{staticClass:"messageContainer"},t._l(t.messages,(function(t){return s("Message",{key:t.uid,attrs:{message:t}})})),1),s("div",{staticClass:"cursorContainer"},t._l(t.users,(function(t){return s("Cursorr",{key:t.uid,attrs:{user:t}})})),1),s("Window",{attrs:{id:"viewport",width:t.width/t.scale,height:t.height/t.scale,left:t.left/t.scale,top:t.top/t.scale}}),s("div",{staticClass:"zoom"},[s("div",{staticClass:"in",on:{mousedown:function(e){return e.stopPropagation(),t.$store.commit("zoomIn")},mouseup:function(t){t.stopPropagation()}}},[t._v("+")]),s("div",{staticClass:"out",on:{mousedown:function(e){return e.stopPropagation(),t.$store.commit("zoomOut")},mouseup:function(t){t.stopPropagation()}}},[t._v("-")]),s("div",{staticClass:"zero",on:{mousedown:function(e){return e.stopPropagation(),t.$store.commit("setScale",10)},mouseup:function(t){t.stopPropagation()}}},[t._v("○")])])],1)},mt=[],ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{style:{left:100*t.user.x-.1+"%",top:100*t.user.y-.2+"%","--userColor":"var(--"+t.user.uid+")"}})},pt=[],gt={name:"Cursorr",props:["user"]},vt=gt,bt=(s("a02a"),Object(H["a"])(vt,ht,pt,!1,null,"5f2d5061",null)),yt=bt.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{style:{left:t.toNearestX(t.message.x,.4)+"%",top:t.toNearestX(t.message.y,.4)+"%",width:t.message.content.length/1.5+"px","--userColor":"var(--"+t.message.authorUID+")"}})},_t=[],kt={name:"Message",props:["message","hovered","dragging"],methods:{toNearestX:function(t,e){return Math.floor(100*t/e)*e}}},Ct=kt,$t=(s("c629"),Object(H["a"])(Ct,wt,_t,!1,null,"2b340e0e",null)),Tt=$t.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["mini-territory",{hovered:t.hovered}],style:{left:100*t.territory.borders.x+"%",top:100*t.territory.borders.y+"%",width:100*t.territory.borders.w+"%",height:100*t.territory.borders.h+"%"},attrs:{id:"mini-"+t.territory.slug}},[s("svg",{staticClass:"shape",attrs:{viewBox:t.viewBox,preserveAspectRatio:"none"}},[s("path",{attrs:{fill:t.territory.color,d:t.d}})])])},xt=[],Ot=(s("466d"),{name:"Territory",props:["territory","hovered"],data:function(){return{d:null,viewBox:null}},created:function(){var t=this;this.$http.get("".concat(this.$apiURL).concat(this.territory.shape.url)).then((function(e){t.d=e.data.match(/ d="([\s\S]*?)"/g)[0].replace(' d="',"").replace('"',""),t.viewBox=e.data.match(/ viewBox="([\s\S]*?)"/g)[0].replace(' viewBox="',"").replace('"',"")}))}}),Lt=Ot,It=(s("84fa"),Object(H["a"])(Lt,St,xt,!1,null,null,null)),Mt=It.exports,jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{style:{width:t.width+"px",height:t.height+"px",left:t.left+"px",top:t.top+"px"}})},Bt=[],Ut={name:"Window",props:["width","height","left","top"]},Et=Ut,Pt=(s("054c"),Object(H["a"])(Et,jt,Bt,!1,null,"61e25564",null)),Dt=Pt.exports,At={name:"Map",components:{Cursorr:yt,Message:Tt,Territory:Mt,Window:Dt},props:["dragging","miniDragging","touring"],data:function(){return{hovered:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(y["d"])({territories:function(t){return t.territories.territories},left:function(t){return t.windowPos.x/5},top:function(t){return t.windowPos.y/5},width:function(t){return t.windowSize.w/5},height:function(t){return t.windowSize.h/5},scale:function(t){return t.scale},zoomIndex:function(t){return 5*t.scale}})),Object(y["c"])({users:"users/notDeletedUsers",messages:"messages/notDeletedMessages"})),methods:{mouseDown:function(t){this.sendDesiredPosition(t),this.$emit("startedDrag")},mouseMove:function(t){this.miniDragging&&this.sendDesiredPosition(t)},mouseUp:function(t){this.$emit("stoppedDrag"),this.sendDesiredPosition(t)},sendDesiredPosition:function(t){var e=t.pageX-this.$el.offsetLeft,s=this.width/(2*this.scale),n=(e-s)*this.zoomIndex,i=t.pageY-this.$el.offsetTop,o=this.height/(2*this.scale),r=(i-o)*this.zoomIndex;this.$emit("newPosition",{x:n,y:r})}}},Nt=At,Rt=(s("ac1c"),Object(H["a"])(Nt,ft,mt,!1,null,"7a7be196",null)),zt=Rt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"options"}},[s("div",{staticClass:"registerAgain"},[s("div",{staticClass:"ui button",attrs:{tabindex:"0"},on:{click:function(e){return t.$emit("moreInfo","/reception/register")}}},[t._v(" register ")])]),s("div",{staticClass:"participants"},[t.showParticipants?s("Userslist",{attrs:{tabindex:"0"},on:{goTo:function(e){return t.$emit("goTo",e)},hide:function(e){t.showParticipants=!1}}}):s("div",{staticClass:"ui button showParticipants",attrs:{tabindex:"0"},on:{click:function(e){t.showParticipants=!0}}},[t._v(" participants ")])],1),s("div",{staticClass:"edituser"},[s("div",{staticClass:"ui button",attrs:{tabindex:"0"},on:{click:function(e){return t.$emit("startEdit")}}},[t._v(" options ")])]),s("div",{staticClass:"storage"},[s("div",{staticClass:"ui button",attrs:{tabindex:"0"},on:{click:function(e){return t.$store.dispatch("users/deleteUser",t.me)}}},[t._v(" delete self ")])])])},Ft=[],Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["ui",{moderating:t.moderating}],attrs:{id:"userlist"}},[s("div",{staticClass:"title"},[s("span",{staticClass:"hideParticipants",on:{click:function(e){return t.$emit("hide")}}},[t._v(" participants ")]),s("div",{attrs:{id:"moderate"}},[s("span",{staticClass:"moderateButton",on:{click:function(e){t.moderating?t.moderating=!1:t.moderator?t.moderating=!0:t.authenticating?t.authenticating=!1:t.authenticating=!0}}},[t.moderating?s("span",[t._v(" — ")]):s("span",[t._v("M")])]),t.authenticating?s("input",{ref:"password",attrs:{type:"password",name:"moderator",placeholder:"password",autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.authenticate()}}}):t._e()])]),s("ul",[t.moderating?s("li",{staticClass:"deleteUnamed"},[s("span",{staticClass:"ui button delete",on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("users/deleteAllUnamed")}}},[t._v("delete all unnamed users")])]):t._e(),t._l(t.moderating?t.connectedUsersFirst:t.connectedUsers,(function(e){return s("Label",{key:e.uid,attrs:{user:e,isMe:e.uid===t.me.uid,moderating:t.moderating,messages:t.messagesByUser(e)},on:{goTo:function(e){return t.$emit("goTo",e)}},nativeOn:{click:function(s){return s.stopPropagation(),t.$emit("goTo",e)}}})}))],2)])},qt=[],Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"userLabel",style:{"--userColor":"var(--"+t.user.uid+")"},on:{mouseover:function(e){e.stopPropagation(),t.hovered=!0},mouseleave:function(e){e.stopPropagation(),t.hovered=!1}}},[s("span",{class:["name",{moderator:t.user.moderator}]},[t._v(" "+t._s(t.isMe?t.user.name+" (you)":t.user.name)+" ")]),t.moderating?s("span",{staticClass:"goto"},[t._v(" "+t._s(t.hovered?"→":" "))]):t._e(),t.moderating?s("div",{staticClass:"moderatorOptions"},[s("span",{staticClass:"ui button messages",on:{click:function(e){e.stopPropagation(),t.messagesVisible=!t.messagesVisible}}},[t._v(" messages ")]),s("span",{staticClass:"ui button block",on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("users/blockUser",t.user)}}},[t._v("block")]),s("span",{staticClass:"ui button delete",on:{click:function(e){return e.stopPropagation(),t.$store.dispatch("users/deleteUser",t.user)}}},[t._v("delete")])]):t._e(),t.moderating?t._e():s("span",{staticClass:"goto"},[t._v(" "+t._s(t.hovered?"→":" "))]),t.moderating&&t.messagesVisible?s("div",{staticClass:"messageListContiner"},[t.messages.length>0?s("ul",{staticClass:"messageList"},t._l(t.messages,(function(e){return s("MessageOptions",{key:e.uid,attrs:{message:e},nativeOn:{click:function(s){return s.stopPropagation(),t.$emit("goTo",e)}}})})),1):s("p",{staticClass:"empty"},[t._v("This user has no messaages.")])]):t._e()])},Wt=[],Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["miniMessageContainer",{hover:t.hovered}],on:{mouseover:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1}}},[s("span",{staticClass:"message"},[t._v(" "+t._s(t.message.content)+" ")]),s("span",{staticClass:"time"},[t._v(" "+t._s(t.format(t.message.time))+" ")]),s("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.deleteMessage(t.message)}}},[t._v("delete")]),t.message.censored?s("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.censorMessage(t.message)}}},[t._v("uncensor")]):s("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.censorMessage(t.message)}}},[t._v("censor")])])},Yt=[],Xt={name:"MessageOptions",components:{},props:["message"],data:function(){return{now:(new Date).getTime(),hovered:!1}},methods:Object(b["a"])(Object(b["a"])({},Object(y["b"])("messages",["deleteMessage","censorMessage"])),{},{format:function(t){return Object(at["default"])(t).format("MMM Do @ HH:mm:ss ")}})},Jt=Xt,Kt=(s("5bc8"),Object(H["a"])(Jt,Gt,Yt,!1,null,"2c5923a5",null)),Qt=Kt.exports,te={name:"Label",components:{MessageOptions:Qt},props:["isMe","user","messages","moderating"],data:function(){return{hovered:!1,messagesVisible:!1}}},ee=te,se=(s("4f7a"),Object(H["a"])(ee,Zt,Wt,!1,null,"0718e467",null)),ne=se.exports,ie={name:"List",components:{Label:ne},data:function(){return{authenticating:!1,moderating:!1}},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["c"])("users",["me","connectedUsers","connectedUsersFirst"])),Object(y["c"])("messages",["notDeletedMessages","messagesByUser"])),{},{moderator:function(){return this.me.moderator}}),methods:{authenticate:function(){var t=this.$refs.password.value;"yellowsubmarine"===t&&(this.$store.dispatch("users/updateModerator",{moderator:!0}),this.authenticating=!1,this.moderating=!0)}}},oe=ie,re=(s("e8b8"),Object(H["a"])(oe,Vt,qt,!1,null,"e17bda00",null)),ae=re.exports,ce={name:"Options",components:{Userslist:ae},data:function(){return{showParticipants:!1}},computed:Object(b["a"])({},Object(y["c"])("users",["me"]))},ue=ce,le=(s("81c2"),Object(H["a"])(ue,Ht,Ft,!1,null,"69e4d963",null)),de=le.exports,fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["cursorContainer",{hovered:t.user.typing||t.hovered,dragging:t.dragging,me:t.isMe(t.user),moderator:1==t.user.moderator}],style:{left:100*t.user.x-.1+"%",top:100*t.user.y-.15+"%","--scale":15,"--userColor":"var(--"+t.user.uid+")"},on:{mouseover:function(e){e.stopPropagation(),t.hovered=!0},mouseout:function(e){e.stopPropagation(),t.hovered=!1}}},[t.isMe(t.user)?s("textarea",{ref:"input",staticClass:"input",attrs:{tabindex:"-1",placeholder:"type message & press enter",autofocus:""}}):s("span",{staticClass:"input"},[t._v(" "+t._s(t.user.typing)+" ")]),s("div",{staticClass:"cursor"},[s("span",{staticClass:"name",on:{mouseover:function(e){e.stopPropagation(),t.hovered=!0},mouseout:function(e){e.stopPropagation(),t.hovered=!1}}},[t._v(" "+t._s(t.isMe(t.user)?"me":!0===t.user.connected?t.user.name:t.user.name+" (offline)")+" ")])])])},me=[],he=(s("45fc"),s("498a"),{name:"Cursorr",props:{user:Object,dragging:Boolean},data:function(){return{hovered:!1,current:"",navigation:!1,announcement:!1,mention:!1,pos:null,locationTimer:0,disconnectTimeoutID:null,badWords:["<img","<video","<audio"]}},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["d"])(["isMobile","scale","windowSize","windowPos"])),Object(y["d"])("territories",["location"])),Object(y["c"])("territories",["territoryByBorders"])),Object(y["c"])("users",["me","isMe","networkConservationMode"])),Object(y["c"])("messages",["messagesByUser"])),mounted:function(){this.isMe&&!this.isMobile&&(document.addEventListener("mousemove",this.trackCursor),this.resetDisconnectTimer())},methods:{sendMessage:function(){var t=this.$refs.input,e=this.constructMessage(t.value),s=this.messagesByUser(this.me);if(t.focus(),this.navigation&&this.$router.push(t.value),this.announcement&&(e.content=e.content.replace("!!!","")),e.content.includes("@")||(this.mention=!1),this.mention){for(var n=e.content.match(/@[a-zA-Z0-9_-]*/g),i=0;i<n.length;i++)n[i]=n[i].replace("@",""),""==n[i]&&n.splice(i,1);e.mentions=n}e.content&&" "!=e.content&&!this.badWords.some((function(t){return e.content.includes(t)}))&&(s&&0==s.length&&this.me.name.includes(this.me.uid)?this.$store.commit("users/deregister"):(this.$socket.client.emit("message",e),this.networkConservationMode&&this.$socket.client.emit("position",this.pos))),this.announcement=!1,this.navigation=!1,this.mention=!1,this.stream=!1,this.current=null,t.value="",t.placeholder=""},constructMessage:function(t){var e=(new Date).getTime(),s={uid:this.me.uid+e,author:this.me.name,authorUID:this.me.uid,content:t.trim(),time:e,color:this.me.color,x:this.me.x,y:this.me.y,deleted:!1,censored:!1,announcement:this.announcement,navigation:this.navigation,stream:this.stream,location:this.location.slug};return s},resetDisconnectTimer:function(){var t=this;clearTimeout(this.disconnectTimeoutID),this.disconnectTimeoutID=setTimeout((function(){t.disconnect()}),3e5)},disconnect:function(){this.$store.dispatch("users/updatePosition",{x:this.me.x,y:this.me.y,connected:!1}),this.$store.dispatch("users/updateTyping",{typing:null})},trackCursor:function(t){if(this.resetDisconnectTimer(),!this.dragging){var e={uid:this.me.uid,x:(this.windowPos.x+t.clientX)/(this.windowSize.w*this.scale),y:(this.windowPos.y+t.clientY)/(this.windowSize.h*this.scale),connected:!0};this.$store.dispatch("users/updatePosition",e),this.pos=e,t.preventDefault()}},trackInput:function(t,e){var s=this.$refs.input;"~"==s.value?this.navigation=!0:s.value.startsWith("!!!")?this.announcement=!0:s.value.includes("@")?this.mention=!0:s.value.includes("/stream")&&(this.stream=!0);var n=this.messagesByUser(this.me),i=n[0],o=n[n.length-1],r=n[n.indexOf(this.current)-1],a=n[n.indexOf(this.current)+1];38==t?n&&n.length>0&&(e&&e.preventDefault(),this.current?this.current=r||i:this.current=o,s.value=this.current.content,s.select()):40==t?n&&n.length>0&&(e&&e.preventDefault(),this.current&&a&&(this.current=a),s.value=this.current.content,s.select()):13==t?(e&&e.preventDefault(),this.sendMessage()):27==t&&(s.value="",s.blur()),this.$store.dispatch("users/updateTyping",{uid:this.me.uid,typing:27==t||""==s.value?"":"typing..."}),this.adjustHeight()},adjustHeight:function(){var t=10,e=this.$refs.input,s=parseInt(window.getComputedStyle(e).height,10),n=s-e.clientHeight+5;e.style.height="0px",e.style.height=Math.max(t,e.scrollHeight+n)+"px"}}}),pe=he,ge=(s("647d"),Object(H["a"])(pe,fe,me,!1,null,"6cfde7ce",null)),ve=ge.exports,be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["messageContainer","message"+t.message.uid,{hover:t.hovered,announcement:t.message.announcement}],style:{left:t.toNearestX(t.message.x,.2)+"%",top:t.toNearestX(t.message.y,.2)+"%","--blur":t.blur,"--userColor":"var(--"+t.message.authorUID+")"},attrs:{id:t.message.uid},on:{mouseover:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1}}},[t.message.censored?s("div",{staticClass:"message censored"},[t._v(" This message has been censored by a moderator. ")]):s("vue-markdown",{staticClass:"message",attrs:{source:t.message.content}}),s("div",{staticClass:"details"},[s("span",[t._v(" — ")]),s("span",{staticClass:"author",on:{click:function(e){return e.stopPropagation(),t.$emit("goTo",t.message.authorUID)}}},[t._v(t._s(t.message.author))]),s("span",{staticClass:"time"},[t._v(", "+t._s(t.fromNow(t.message.time)))]),t.isMe||t.moderator?s("span",[t._v(" ● ")]):t._e(),t.isMe||t.moderator?s("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.deleteMessage(t.message)}}},[t._v("delete")]):t._e(),t.moderator?s("span",[t._v(" ● ")]):t._e(),t.moderator?s("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.censorMessage(t.message)}}},[t._v(t._s(t.message.censored?"uncensor":"censor"))]):t._e()])],1)},ye=[],we={name:"Message",components:{},props:["isMe","message","isCompatible"],data:function(){return{hovered:!1,now:(new Date).getTime()}},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["d"])("users",["users"])),Object(y["c"])("users",["me"])),{},{moderator:function(){return this.me.moderator},lifetime:function(){return this.users[this.message.authorUID].messageLifetime},blur:function(){if(this.isCompatible){var t=this.now,e=this.lifetime,s=this.message.time,n=t-s,i="blur(".concat(5*n/e,"px)");return i}return null}}),created:function(){var t=this;setInterval((function(){t.now=(new Date).getTime()}),6e4)},methods:Object(b["a"])(Object(b["a"])({},Object(y["b"])("messages",["deleteMessage","censorMessage"])),{},{fromNow:function(t){return Object(at["default"])(t).fromNow()},toNearestX:function(t,e){return Math.floor(100*t/e)*e}})},_e=we,ke=(s("fd40"),Object(H["a"])(_e,be,ye,!1,null,null,null)),Ce=ke.exports,$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"territory",style:{left:100*t.territory.borders.x+"%",top:100*t.territory.borders.y+"%",width:100*t.territory.borders.w+"%",height:100*t.territory.borders.h+"%","--ground":t.territory.color},attrs:{id:t.slug}},[t.scale<=7?s("svg",{staticClass:"shape",attrs:{viewBox:t.viewBox,preserveAspectRatio:"none"}},[s("path",{attrs:{fill:t.territory.color,d:t.d}})]):t._e(),"reception"===t.slug&&t.$lifecycle>=0?s("Reception",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):t._e(),"readme"===t.slug&&t.$lifecycle>=1?s("Readme",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"exhibition"===t.slug&&t.$lifecycle>=2?s("Exhibition",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"schedule"===t.slug&&t.$lifecycle>=1?s("Timetable",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"contributors"===t.slug&&t.$lifecycle>=1?s("Contributors",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"study-room"===t.slug&&t.$lifecycle>=1?s("StudyRoom",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"library"===t.slug&&t.$lifecycle>=1?s("Library",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"glossary"===t.slug&&t.$lifecycle>=1?s("Glossary",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"hangout"===t.slug&&t.$lifecycle>=1?s("Hangout",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)}}}):"livestream"===t.slug?s("Livestream",{class:t.slug,attrs:{content:t.content},on:{moreInfo:function(e){return t.$emit("moreInfo",e)},goTo:function(e){return t.$emit("goTo",e)}}}):t.content?s("div",{staticClass:"placeholder",class:t.slug}):t._e()],1)},Te=[],Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.content,(function(e){return s("Island",{key:e.slug,attrs:{id:e.slug+"Island",section:e},nativeOn:{click:function(s){return t.$emit("moreInfo","/reception/"+e.slug)}}})})),1)},xe=[],Oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"island"},[s("div",{staticClass:"header"},[s("h1",{class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.section.Title)+" ")])])])},Le=[],Ie={name:"Island",props:["section"]},Me=Ie,je=(s("8dae"),Object(H["a"])(Me,Oe,Le,!1,null,"58fecb18",null)),Be=je.exports,Ue={name:"Reception",components:{Island:Be},props:["content"]},Ee=Ue,Pe=(s("479d"),Object(H["a"])(Ee,Se,xe,!1,null,"4b4bac5c",null)),De=Pe.exports,Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.content,(function(e){return s("Island",{key:e.slug,attrs:{id:e.slug+"Island",section:e},nativeOn:{click:function(s){return t.$emit("moreInfo","/readme/"+e.slug)}}})})),1)},Ne=[],Re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"island"},[s("div",{staticClass:"header"},[s("h1",{class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.section.Title)+" ")])])])},ze=[],He={name:"Island",props:["section"]},Fe=He,Ve=(s("b2f8"),Object(H["a"])(Fe,Re,ze,!1,null,"20c07e89",null)),qe=Ve.exports,Ze={name:"Readme",components:{Island:qe},props:["content"]},We=Ze,Ge=(s("77e6"),Object(H["a"])(We,Ae,Ne,!1,null,"e4e85630",null)),Ye=Ge.exports,Xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.content,(function(e){return s("Island",{key:e.id,style:{left:e.x+"%",top:e.y+"%"},attrs:{id:e.slug+"ExhibIsland",artwork:e},on:{moreInfo:function(s){return t.$emit("moreInfo","/exhibition/"+e.slug)}}})})),1)},Je=[],Ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"island",class:t.type},[s("div",{staticClass:"body"},["video"===t.type&&t.videoUrl?s("VideoArt",{attrs:{artwork:t.artwork,videoUrl:t.videoUrl}}):"video"===t.type?s("VideoArtLoading",{attrs:{artwork:t.artwork}}):"pdf"===t.type?s("PdfArt",{attrs:{artwork:t.artwork}}):"image"===t.type?s("PictureArt",{attrs:{artwork:t.artwork}}):t._e()],1),s("div",{staticClass:"header"},[s("h1",{staticClass:"title",class:{zxx:t.$store.state.desiresTexture},on:{mousedown:function(e){return e.stopPropagation(),t.$emit("moreInfo","/exhibition/"+t.artwork.slug)}}},[t._v(" "+t._s(t.artwork.Name)+" ")]),s("h3",{staticClass:"authors"},[t.authors&&t.authors.length>0?s("SemanticList",{attrs:{list:t.authors,collection:"contributors"}}):t._e()],1)])])},Qe=[],ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"semanticList body"},[s("span",{class:t.name+"s"},[t.title?s("span",[t._v(" "+t._s(t.title)+" ")]):t._e(),t._l(t.list,(function(e){return s("span",{key:e.Name||e.Title,class:t.name},[s("a",{staticClass:"name",attrs:{href:"/"+t.collection+"/"+e.slug}},[t._v(t._s(e.Name||e.Title))]),t.title&&t.isLast(e,t.list)?s("span",[t._v(". ")]):t.isBeforeLast(e,t.list)?s("span",[t._v(" and ")]):t.title?s("span",[t._v(", ")]):t._e()])}))],2)])},es=[],ss={name:"SemanticList",props:["list","name","collection"],computed:{title:function(){return this.name?"Hosting"==this.name?"Participates in":1===this.list.length?this.name+":":this.name+"s:":null}},methods:{isLast:function(t,e){return e.indexOf(t)===e.length-1},isBeforeLast:function(t,e){return e.indexOf(t)===e.length-2},alphabetical:function(t){return t.sort((function(t,e){return t.Name.length-e.Name.length}))}}},ns=ss,is=(s("4716"),Object(H["a"])(ns,ts,es,!1,null,null,null)),os=is.exports,rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["videoArt",t.artwork.Category]},[t.videoUrl?s("video",{ref:"player",class:{fullscreen:t.controls},attrs:{loop:"",preload:"metadata",crossorigin:"anonymous",controls:t.controls},on:{mouseover:function(t){t.stopPropagation()},mouseleave:function(t){t.stopPropagation()},click:t.play}},[s("source",{ref:"vidSrc",attrs:{src:t.videoUrl,type:"video/mp4"}}),s("track",{attrs:{src:t.trackUrl,srclang:"en",label:"English",kind:"subtitles",default:""}})]):t._e(),s("div",{staticClass:"controls"},[s("h3",{staticClass:"play",on:{click:function(e){return e.stopPropagation(),t.play(e)}}},[t._v(" "+t._s(t.playing?"pause":"play")+" ")]),s("h3",{staticClass:"timeLeft"},[t._v(" "+t._s(t.timeLeft)+" ")]),s("h3",{staticClass:"fullscreen",on:{click:function(e){return e.stopPropagation(),t.enterFullscreen(e)}}},[t._v(" ⤢ ")])])])},as=[],cs={name:"VideoArt",props:["artwork","videoUrl"],data:function(){return{trackSrc:null,playing:!1,fullscreen:!1,controls:!1,timeLeft:"0"}},computed:{mimeType:function(){return this.artwork.File.mime},trackUrl:function(){return this.artwork.Track?this.$apiURL+this.artwork.Track.url:null}},mounted:function(){var t=this,e=this.$refs.player;e.addEventListener("loadedmetadata",(function(){t.timeLeft=Object(at["default"])(1e3*e.duration).format("mm:ss")})),e.addEventListener("timeupdate",(function(){t.timeLeft=Object(at["default"])(1e3*(e.duration-e.currentTime)).format("mm:ss")})),e.addEventListener("playing",(function(){t.playing=!0})),e.addEventListener("pause",(function(){t.playing=!1}));var s=["","webkit","moz","ms"];s.forEach((function(s){e.addEventListener(s+"fullscreenchange",(function(){window.innerHeight!==screen.height&&(t.fullscreen=!1,t.controls=!1)}))}))},methods:{play:function(t){this.playing?this.$refs.player.pause():this.$refs.player.play(),t&&t.preventDefault()},enterFullscreen:function(){var t=this;this.$refs.player.requestFullScreen?this.$refs.player.requestFullScreen():this.$refs.player.mozRequestFullScreen?this.$refs.player.mozRequestFullScreen():this.$refs.player.webkitRequestFullScreen&&this.$refs.player.webkitRequestFullScreen(),this.fullscreen=!0,setTimeout((function(){t.controls=!0}),300)}}},us=cs,ls=(s("b464"),Object(H["a"])(us,rs,as,!1,null,"7207fe50",null)),ds=ls.exports,fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["videoArt",t.artwork.Category]},[s("div",{staticClass:"placeholder"}),t._m(0)])},ms=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"controls"},[s("h3",{staticClass:"timeLeft"},[t._v("loading")])])}],hs={name:"VideoArtPlaholder",props:["artwork"]},ps=hs,gs=(s("682d"),Object(H["a"])(ps,fs,ms,!1,null,"6ea94e60",null)),vs=gs.exports,bs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["pdfArt",t.artwork.Category]},[s("a",{staticClass:"externalLink",attrs:{target:"_blank",href:t.pdfURL}},[s("img",{attrs:{src:t.imgURL}})]),s("div",{staticClass:"controls"},[s("a",{attrs:{target:"_blank",href:t.pdfURL}},[s("h3",{},[t._v("↗")])])])])},ys=[],ws=(s("c96a"),{name:"PdfArt",props:["artwork"],computed:{pdfURL:function(){return this.$apiURL+this.artwork.File.url},imgURL:function(){return this.artwork.Track?this.$apiURL+this.artwork.Track.formats.small.url:null}}}),_s=ws,ks=(s("6c8b"),Object(H["a"])(_s,bs,ys,!1,null,"28c3e06c",null)),Cs=ks.exports,$s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["pictureArt",t.artwork.Category]},[s("a",{staticClass:"externalLink",attrs:{target:"_blank",href:t.imgURL}},[s("img",{attrs:{src:t.icoURL}})]),s("div",{staticClass:"controls"},[s("a",{attrs:{target:"_blank",href:t.imgURL}},[s("h3",[t._v("↗")])])])])},Ts=[],Ss={name:"PictureArt",props:["artwork"],computed:{imgURL:function(){return this.$apiURL+this.artwork.File.url},icoURL:function(){return this.artwork.File.formats?this.$apiURL+this.artwork.File.formats.small.url:this.imgURL}}},xs=Ss,Os=(s("429d"),Object(H["a"])(xs,$s,Ts,!1,null,"001c46bd",null)),Ls=Os.exports,Is={name:"Island",components:{SemanticList:os,VideoArt:ds,VideoArtLoading:vs,PdfArt:Cs,PictureArt:Ls},props:["artwork"],data:function(){return{videoUrl:null}},computed:{type:function(){return this.artwork.File?this.artwork.File.mime.includes("video")?"video":this.artwork.File.mime.includes("image")?"image":this.artwork.File.mime.includes("pdf")?"pdf":null:null},authors:function(){return this.artwork.authors}},created:function(){var t=this;"video"==this.type&&setTimeout((function(){t.videoUrl=t.$apiURL+t.artwork.File.url}),500*this.artwork.id)},methods:{}},Ms=Is,js=(s("c6c8"),Object(H["a"])(Ms,Ke,Qe,!1,null,"7585392e",null)),Bs=js.exports,Us={name:"Exhibition",components:{Island:Bs},props:["content"],mounted:function(){var t=this;setTimeout((function(){t.handleLinks()}),2e3)},methods:{handleLinks:function(){var t=this;setTimeout((function(){Array.from(document.querySelectorAll("#exhibition a")).forEach((function(e){var s=e.attributes.href.value;s&&(s.startsWith("/")||s.startsWith(t.$appURL))&&e.addEventListener("click",(function(e){var n=s.replace(t.$appURL,"/");t.$router.push(n),e.preventDefault()}))}))}),500)}}},Es=Us,Ps=(s("928e"),Object(H["a"])(Es,Xe,Je,!1,null,"f94da382",null)),Ds=Ps.exports,As=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"timeZone"}},[s("h3",[t._v("Sessions are displayed in "+t._s(t.notEtc(t.timeZone))+" time.")]),t.isInDefaultTimeZone?t._e():s("h3",{staticClass:"toggle",on:{click:function(e){return e.stopPropagation(),t.toggleTimezone(e)}}},[t._v(" "+t._s(t.desiresOwnTimezone?"View sessions in "+t.notEtc(t.defaultTimeZone)+" time.":"View sessions in "+t.notEtc(t.ownTimeZone)+" time.")+" ")])]),t._l(t.parentDays,(function(e,n){return s("div",{key:n,staticClass:"parentDay"},t._l(e,(function(e){return s("div",{key:t.getDay(e.date),staticClass:"day"},[s("div",{staticClass:"date"},[t._v(" "+t._s(t.cuteDate(e.date))+" "),s("br"),s("em",[t._v(t._s("firstDay"===n?"Vernissage":"Workshop"))])]),s("div",{staticClass:"sessionsContainer"},t._l(e.sessions,(function(e){return s("div",{key:e.slug,class:["islandContainer",{buffer:e.buffer,break:t.isBreak(e),island:!e.Start}],style:{height:t.sizeByDuration(e)}},[e.Start?s("Island",{attrs:{id:e.slug+"Island",timeZone:t.timeZone,session:e},nativeOn:{click:function(s){return t.$emit("moreInfo","/schedule/"+e.slug)}}}):s("div",{staticClass:"staggered"},[s("div",{staticClass:"time"},[s("span",{staticClass:"start"},[t._v(t._s(t.getHumanTime(e[0].Start)))]),s("span",{staticClass:"bar"},[t._v(" | ")]),s("span",{staticClass:"end"},[t._v(" "+t._s(t.getHumanTime(e[e.length-1].End)))])]),t._l(e,(function(e){return s("Island",{key:e.slug,staticClass:"buffer",attrs:{id:e.slug+"Island",timeZone:t.timeZone,session:e},nativeOn:{click:function(s){return t.$emit("moreInfo","/schedule/"+e.slug)}}})}))],2)],1)})),0)])})),0)}))],2)},Ns=[],Rs=(s("4de4"),s("d81d"),s("6062"),s("ddb0"),s("7f45")),zs=s.n(Rs),Hs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["island"]},[s("div",{staticClass:"time"},[s("span",{staticClass:"start"},[t._v(t._s(t.HumanStart))]),s("span",{staticClass:"bar"},[t._v(" | ")]),s("span",{staticClass:"end"},[t._v(" "+t._s(t.HumanEnd))])]),s("div",{staticClass:"info"},[s("div",{staticClass:"header"},[s("h1",{staticClass:"title",class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.session.Title)+" ")])])]),t.soon&&!t.ended&&t.room.url?s("BBB-link",{attrs:{room:t.room},nativeOn:{mousedown:function(t){t.stopPropagation()},mouseup:function(t){t.stopPropagation()},click:function(t){t.stopPropagation()}}}):t._e()],1)},Fs=[],Vs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"BBB-container",class:{disabled:!t.room.url},attrs:{target:"_blank",href:t.room.url?t.room.url:null}},[s("h3",{staticClass:"BBB"},[t._v(" Click here to join "+t._s(t.room.name)+". ")])])},qs=[],Zs={name:"BBBLink",props:["room"]},Ws=Zs,Gs=(s("1555"),Object(H["a"])(Ws,Vs,qs,!1,null,"246e4a5b",null)),Ys=Gs.exports,Xs={name:"Island",components:{BBBLink:Ys},props:["session","timeZone"],watch:{timeZone:function(){this.HumanStart=this.getHumanTime(this.session.Start),this.HumanEnd=this.getHumanTime(this.session.End)}},data:function(){return{HumanStart:this.getHumanTime(this.session.Start),HumanEnd:this.getHumanTime(this.session.End),now:(new Date).getTime(),fifteen:9e5,soonInterval:null,room:{name:"BBB room",url:this.session.bbbURL?this.session.bbbURL:""}}},computed:{soon:function(){return this.getUnixTime(this.session.Start)<this.now+this.fifteen},ended:function(){return this.getUnixTime(this.session.End)<this.now}},created:function(){var t=this;this.soonInterval=setInterval((function(){t.now=(new Date).getTime()}),6e4)},beforeDestroy:function(){clearInterval(this.soonInterval)},methods:{getHumanTime:function(t){return zs()(t).format("HH:mm")},getUnixTime:function(t){return zs()(t).format("x")}}},Js=Xs,Ks=(s("373a"),Object(H["a"])(Js,Hs,Fs,!1,null,"132161a9",null)),Qs=Ks.exports,tn={name:"Timetable",components:{Island:Qs},props:["content"],data:function(){return{defaultTimeZone:"Etc/UTC",ownTimeZone:zs.a.tz.guess(),desiresOwnTimezone:!0,parentDays:{},firstLoad:!0}},computed:{timeZone:function(){return this.desiresOwnTimezone?this.ownTimeZone:this.defaultTimeZone},isInDefaultTimeZone:function(){return this.ownTimeZone===this.defaultTimeZone},isMobile:function(){return this.$store.state.isMobile},currentLiveSession:function(){return this.$store.state.territories.currentLiveSession}},created:function(){zs.a.tz.setDefault(this.ownTimeZone),this.orderContentByDays()},methods:{orderContentByDays:function(){var t=this,e={firstDay:{},secondDay:{}},s=Object.values(this.content).sort((function(t,e){return new Date(t.Start)-new Date(e.Start)})),n=s.map((function(e){return t.getDay(e["Start"])})),i=Array.from(new Set(n)),o=9e5;i.forEach((function(n){for(var i=s.filter((function(e){return t.sessionInDay(e,n)})),r=0;r<i.length;r++){var a=i[r-1],c=i[r],u=i[r+1];c&&a&&u&&t.getUnixTime(c.Start)-t.getUnixTime(a.Start)<=o&&(i[r-1].buffer=!0,i[r].buffer=!0)}var l=i.filter((function(t){return t.buffer}));if(l.length>0){for(var d={},f=t.getUnixTime(l[0].Start),m=0;m<l.length;){d[f]||(d[f]=[]);var h=t.getUnixTime(l[m].Start);h-f<=4*o?(d[f].push(l[m]),m++):f=h}var p=function(e){var s=i.find((function(s){return t.getUnixTime(s.Start)===e})),n=i.indexOf(s),o=d[e],r=Object.values(o).length;i[n]=o,i.splice(n+1,r-1)};for(var g in d)p(g)}var v={date:i[0].Start,sessions:i},b=3==n||4==n||5==n?"firstDay":6==n||7==n||8==n?"secondDay":null;e[b][n]=v})),this.$set(this,"parentDays",e)},toggleTimezone:function(){this.desiresOwnTimezone=!this.desiresOwnTimezone,zs.a.tz.setDefault(this.timeZone),this.orderContentByDays()},sizeByDuration:function(t){var e=t.length,s=e?t[0].Start:t.Start,n=e?2*t[e-1].End:t.End,i=this.getUnixTime(s),o=this.getUnixTime(n),r=o-i,a=r/25e4,c=this.isMobile?.6:1,u="calc(".concat(a*c," * var(--one))");return u},sessionInDay:function(t,e){return this.getDay(t.Start)===e},isBreak:function(t){return"Break"===t.Title},getHumanTime:function(t){return zs()(t).format("HH:mm")},getUnixTime:function(t){return zs()(t).format("x")},getDay:function(t){return zs()(t).format("D")},cuteDate:function(t){return zs()(t).format("dddd, MMMM Do")},notEtc:function(t){return"Etc/UTC"===t?"UTC":t}}},en=tn,sn=(s("d66f"),Object(H["a"])(en,As,Ns,!1,null,"30ad5384",null)),nn=sn.exports,on=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.content,(function(e){return s("Island",{key:e.slug,attrs:{id:e.slug+"Island",section:e},nativeOn:{click:function(s){return t.$emit("moreInfo","/contributors/"+e.slug)}}})})),1)},rn=[],an=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"island"},[s("div",{staticClass:"header"},[s("h1",{class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.section.Name)+" ")])])])},cn=[],un={name:"Island",props:["section"]},ln=un,dn=(s("f9b0"),Object(H["a"])(ln,an,cn,!1,null,"33fc67a7",null)),fn=dn.exports,mn={name:"Contributors",components:{Island:fn},props:["content"]},hn=mn,pn=(s("32d9"),Object(H["a"])(hn,on,rn,!1,null,"392cb476",null)),gn=pn.exports,vn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"studyRoom"},[s("div",{staticClass:"schedule"},[s("div",{attrs:{id:"timeZone"}},[s("h3",[t._v("Sessions are displayed in "+t._s(t.notEtc(t.timeZone))+" time.")]),t.isInDefaultTimeZone?t._e():s("h3",{staticClass:"toggle",on:{click:function(e){return e.stopPropagation(),t.toggleTimezone(e)}}},[t._v(" "+t._s(t.desiresOwnTimezone?"View sessions in "+t.notEtc(t.defaultTimeZone)+" time.":"View sessions in "+t.notEtc(t.ownTimeZone)+" time.")+" ")])]),t._l(t.sessionsByDay,(function(e){return s("div",{key:t.getDay(e.date),staticClass:"day"},t._l(e.sessions,(function(n){return s("div",{key:n.slug,staticClass:"islandContainer",attrs:{id:n.slug+"Island"}},[s("div",{staticClass:"date"},[t._v(" "+t._s(t.cuteDate(e.date))+" ")]),s("div",{staticClass:"time"},[s("span",{staticClass:"start"},[t._v(t._s(t.getHumanTime(n.Start)))]),s("span",{staticClass:"end"},[t._v(" "+t._s(t.getHumanTime(n.End)))])]),s("Island",{attrs:{session:n},nativeOn:{click:function(e){return t.$emit("moreInfo","/study-room/"+n.slug)}}})],1)})),0)}))],2),s("div",{staticClass:"room "},[s("BBBLink",{attrs:{room:t.bbbRoom}})],1)])},bn=[],yn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["island",{break:t.isBreak}]},[s("div",{staticClass:"info"},[s("div",{staticClass:"header"},[s("h1",{staticClass:"title",class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.session.Title)+" ")])])]),t.soon?s("BBB-link",{attrs:{BBBLink:t.session.bbbURL},nativeOn:{mousedown:function(t){t.stopPropagation()},mouseup:function(t){t.stopPropagation()},click:function(t){t.stopPropagation()}}}):t._e()],1)},wn=[],_n={name:"Island",components:{BBBLink:Ys},props:["session"],data:function(){return{}},computed:{soon:function(){return!1},hosts:function(){return this.session.hosts},moderators:function(){return this.session.moderators},isBreak:function(){return!this.session.Description||0===this.session.Description.length}},created:function(){},methods:{}},kn=_n,Cn=(s("4552"),Object(H["a"])(kn,yn,wn,!1,null,"1284684c",null)),$n=Cn.exports,Tn={name:"StudyRoom",components:{Island:$n,BBBLink:Ys},props:["content"],data:function(){return{defaultTimeZone:"Etc/UTC",ownTimeZone:zs.a.tz.guess(),desiresOwnTimezone:!0,sessionsByDay:{},bbbRoom:{name:"Study Room",url:"https://bbb.tbm.tudelft.nl/b/3rd-pvb-xah-r8w"}}},computed:{timeZone:function(){return this.desiresOwnTimezone?this.ownTimeZone:this.defaultTimeZone},isInDefaultTimeZone:function(){return this.ownTimeZone===this.defaultTimeZone}},created:function(){zs.a.tz.setDefault(this.ownTimeZone),this.orderContentByDays()},methods:{orderContentByDays:function(){var t=this,e={},s=Object.values(this.content).sort((function(t,e){return new Date(t.Start)-new Date(e.Start)})),n=s.map((function(e){return t.getDay(e["Start"])})),i=Array.from(new Set(n));i.forEach((function(n){var i=s.filter((function(e){return t.sessionInDay(e,n)})),o={date:i[0].Start,sessions:i};e[o.date]=o})),this.$set(this,"sessionsByDay",e)},toggleTimezone:function(){this.desiresOwnTimezone=!this.desiresOwnTimezone,zs.a.tz.setDefault(this.timeZone),this.orderContentByDays()},sessionInDay:function(t,e){return this.getDay(t.Start)===e},sizeByDuration:function(t){var e=this.getUnixTime(t.Start),s=this.getUnixTime(t.End),n=s-e,i=this.isBreak(t)?8:n/45e4,o="calc(".concat(i," * var(--one))");return o},notEtc:function(t){return"Etc/UTC"===t?"UTC":t},isBreak:function(t){return"Break"===t.Title},getHumanTime:function(t){return zs()(t).format("HH:mm")},getUnixTime:function(t){return zs()(t).format("x")},getDay:function(t){return zs()(t).format("D")},cuteDate:function(t){return zs()(t).format("dddd, MMMM Do")}}},Sn=Tn,xn=(s("228c"),Object(H["a"])(Sn,vn,bn,!1,null,"7162519c",null)),On=xn.exports,Ln=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._l(t.content,(function(t){return s("Island",{key:t.slug,ref:t.slug,refInFor:!0,attrs:{id:t.slug+"Island",section:t}})})),s("Island",{ref:"upload",staticClass:"submit",attrs:{section:t.uploadSection,id:t.uploadSection.slug+"Island"},nativeOn:{click:function(e){return t.$emit("moreInfo","/library/"+t.uploadSection.slug)}}})],2)},In=[],Mn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"island resource"},[s("a",{staticClass:"header",attrs:{href:t.src,target:"_blank"}},[s("h3",[t._v(" "+t._s(t.section.author)+" ")]),s("h1",[t._v(" "+t._s(t.section.Name)+" ")])])])},jn=[],Bn={name:"Island",props:["section"],computed:{src:function(){return this.section.File?this.$apiURL+this.section.File.url:this.section.URL}}},Un=Bn,En=(s("d25c"),Object(H["a"])(Un,Mn,jn,!1,null,"33feabf0",null)),Pn=En.exports,Dn={name:"Library",components:{Island:Pn},props:["content"],data:function(){return{uploadSection:{Name:"Submit a resource",slug:"upload"}}}},An=Dn,Nn=(s("03bd"),Object(H["a"])(An,Ln,In,!1,null,"5c6676df",null)),Rn=Nn.exports,zn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._l(t.content,(function(e){return s("Island",{key:e.slug,attrs:{id:e.slug+"Island",section:e},nativeOn:{click:function(s){return t.$emit("moreInfo","/glossary/"+e.slug)}}})})),s("Island",{ref:"upload",staticClass:"submit",attrs:{section:t.uploadSection,id:t.uploadSection.slug+"Island"},nativeOn:{click:function(e){return t.$emit("moreInfo","/glossary/"+t.uploadSection.slug)}}})],2)},Hn=[],Fn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"island"},[s("div",{staticClass:"header"},[s("h1",{class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.section.Term)+" ")])])])},Vn=[],qn={name:"Island",props:["section"]},Zn=qn,Wn=(s("dc09"),Object(H["a"])(Zn,Fn,Vn,!1,null,"721d2022",null)),Gn=Wn.exports,Yn={name:"Glossary",components:{Island:Gn},props:["content"],data:function(){return{uploadSection:{Term:"Submit a glossary term",slug:"submit"}}}},Xn=Yn,Jn=(s("f0e4"),Object(H["a"])(Xn,zn,Hn,!1,null,"4495a7ca",null)),Kn=Jn.exports,Qn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._l(t.rooms,(function(t,e){return s("div",{key:e,class:["BBBisland","BBBisland"+e]},[s("BBBLink",{attrs:{room:t}})],1)})),s("div",{attrs:{id:"participantsIndicator"}}),s("div",{attrs:{id:"BBBIndicator"}})],2)},ti=[],ei={name:"Hangout",components:{BBBLink:Ys},data:function(){return{rooms:{1:{name:"Room 1",url:"https://bbb.tbm.tudelft.nl/b/3rd-yns-svo-fbn"},2:{name:"Room 2",url:"https://bbb.tbm.tudelft.nl/b/3rd-qmb-3gn-3ql"},3:{name:"Room 3",url:"https://bbb.tbm.tudelft.nl/b/3rd-scf-jhq-5qv"}}}}},si=ei,ni=(s("1450"),Object(H["a"])(si,Qn,ti,!1,null,"31858e04",null)),ii=ni.exports,oi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("VideoIsland",{attrs:{playbackId:t.playbackId},on:{loadedmetadata:function(e){t.status="active"}}}),s("div",{staticClass:"sidebar"},[s("InfoIsland",{attrs:{session:t.currentLiveSession,status:t.status},nativeOn:{click:function(e){return t.$emit("moreInfo","/schedule/"+t.currentLiveSession.slug)}}}),s("Chat",{attrs:{sessionOngoing:t.currentLiveSession},on:{goTo:function(e){return t.$emit("goTo",e)}}})],1)],1)},ri=[],ai=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["island",{playing:t.playing}]},[s("div",{staticClass:"body"},[s("Video",{attrs:{playbackId:t.playbackId,forcedPlaybackId:t.forcedPlaybackId,playing:t.playing,muted:t.muted,fullscreen:t.fullscreen},on:{playing:function(e){t.playing=!0},pausing:function(e){t.playing=!1},unfullscreened:function(e){t.fullscreen=!1},loadedmetadata:function(e){t.loadedmetadata=!0,t.$emit("loadedmetadata")}}})],1),t.loadedmetadata?s("div",{staticClass:"controls"},[s("div",{staticClass:"buttonContainer"},[s("input",{attrs:{type:"button",name:"play",value:t.playing?"pause":"play"},on:{click:function(e){t.playing=!t.playing}}})]),s("div",{staticClass:"buttonContainer"},[s("input",{attrs:{type:"button",name:"muted",value:t.muted?"unmute":"mute"},on:{click:function(e){t.muted=!t.muted}}})]),s("div",{staticClass:"buttonContainer"},[s("input",{attrs:{type:"button",name:"fullscreen",value:"⤢"},on:{click:function(e){t.fullscreen=!0}}})])]):t._e()])},ci=[],ui=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("video",{class:{fullscreen:t.controls},attrs:{muted:"",crossorigin:"anonymous",controls:t.controls,autoplay:"",tabindex:"0"},domProps:{muted:!0}})},li=[],di=s("dff4"),fi=s.n(di),mi={name:"Video",props:["playbackId","forcedPlaybackId","playing","muted","fullscreen"],data:function(){return{controls:!1,retryInterval:null,attempts:0,maxAttempts:30}},computed:{isMobile:function(){return this.$store.state.isMobile}},watch:{playbackId:function(){this.updateVideo(),this.resetRetryInterval()},forcedPlaybackId:function(){clearInterval(this.retryInterval),this.attempts=0,this.updateVideo()},playing:function(t){t?this.$el.play():this.$el.pause()},muted:function(t){this.$el.muted=!!t},fullscreen:function(t){var e=this;t&&(this.$el.requestFullScreen?this.$el.requestFullScreen():this.$el.mozRequestFullScreen?this.$el.mozRequestFullScreen():this.$el.webkitRequestFullScreen&&this.$el.webkitRequestFullScreen(),setTimeout((function(){e.controls=!0}),300))}},mounted:function(){var t=this;this.playbackId&&(this.updateVideo(),this.resetRetryInterval()),this.isMobile&&(this.controls=!0),this.$el.addEventListener("loadedmetadata",(function(){clearInterval(t.retryInterval),t.attempts=0,t.$emit("loadedmetadata")})),this.$el.addEventListener("playing",(function(){t.$emit("playing")})),this.$el.addEventListener("pause",(function(){t.$emit("pausing")}));var e=["","webkit","moz","ms"];e.forEach((function(e){t.$el.addEventListener(e+"fullscreenchange",(function(){window.innerHeight!==screen.height&&(t.$emit("unfullscreened"),t.isMobile||(t.controls=!1))}))}))},beforeDestroy:function(){clearInterval(this.retryInterval),this.attempts=0},methods:{resetRetryInterval:function(){var t=this;this.retryInterval=setInterval((function(){t.attempts<t.maxAttempts&&(t.updateVideo(),t.attempts++)}),2e4)},src:function(t){return this.forcedPlaybackId?"https://stream.mux.com/".concat(t,".m3u8"):"https://bbb.tbm.tudelft.nl/hls/".concat(t,".m3u8")},updateVideo:function(){var t=this,e=this.playbackId,s=this.forcedPlaybackId,n=this.src(s||e);if(console.log("* SOURCE:",n),fi.a.isSupported()){var i=new fi.a;i.loadSource(n),i.attachMedia(this.$el),i.on(fi.a.Events.MANIFEST_PARSED,(function(){t.$emit("playing")}))}else this.$el.canPlayType("application/vnd.apple.mpegurl")&&(this.$el.src=n,this.$el.addEventListener("loadedmetadata",(function(){t.$emit("playing")})))}}},hi=mi,pi=(s("cf06"),Object(H["a"])(hi,ui,li,!1,null,null,null)),gi=pi.exports,vi={name:"VideoIsland",components:{Video:gi},props:["playbackId"],data:function(){return{forcedPlaybackId:null,playing:!1,muted:!0,fullscreen:!1,loadedmetadata:!1}},watch:{playbackId:function(t,e){t!==e&&(this.forcedPlaybackId=null)}},sockets:{message:function(t){t.uid&&!t.deleted&&!t.navigation&&t.stream&&(this.forcedPlaybackId=t.content.replace("/stream ",""),console.log("* STREAM: Got a forced playback id: ",this.forcedPlaybackId))}}},bi=vi,yi=(s("767e"),Object(H["a"])(bi,ai,ci,!1,null,"d0180098",null)),wi=yi.exports,_i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["island"]},[t.session?s("div",{staticClass:"date"},[s("span",{staticClass:"day"},[t._v(" "+t._s(t.day)+" ")])]):t._e(),t.session?s("div",{staticClass:"time"},[s("span",{staticClass:"start"},[t._v(t._s(t.HumanStart)+" ")]),s("span",{staticClass:"bar"},[t._v(" — ")]),s("span",{staticClass:"end"},[t._v(" "+t._s(t.HumanEnd))])]):t._e(),t.session?s("div",{staticClass:"info"},[s("div",{staticClass:"header"},[s("h1",{staticClass:"title",class:{zxx:t.$store.state.desiresTexture}},[t._v(" "+t._s(t.session.Title)+" ")])]),s("div",{staticClass:"status"},[t._v(" Status: "+t._s(t.status)+" ")])]):t._e()])},ki=[],Ci={name:"InfoIsland",props:["session","status"],computed:{day:function(){return this.session?zs()(this.session.Start).format("dddd, MMMM Do z"):null},HumanStart:function(){return this.session?this.getHumanTime(this.session.Start):null},HumanEnd:function(){return this.session?this.getHumanTime(this.session.End):null}},methods:{getHumanTime:function(t){return zs()(t).format("HH:mm")}}},$i=Ci,Ti=(s("e1b5"),Object(H["a"])($i,_i,ki,!1,null,"1c175d93",null)),Si=Ti.exports,xi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"island",attrs:{id:"chatContainer"}},[s("div",{ref:"chat",attrs:{id:"chat"}},t._l(t.chatByTime,(function(e){return s("Message",{key:e.time,attrs:{message:e},on:{goTo:function(e){return t.$emit("goTo",e)}}})})),1)])},Oi=[],Li=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["liveMessageContainer","message"+t.message.uid,{hovered:t.hovered,censored:t.message.censored}],style:{"--userColor":"var(--"+t.message.authorUID+")"},attrs:{id:t.message.uid},on:{mouseover:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1}}},[s("div",{staticClass:"message"},[s("span",{staticClass:"author",on:{click:function(e){return e.stopPropagation(),t.$emit("goTo",t.message.authorUID)}}},[t._v(t._s(t.message.author))]),s("span",[t._v(": ")]),s("vue-markdown",{staticClass:"content",attrs:{inline:"",source:t.content}})],1),s("div",{staticClass:"details"},[s("span",{staticClass:"time"},[t._v(t._s(t.time))]),t.isMe||t.moderator?s("span",[t._v(" ● ")]):t._e(),t.isMe||t.moderator?s("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.deleteMessage(t.message)}}},[t._v("delete")]):t._e(),t.moderator?s("span",[t._v(" ● ")]):t._e(),t.moderator?s("span",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.censorMessage(t.message)}}},[t._v(t._s(t.message.censored?"uncensor":"censor"))]):t._e()])])},Ii=[],Mi={name:"Message",props:["message"],data:function(){return{time:null,hovered:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])("users",["me"])),{},{moderator:function(){return this.me.moderator},isMe:function(){return this.message.authorUID===this.me.uid},content:function(){return this.message.censored?"This message has been censored by a moderator.":this.message.content}}),created:function(){var t=this;this.time=this.getTime(),setInterval((function(){t.time=t.getTime()}),6e4)},methods:Object(b["a"])(Object(b["a"])({},Object(y["b"])("messages",["deleteMessage","censorMessage"])),{},{getTime:function(){return Object(at["default"])(this.message.time).fromNow()}})},ji=Mi,Bi=(s("573a"),Object(H["a"])(ji,Li,Ii,!1,null,null,null)),Ui=Bi.exports,Ei={name:"Chat",components:{Message:Ui},props:["sessionOngoing"],computed:Object(b["a"])(Object(b["a"])({},Object(y["c"])("messages",["messagesArray"])),{},{chatByTime:function(){return this.sessionOngoing?this.messagesArray.filter((function(t){return t.uid&&!t.deleted&&!t.navigation&&!t.stream&&"livestream"===t.location})).sort((function(t,e){return t.time-e.time})):[]}}),mounted:function(){var t=this;setTimeout((function(){t.scrollToBottom(!0)}),1e3)},watch:{chatByTime:function(){this.scrollToBottom(!0)}},methods:{scrollToBottom:function(t){var e=this;setTimeout((function(){e.$refs.chat.scroll({top:e.$refs.chat.scrollHeight,behavior:"smooth"})}),t?100:0)}}},Pi=Ei,Di=(s("efd2"),Object(H["a"])(Pi,xi,Oi,!1,null,"49a918ba",null)),Ai=Di.exports,Ni={name:"Livestream",components:{VideoIsland:wi,InfoIsland:Si,Chat:Ai},data:function(){return{status:"idle",now:null}},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["d"])("territories",["currentLiveSession"])),Object(y["c"])("territories",["liveSessions"])),{},{pastSessions:function(){var t=this;return this.liveSessions.filter((function(e){return t.getTime(e.Start)<t.now})).reverse()},futureSessions:function(){var t=this;return this.liveSessions.filter((function(e){return t.getTime(e.Start)>t.now}))},currentSession:function(){var t=this;return this.pastSessions.find((function(e){return t.getTime(e.End)>t.now}))},nextSession:function(){var t=this;return this.futureSessions.find((function(e){return t.getTime(e.Start)<t.now+12e4}))},laterSession:function(){return this.futureSessions[0]},previousSession:function(){return this.liveSessions[this.liveSessions.indexOf(this.futureSessions[0])-1]},soon:function(){return this.getTime(this.currentLiveSession.Start)<this.now},playbackId:function(){return this.currentLiveSession&&this.currentLiveSession.bbbURL&&this.soon?this.currentLiveSession.bbbURL.replace("https://bbb.tbm.tudelft.nl/b/",""):""}}),created:function(){var t=this;this.now=(new Date).getTime(),setInterval((function(){t.now=(new Date).getTime()}),6e4)},watch:{now:function(){this.getNextEvent()}},methods:{getNextEvent:function(){var t,e,s=this.currentSession,n=this.nextSession,i=this.laterSession,o=this.previousSession;s?(t=s,e="Using current session."):n?(t=n,e="Current session is undefined, using next session."):o&&i&&this.isDelay(o,i)?(t=o,e="Previous session could be running late, keeping it."):i?(t=i,e="Nothing happening soon, using later session"):(t=null,e="No more live events."),t===this.currentLiveSession?e="Nothing has changed, retrying in a minute.":(this.$store.commit("territories/setCurrentLiveSession",t),console.log("*****************************************************"),console.log("* Current time     :",zs()(this.now).format("dddd, MMMM Do HH:mm")),console.log("* Current session  :",s?s.Title:""),console.log("* Next session     :",n?n.Title:""),console.log("* Previous session :",o?o.Title:""),console.log("* Later session    :",i?i.Title:""),console.log("*****************************************************")),console.log("* STREAM:",e)},isDelay:function(t,e){var s=9e5,n=this.getTime(e.Start),i=this.getTime(t.End);return n-i<3*s},getTime:function(t){return zs()(t).format("x")}}},Ri=Ni,zi=(s("fab3"),Object(H["a"])(Ri,oi,ri,!1,null,"eed3930e",null)),Hi=zi.exports,Fi={name:"Territory",components:{Reception:De,Readme:Ye,Exhibition:Ds,Timetable:nn,Contributors:gn,StudyRoom:On,Library:Rn,Glossary:Kn,Hangout:ii,Livestream:Hi},props:["territory"],data:function(){return{d:null,viewBox:null}},computed:{scale:function(){return this.$store.state.scale},slug:function(){return this.territory.slug},content:function(){return this.territory.content}},created:function(){var t=this;this.$http.get("".concat(this.$apiURL).concat(this.territory.shape.url)).then((function(e){t.d=e.data.match(/ d="([\s\S]*?)"/g)[0].replace(' d="',"").replace('"',""),t.viewBox=e.data.match(/ viewBox="([\s\S]*?)"/g)[0].replace(' viewBox="',"").replace('"',"")}))}},Vi=Fi,qi=(s("5f99"),Object(H["a"])(Vi,$e,Te,!1,null,"7e091bbc",null)),Zi=qi.exports,Wi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui",attrs:{id:"list"}},t._l(t.territories,(function(e){return s("Territory",{key:e.slug,attrs:{territory:e},nativeOn:{click:function(s){return t.$emit("goTo",e.slug)}}})})),1)},Gi=[],Yi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{class:["list-territory",{active:t.isActive}],style:{"--ground":t.territory.color},attrs:{id:"list-"+t.territory.slug,tabindex:"0"}},[s("span",{staticClass:"name"},[t._v(t._s(t.territory.name))]),s("span",{staticClass:"goto"},[t._v(" → ")])])},Xi=[],Ji={name:"Territory",props:["territory"],computed:{location:function(){return this.$store.state.territories.location},isActive:function(){return this.territory.slug===this.location.slug}}},Ki=Ji,Qi=(s("d009"),Object(H["a"])(Ki,Yi,Xi,!1,null,null,null)),to=Qi.exports,eo={name:"List",components:{Territory:to},computed:Object(b["a"])({},Object(y["d"])("territories",["territories"]))},so=eo,no=(s("b005"),Object(H["a"])(so,Wi,Gi,!1,null,"274a7bba",null)),io=no.exports,oo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{hover:t.hover},attrs:{id:"tickerContainer"},on:{mouseover:function(e){e.stopPropagation(),t.hover=!0},mousemove:function(e){return e.stopPropagation(),t.handleMousemove(e)},mouseout:function(e){e.stopPropagation(),t.hover=!1},mouseup:function(e){e.stopPropagation(),t.ticker.link&&t.$router.push(t.ticker.link)}}},[s("div",{ref:"smarq",style:{transform:"translateX("+t.x+"px)"},attrs:{id:"ticker"}},[s("vue-markdown",{staticClass:"content",attrs:{inline:"",source:t.content}})],1)])},ro=[],ao=s("5370"),co=s.n(ao),uo={name:"Ticker",props:["marquee"],data:function(){return{hover:!1,x:0}},computed:Object(b["a"])(Object(b["a"])({},Object(y["d"])("territories",["currentLiveSession"])),{},{ticker:function(){return this.currentLiveSession?{phrase:'Watch the livestream: "'.concat(this.currentLiveSession.Title,'".'),link:"/livestream"}:this.$store.state.territories.ticker},content:function(){for(var t="",e=0;e<20;e++)t=t+this.ticker.phrase+" ";return t}}),watch:{marquee:function(){this.handleSmarquee()}},mounted:function(){this.marquee&&(this.smarquee=new co.a({element:this.$refs.smarq,iterationCount:"infinite"}),this.smarquee.init(),this.handleSmarquee())},methods:{handleMousemove:function(t){this.marquee||(this.x=t.clientX)},handleSmarquee:function(){this.marquee?this.smarquee.play():this.smarquee.pause()}}},lo=uo,fo=(s("1242"),Object(H["a"])(lo,oo,ro,!1,null,"cf4ff752",null)),mo=fo.exports,ho=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["overlayContainer",{visible:t.desiresOverlay},{hidden:t.isGeneral}]},[s("div",{attrs:{id:"infoTitle"}},[s("span",{class:["ui","infoToggle","hide",{hidden:!t.desiresOverlay}],attrs:{tabindex:t.desiresOverlay?0:-1},on:{click:function(e){return t.$emit("hideOverlay")}}},[t._v(" hide > ")]),s("span",{class:["ui","infoToggle","show",{hidden:t.desiresOverlay}],attrs:{tabindex:t.desiresOverlay?-1:0},on:{click:function(e){!t.dragging&&t.$emit("showOverlay")}}},[t._v(" < info ")])]),t.content?s("div",{ref:"overlay",class:["ui","overlay",t.content.slug],attrs:{tabindex:"-1"}},[t.content.Sections?t.content.Sections?s("article",{staticClass:"content"},[t._l(t.content.Sections,(function(t){return s("Section",{key:t.id,attrs:{section:t}})})),t.isRegister?s("div",{attrs:{id:"aanmelderContainer"}},[s("a",{attrs:{id:"backupLink",href:"https://www.aanmelder.nl/wo2021/subscribe"}},[t._v("Register online for the event.")]),s("div",{attrs:{id:"AanmelderRootDiv"}})]):t._e()],2):t._e():s("article",{staticClass:"content"},[t.isUpload?s("Upload",{ref:"upload",attrs:{sending:t.sending,sent:t.sent,collection:t.content.collection},on:{sending:function(e){t.sending=!t.sending},sent:function(e){t.sent=!t.sent,t.sending=!1}}}):s("Section",{attrs:{section:t.content}})],1)]):t._e(),t.content&&t.isUpload?s("div",{staticClass:"submitContainer"},[t.sending?t._e():s("input",{ref:"submit",staticClass:"ui submit",attrs:{type:"button",collection:t.content.type,value:t.sent?"submit another":"submit"},on:{click:function(e){return e.stopPropagation(),t.$refs.upload.submit(e)}}})]):t._e(),!t.content||"tour"!==t.content.slug||t.isMobile||t.touring?t._e():s("div",{staticClass:"submitContainer"},[s("input",{ref:"startTour",staticClass:"ui submit",attrs:{type:"button",value:"Start Guided Tour"},on:{click:function(e){return e.stopPropagation(),t.$emit("startTour")}}})])])},po=[],go=s("d10b"),vo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[t.titleGoesFirst?s("div",{staticClass:"header"},[s("h1",{staticClass:"title",class:{zxx:t.$store.state.desiresTexture}},[t._v(t._s(t.title))]),s("h3",{staticClass:"byline subtitle"},[t._v(t._s(t.subtitle))])]):s("div",{staticClass:"header"},[s("h3",{staticClass:"byline subtitle"},[t._v(t._s(t.subtitle))]),s("h1",{staticClass:"title",class:{zxx:t.$store.state.desiresTexture}},[t._v(t._s(t.title))])]),t.chairs&&t.chairs.length>0?s("SemanticList",{attrs:{collection:"contributors",list:t.chairs,name:"Chair"}}):t._e(),t.sessions&&t.sessions.length>0?s("SemanticList",{attrs:{collection:"schedule",list:t.sessions,name:"Session"}}):t._e(),t.hosts&&t.hosts.length>0?s("SemanticList",{attrs:{list:t.hosts,collection:"contributors",name:"Speaker"}}):t._e(),t.moderators&&t.moderators.length>0?s("SemanticList",{attrs:{list:t.moderators,collection:"contributors",name:"Moderator"}}):t._e(),t.notetakers&&t.notetakers.length>0?s("SemanticList",{attrs:{list:t.notetakers,collection:"contributors",name:"Note-taker"}}):t._e(),t.sessionVideos&&t.sessionVideos.length>0?s("SemanticList",{attrs:{list:t.sessionVideos,collection:"exhibition",name:"Video"}}):t._e(),t.sessionPosters&&t.sessionPosters.length>0?s("SemanticList",{attrs:{list:t.sessionPosters,collection:"exhibition",name:"Poster"}}):t._e(),t.sessionArtwork&&t.sessionArtwork.length>0?s("SemanticList",{attrs:{list:t.sessionArtwork,collection:"exhibition",name:"Artwork/Tool"}}):t._e(),t.mentors&&t.mentors.length>0?s("SemanticList",{attrs:{collection:"contributors",list:t.mentors,name:"Mentor"}}):t._e(),t.chairing&&t.chairing.length>0?s("SemanticList",{attrs:{collection:"schedule",list:t.chairing,name:"Chairing"}}):t._e(),t.hosting&&t.hosting.length>0?s("SemanticList",{attrs:{collection:"schedule",list:t.hosting,name:"Hosting"}}):t._e(),t.moderating&&t.moderating.length>0?s("SemanticList",{attrs:{collection:"schedule",list:t.moderating,name:"Moderating"}}):t._e(),t.notetaking&&t.notetaking.length>0?s("SemanticList",{attrs:{collection:"schedule",list:t.notetaking,name:"Note-taking"}}):t._e(),t.mentoring&&t.mentoring.length>0?s("SemanticList",{attrs:{collection:"study-room",list:t.mentoring,name:"Mentoring"}}):t._e(),s("div",{staticClass:"body"},[s("vue-markdown",{attrs:{source:t.body}})],1),t.resources?s("div",{staticClass:"body"},[t.resources.length>0?s("div",[s("p",[t._v(" References: ")]),t._l(t.resources,(function(e){return s("ul",{key:e.Name},[s("li",[s("a",{staticClass:"name",attrs:{href:"/library/"+e.slug}},[t._v(t._s(e.Name))])])])}))],2):t._e()]):t._e(),s("div",{staticClass:"footer"},[t.source?s("vue-markdown",{attrs:{source:t.source}}):t._e()],1)],1)},bo=[],yo=(s("a4d3"),s("e01a"),s("9911"),{components:{SemanticList:os},name:"Section",props:["section"],data:function(){return{}},computed:{subtitle:function(){return this.getSubtitle()},title:function(){return this.getTitle()},body:function(){return this.getBody()},source:function(){return this.getSource()},bbbURL:function(){return this.section.bbbURL},chairs:function(){return this.section.chairs},hosts:function(){return this.section.hosts},moderators:function(){return this.section.moderators},notetakers:function(){return this.section.notetakers},mentors:function(){return this.section.Mentors},sessions:function(){return this.section.sessions},chairing:function(){return this.section.chairing},hosting:function(){return this.section.hosting},moderating:function(){return this.section.moderating},notetaking:function(){return this.section.notetaking},mentoring:function(){return this.section.Mentoring},resources:function(){return this.section.references},titleGoesFirst:function(){return this.section.Name},artworks:function(){return this.section.videos||this.section.artworks||[]},sessionVideos:function(){return this.artworks.filter((function(t){return"SessionVideo"==t.Category}))},sessionPosters:function(){return this.artworks.filter((function(t){return"Poster"==t.Category}))},sessionArtwork:function(){return this.artworks.filter((function(t){return"Other"==t.Category}))}},watch:{body:function(){this.handleLinks()}},created:function(){},mounted:function(){this.handleLinks()},methods:{getSubtitle:function(){return this.section.Subtitle?this.section.Subtitle:this.section.Institution?this.section.Institution:this.section.Start?Object(at["default"])(this.section.Start).format("dddd, MMMM Do [at] HH:mm z"):""},getTitle:function(){return this.section.Title||this.section.title||this.section.Name||this.section.name||this.section.Term||""},getBody:function(){return this.processBody(this.section.Body||this.section.body||this.section.Description||this.section.description||this.section.Bio||this.section.Definition||"")},getSource:function(){return this.section.Source||this.section.link},processBody:function(t){return t&&(t=t.replace(/\]\(\/uploads\//g,"](".concat(this.$apiURL,"/uploads/"))),t},isLast:function(t,e){return e.indexOf(t)===e.length-1},isBeforeLast:function(t,e){return e.indexOf(t)===e.length-2},alphabetical:function(t){return t.sort((function(t,e){return t.Name.length-e.Name.length}))},handleLinks:function(){var t=this;setTimeout((function(){Array.from(document.querySelectorAll("section a")).forEach((function(e){var s=e.attributes.href.value;s&&(s.startsWith("/")||s.startsWith(t.$appURL))&&e.addEventListener("click",(function(e){var n=s.replace(t.$appURL,"/");t.$router.push(n),e.preventDefault()}))}))}),500)}}}),wo=yo,_o=(s("6298"),Object(H["a"])(wo,vo,bo,!1,null,"24468ec1",null)),ko=_o.exports,Co=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{class:{isLibrary:!t.isGlossary}},[t.sent?s("div",{staticClass:"status"},[s("p",[t._v("Post received!")]),s("p",[t._v("A moderator will review your submission before publishing it.")])]):t.sending?s("div",{staticClass:"status"},[s("p",[t._v("Posting...")])]):s("form",[t.isGlossary?t._e():s("input",{ref:"author",class:["ui","authors"],attrs:{type:"text",required:"",placeholder:"Author(s)"},on:{input:function(e){t.bodyShort=!1}}}),t.bodyShort?s("p",{staticClass:"error"},[t._v("This field is required")]):t._e(),s("input",{ref:"title",class:["ui","title",{invalid:t.titleShort,zxx:t.$store.state.desiresTexture}],attrs:{type:"text",required:"",placeholder:t.titlePlaceholder},on:{input:function(e){t.titleShort=!1}}}),t.titleShort?s("p",{staticClass:"error"},[t._v("This field is required")]):t._e(),t.isGlossary?s("textarea",{ref:"body",class:["ui","body",{invalid:t.bodyShort}],attrs:{placeholder:t.bodyPlaceholder,required:""},on:{input:t.adjustHeight}}):t._e(),t._v(" "),t.bodyShort?s("p",{staticClass:"error"},[t._v("This field is required")]):t._e(),s("input",{ref:"source",class:["ui","footer",{invalid:t.sourceShort}],attrs:{type:"url",placeholder:"Enter source URL"},on:{input:function(e){t.sourceShort=!1}}}),t.sourceShort?s("p",{staticClass:"error"},[t._v("This field is required")]):t._e(),t.isGlossary?t._e():s("div",{staticClass:"fileupload"},[s("span",[t._v("Or upload a file:")]),s("input",{ref:"file",class:["ui","footer"],attrs:{type:"file"},on:{input:t.handleFile}})]),t.tooBig?s("p",{staticClass:"error"},[t._v("File must be smaller than 20MB.")]):t._e()])])},$o=[],To={name:"Upload",props:["sending","sent","collection"],data:function(){return{titleShort:!1,bodyShort:!1,sourceShort:!1,tooBig:!1}},computed:{isGlossary:function(){return"glossary"===this.collection},titlePlaceholder:function(){return this.isGlossary?"Enter Term":"Title to display"},bodyPlaceholder:function(){return this.isGlossary?"Enter definition":"Author(s)"}},watch:{},created:function(){},mounted:function(){this.isGlossary?this.$refs.title.focus():this.$refs.author.focus()},methods:{submit:function(){this.isGlossary?this.submitTerm():this.submitResource()},submitTerm:function(){if(this.sent)this.$emit("sent");else{var t=this.$refs.title.value,e=this.$refs.body.value,s=this.$refs.source.value;0!=t.length?0!=e.length?this.titleShort||this.bodyShort||this.sendTerm(t,e,s):this.bodyShort=!0:this.titleShort=!0}},sendTerm:function(t,e,s){var n=this;this.$emit("sending");var i="glossaries",o={Term:t,Definition:e,Source:s,published_at:null},r=new FormData;r.append("data",JSON.stringify(o)),this.$http.post("".concat(this.$apiURL,"/").concat(i),r).then((function(t){console.log(t.status),n.$emit("sent")})).catch((function(t){console.log(t)}))},submitResource:function(){if(this.sent)this.$emit("sent");else{var t=this.$refs.author.value,e=this.$refs.title.value,s=this.$refs.source.value,n=this.$refs.file.files[0];0!=e.length?0!=t.length?this.titleShort||this.bodyShort||this.tooBig||this.sendResource(t,e,s,n):this.bodyShort=!0:this.titleShort=!0}},sendResource:function(t,e,s,n){var i=this;this.$emit("sending");var o="libraries",r={Name:e,author:t,URL:s,published_at:null},a=new FormData;console.log(r),a.append("data",JSON.stringify(r)),n&&a.append("files.File",n,n.name),this.$http.post("".concat(this.$apiURL,"/").concat(o),a).then((function(t){console.log(t.status),i.$emit("sent")})).catch((function(t){console.log(t)}))},handleFile:function(t){this.tooBig=t.currentTarget.files[0].size>20971520},adjustHeight:function(){this.bodyShort=!1;var t=100,e=this.$refs.body,s=parseInt(window.getComputedStyle(e).height,10),n=s-e.clientHeight+5;e.style.height="0px",e.style.height=Math.max(t,e.scrollHeight+n)+"px"}}},So=To,xo=(s("76d3"),Object(H["a"])(So,Co,$o,!1,null,"7253a8e4",null)),Oo=xo.exports,Lo={name:"Overlay",components:{Section:ko,Upload:Oo},props:["dragging","content","isGeneral","desiresOverlay","touring"],mixins:[go["a"]],data:function(){return{isRegister:!1,sending:!1,sent:!1}},computed:{isMobile:function(){return this.$store.state.isMobile},isUpload:function(){return"upload"===this.content.slug||"submit"===this.content.slug}},watch:{content:function(){this.scrollTop(),this.handleAanmelder()}},mounted:function(){this.$smoothElement({el:this.$el,hideOverflow:!0,transition:"all 0.2s ease"}),this.scrollTop(),this.handleAanmelder()},methods:{scrollTop:function(){var t=this;this.$refs.overlay&&0!==this.$refs.overlay.scrollTop&&setTimeout((function(){t.$refs.overlay.scroll({top:0,behavior:"smooth"})}),200)},handleAanmelder:function(){if(this.content&&"register"===this.content.slug){this.isRegister=!0;var t=document.createElement("script");t.setAttribute("src",this.$aanURL),document.head.appendChild(t)}else this.isRegister=!1}}},Io=Lo,Mo=(s("ebb3"),Object(H["a"])(Io,ho,po,!1,null,"70ff23d6",null)),jo=Mo.exports,Bo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{navigating:t.navigating},style:{"--region":t.$store.state.territories.location.color},attrs:{id:"tour"}},[s("v-tour",{attrs:{name:"tour",steps:t.steps,callbacks:t.callbacks,options:t.options},scopedSlots:t._u([{key:"default",fn:function(e){return[s("transition",{attrs:{name:"fade"}},[e.steps[e.currentStep]?s("v-step",{key:e.currentStep,class:{isLast:e.currentStep==e.steps.length-1},attrs:{step:e.steps[e.currentStep],"previous-step":e.previousStep,"next-step":e.nextStep,stop:e.stop,skip:e.skip,finish:e.finish,"is-first":e.isFirst,"is-last":e.isLast,labels:e.labels,highlight:e.highlight}},[s("div",{staticClass:"actions",attrs:{slot:"actions"},slot:"actions"},[t.isException(e.steps[e.currentStep])||0==e.currentStep?s("input",{staticClass:"ui button",attrs:{type:"button",value:"next"},on:{click:function(t){return t.stopPropagation(),e.nextStep(t)}}}):t._e(),e.currentStep!==e.steps.length-1?s("input",{staticClass:"ui button skip",attrs:{type:"button",value:"skip tour"},on:{click:function(t){return t.stopPropagation(),e.skip(t)}}}):s("input",{staticClass:"ui button end",attrs:{type:"button",value:"end tour"},on:{click:function(t){return t.stopPropagation(),e.skip(t)}}})])]):t._e()],1)]}}])})],1)},Uo=[],Eo={name:"my-tour",props:["editing"],data:function(){var t=this;return{navigating:!1,exceptions:[".overlayContainer","#overlay .overlay","#addressBar","#participantsIndicator","#register","#options .storage .button","#userlist ul","#userlist ul .userLabel","#BBBIndicator",".BBBisland1"],options:{useKeyboardNavigation:!1,debug:!1,highlight:!0},steps:[{target:"#list",content:"This website is spacially organised and divided into so-called regions.",params:{enableScrolling:!1,placement:"right-start"}},{target:"#list",content:"To navigate to a region, you can use this list. <br><br> Go to the Schedule to proceed.",params:{enableScrolling:!1,placement:"right-start"}},{target:"#navHandle .map",content:"You can also switch to the map view.",params:{enableScrolling:!1,placement:"right"},before:function(){return new Promise((function(e){setTimeout((function(){"schedule"===t.$store.state.territories.location.slug&&e("1")}),1e3)}))}},{target:"#minimap",content:"Here, you can zoom in or out or pan around.<br><br> Zoom out to proceed.",params:{enableScrolling:!1,placement:"right-start"}},{target:"#minimap .zero",content:'Click the "o" button to zoom back to default.',params:{enableScrolling:!1,placement:"right"},before:function(){return new Promise((function(e){t.$store.state.scale<7&&setTimeout((function(){e("1")}),700)}))}},{target:"#overlay .overlay",content:"When arriving to a region, a pop-up appears providing more information and region-specific instructions.",params:{enableScrolling:!1,placement:"left"},before:function(){return new Promise((function(e){t.$emit("goTo","/schedule"),t.$emit("focusOverlay"),setTimeout((function(){e("1")}),1e3)}))}},{target:"#overlay .hide",content:'You can hide it using the "hide" button.',params:{enableScrolling:!1,placement:"bottom"}},{target:"#location .tag",content:"The pop-up can always be brought back using the dynamic location tag.",params:{enableScrolling:!1,placement:"bottom"},before:function(){return new Promise((function(e){t.$emit("unfocusOverlay"),t.$emit("focusLocation"),e("1")}))}},{target:"#openingIsland",content:"Regions come with blocks that represent a second layer of information, such as a session, glossary term, article or video. Clicking on the block reveals its contents in the pop-up.",params:{enableScrolling:!1,placement:"top"},before:function(){return new Promise((function(e){t.$emit("hideNav"),t.$emit("focusIsland"),e("1"),setTimeout((function(){t.$emit("unfocusLocation")}),300)}))}},{target:"#addressBar",content:"You can share the URL to any region or block from the address bar.",params:{enableScrolling:!1,placement:"bottom"},before:function(){return new Promise((function(e){t.$emit("unfocusIsland"),t.$emit("focusOverlay"),e("1")}))}},{target:"#list",content:"Navigate to the Cursor Hangout to continue.",params:{enableScrolling:!1,placement:"right-start"},before:function(){return new Promise((function(e){t.$emit("unfocusOverlay"),t.$emit("showNav"),setTimeout((function(){e("1")}),300)}))}},{target:"#participantsIndicator",content:"This platform displays participants and their messages in real time.",params:{enableScrolling:!1,placement:"top",highlight:!1},before:function(){return new Promise((function(e){setTimeout((function(){"hangout"===t.$store.state.territories.location.slug&&e("1")}),1e3)}))}},{target:"#options .edituser .button",content:'When you first landed, you were assigned a random user profile. You can always edit your profile in the "options" dialogue box.',params:{enableScrolling:!1,placement:"right"}},{target:"#register",content:"Here, you can change your user name and color and set a duration after which your messages will self-destruct.",params:{enableScrolling:!1,placement:"top",highlight:!1}},{target:"#jsonMe",content:'The information you enter is stored on our server and shared with all other participants. <br><br> Click the "save" button to leave the dialogue box.',params:{enableScrolling:!1,placement:"top",highlight:!1}},{target:"#options .storage .button",content:"<strong>Important!</strong> You always have the right to disappear. If you want to delete your user profile and all your messages, you can click this button. <br><br>If you do this now the page will refresh and the tour will end. :-)",params:{enableScrolling:!1,placement:"right"},before:function(){return new Promise((function(e){t.editing||e("1")}))}},{target:"#options .participants .showParticipants",content:'A list of online participants is accessible via the "participants" button.',params:{enableScrolling:!1,placement:"right"}},{target:"#userlist ul",content:"Moderators appear at the top, with a dashed-border.",params:{enableScrolling:!1,placement:"right-start"}},{target:"#BBBIndicator",content:"If you are registered as participant of the study group or the conference, you will be joining video calls via Big Blue Button, which are accessible in their respective regions.",params:{enableScrolling:!1,placement:"left",highlight:!1},before:function(){return new Promise((function(e){var s=0;"hangout"!==t.$store.state.territories.location.slug&&(t.$emit("goTo","/hangout"),s=1e3),setTimeout((function(){e("1"),t.$emit("hideNav"),t.$emit("hideOverlay")}),s)}))}},{target:".BBBisland1",content:'When you are in a call, your cursor will remain "parked" in a big blue button and be visible to everyone else.<br><br>Big Blue Button offers a multitude of features and takes some getting used to. We recommend to use any of these rooms in the cursor hangout to familiarize yourself with the interface before the conference date takes place.',params:{enableScrolling:!1,placement:"left"},before:function(){return new Promise((function(e){t.$emit("hideParticipants"),t.$emit("focusBBB"),e("1")}))}},{target:"#location div",content:"You're ready to go! <br><br> Don't forget to read our Code of Conduct. If you have any questions please call on a moderator by mentioning them in a message or contact us.",params:{enableScrolling:!1,placement:"bottom",highlight:!1},before:function(){return new Promise((function(e){t.$emit("unfocusBBB"),t.$emit("goTo","/readme/tour"),setTimeout((function(){t.$emit("showNav"),e("1")}),400)}))}}],callbacks:{onFinish:this.end,onSkip:this.end}}},mounted:function(){this.$tours["tour"].start(),document.addEventListener("click",this.validate)},methods:{validate:function(t){console.log("click");var e=t.target,s=this.$tours["tour"],n=s.currentStep,i=document.querySelector(s.steps[n].target);i==e||this.isDescendant(i,e)||e.classList&&e.classList.contains("save")||e.classList&&e.classList.contains("showParticipants")?(console.log("next"),this.nextStep()):console.log("not valid trget")},nextStep:function(){this.$tours["tour"].nextStep()},showLastStep:function(){this.$tours["tour"].currentStep=this.steps.length-1},myCustomPreviousStepCallback:function(t){console.log("custom previousStep callback on step "+(t+1))},myCustomNextStepCallback:function(t){console.log("custom nextStep callback on step "+(t+1))},isDescendant:function(t,e){var s=e.parentNode;while(null!=s){if(s==t)return!0;s=s.parentNode}return!1},wait:function(t){new Promise((function(e){setTimeout((function(){e("1"),console.log("resolved")}),t||500)}))},isException:function(t){return this.exceptions.indexOf(t.target)>-1},end:function(){this.$emit("unfocusOverlay"),this.$emit("unfocusIsland"),this.$emit("unfocusLocation"),this.$emit("unfocusBBB"),this.$emit("end"),document.removeEventListener("click",this.validate),console.log("end tour")}}},Po=Eo,Do=(s("54c2"),Object(H["a"])(Po,Bo,Uo,!1,null,null,null)),Ao=Do.exports,No={name:"Mainland",components:{NavHandle:V,Notfound:X,Editor:it,Notification:dt,Minimap:zt,Minilist:io,Options:de,Cursorr:ve,Message:Ce,Territory:Zi,Ticker:mo,Overlay:jo,Tour:Ao},props:["wantsToView"],data:function(){return{notfound:!1,secondPath:!1,moreInformation:{},desiresNav:!0,desiresList:!0,desiresOverlay:!1,editing:!1,scrolling:!1,firstScroll:!0,dragging:!1,miniDragging:!1,lastScrollX:0,lastScrollY:0,notifications:[],touring:!1,tourIsAtOverlay:!1,tourIsAtLocation:!1,tourIsAtIsland:!1,tourIsAtAddressBar:!1,tourIsAtBBB:!1}},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["d"])(["isMobile","isCompatible","scale","desiresTexture","widthFactor","windowPos","windowSize"])),Object(y["d"])("territories",["territories","location","currentLiveSession"])),Object(y["d"])("users",["registered","visited","users","highCPUNotifiction"])),Object(y["c"])(["centerOf"])),Object(y["c"])("territories",["regionColors","territoryByBorders","positionOfIsland"])),Object(y["c"])("users",["userColors","me","isMe","networkConservationMode","notDeletedUsers"])),Object(y["c"])("messages",["notDeletedMessages"])),watch:{wantsToView:function(t){this.route(t)},location:function(t,e){t.slug!==e.slug&&(this.secondPath||this.firstScroll||this.$router.push("/"+this.location.slug))},scale:function(t,e){t&&e&&this.recenter(t,e)},networkConservationMode:function(t,e){t>e?this.notifyNCM():this.unnotifyNCM()}},mounted:function(){var t=this;this.wantsToView&&"/"!==this.wantsToView&&"/general"!==this.wantsToView?this.route(this.wantsToView,"smooth"):this.$router.push("reception"),setTimeout((function(){t.firstScroll=!1,t.handleLinks(".message a"),t.networkConservationMode&&t.notifyNCM()}),1500),document.addEventListener("keydown",(function(e){t.handleInput(e)}))},sockets:{message:function(t){var e=this;t.deleted||t.stream||(this.handleLinks(".message".concat(t.uid," a")),(t.announcement||t.mentions&&t.mentions.find((function(t){return t===e.me.name})))&&this.notifications.push(t))}},methods:{route:function(t,e,s,n){var i=this;t=t.startsWith("/")?t.slice(1):t;var o,r,a=t.split("/")[0],c=t.split("/")[1];console.log("* ROUTE:",a,c);var u=this.territories[a];if(u){if(o=this.centerOf({x:u.borders.x*this.widthFactor,y:u.borders.y,w:u.borders.w*this.widthFactor,h:u.borders.h}),r=u,c){this.secondPath=!0;var l="exhibition"===a?c+"Exhib":c;o=this.positionOfIsland(l),o?(r="upload"===c||"submit"===c?{slug:c,collection:a}:this.territories[a].content[c],setTimeout((function(){i.secondPath=!1}),1e3)):this.notfound=!0}}else"general"!==a&&(console.log("territory not found"),this.notfound=!0);this.notfound?this.firstScroll?setTimeout((function(){var t=i.centerOf(i.territories["reception"].borders);i.scrollTo(t,"smooth"),i.notfound=!1}),1e3):setTimeout((function(){i.$router.go(-1),i.notfound=!1}),1e3):((n||this.location.slug!==a||c)&&setTimeout((function(){i.scrollTo(o,e||"smooth")}),s||0),this.location.slug!==a&&(this.desiresOverlay=!1),s=this.isMobile?0:150,this.isMobile||"livestream"===a&&this.currentLiveSession?(this.desiresNav=!1,this.desiresOverlay=!!c):"general"===a?this.desiresOverlay=!1:(c||this.location.slug!==a||n)&&setTimeout((function(){i.desiresOverlay=!0}),s+150),setTimeout((function(){i.moreInformation=r}),s))},handleOverlayClose:function(){var t=this,e=10;this.$router.history.current.path.split("/")[2]&&this.$router.push("/"+this.location.slug),setTimeout((function(){t.desiresOverlay=!1}),e)},handleIslandClick:function(t){if(!this.dragging){var e=this.$router.history.current.path;e===t?this.route(t,!1,!1,!0):this.$router.push("".concat(t))}},handleClick:function(){this.editing||this.isMobile||this.$refs.me[0].sendMessage()},handleMini:function(t){this.scrollTo(t,this.miniDragging?"auto":"smooth")},handleNotificationClick:function(t){this.notifications=[],this.scrollTo(this.centerOf(t),"smooth")},handleInput:function(t){if(!this.editing&&!this.isMobile){var e=t.which||t.keyCode;document.activeElement.classList.contains("input")?this.$refs.me[0].trackInput(e,t):9==e||13==e&&document.activeElement.click()}},startTour:function(){console.log("tour started"),this.desiresList=!0,this.$refs.options.showParticipants=!1,this.desiresOverlay=!1,this.touring=!0},goTo:function(t,e){this.scrollTo(this.centerOf(t),e||"smooth")},recenter:function(t,e){var s=t/e,n=(e-t)/(e+t),i={x:this.$refs.userlandContainer.scrollLeft*s-this.windowSize.w*n,y:this.$refs.userlandContainer.scrollTop*s-this.windowSize.h*n};this.scrollTo(i,"auto")},drag:function(t){if(this.dragging){var e={x:this.windowPos.x-t.movementX,y:this.windowPos.y-t.movementY};t.clientX<=10||t.clientX>=this.windowSize.w-20||t.clientY<=10||t.clientY>=this.windowSize.h-20?this.dragging=!1:this.scrollTo(e)}},release:function(){this.dragging=!1},scrollTo:function(t,e){var s=this;this.dragging?this.$refs.userlandContainer.scroll({left:t.x,top:t.y,behavior:e||"auto"}):requestAnimationFrame((function(){s.$refs.userlandContainer.scroll({left:t.x,top:t.y,behavior:e||"auto"})}))},setViewerPosition:function(){var t={x:this.$refs.userlandContainer.scrollLeft,y:this.$refs.userlandContainer.scrollTop},e=t.x-this.lastScrollX,s=t.y-this.lastScrollY,n={x:this.me.x*this.windowSize.w*this.scale,y:this.me.y*this.windowSize.h*this.scale},i={x:(n.x+e)/(this.windowSize.w*this.scale),y:(n.y+s)/(this.windowSize.h*this.scale),connected:!0},o=this.territoryByBorders(t);this.$store.commit("viewerPosition",t),this.location.slug!==o.slug&&this.$store.commit("territories/setLocation",o),this.firstScroll||(this.dragging||this.$store.dispatch("users/updatePosition",i),this.lastScrollX=t.x,this.lastScrollY=t.y)},handleLinks:function(t){var e=this;setTimeout((function(){Array.from(document.querySelectorAll(t)).forEach((function(t){var s=t.attributes.href.value;s&&(s.startsWith("/")||s.startsWith(e.$appURL))&&t.addEventListener("click",(function(t){var n=s.replace(e.$appURL,"");e.$router.push(n),t.preventDefault()}))}))}),1e3)},notifyNCM:function(){console.log("network conservation mode enabled"),this.notifications.push(this.highCPUNotifiction)},unnotifyNCM:function(){console.log("network conservation mode disabled"),this.notifications.splice(this.notifications.indexOf(this.highCPUNotifiction),1)},showNav:function(){this.isMobile&&(this.desiresOverlay=!1),this.touring&&(this.desiresList=!0,this.$refs.options.showParticipants=!1),this.desiresNav=!0},showOverlay:function(){this.isMobile&&(this.desiresNav=!1),this.desiresOverlay=!0}}},Ro=No,zo=(s("1812"),Object(H["a"])(Ro,P,D,!1,null,null,null)),Ho=zo.exports,Fo=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Vo=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"blocked"}},[s("div",{staticClass:"message"},[s("p",[t._v("You have been removed.")]),s("p",[t._v("Please reflect on your behaviour.")])])])}],qo={name:"Nomansland",mounted:function(){var t=this.$el,e=window.innerHeight/14,s=window.innerWidth/10,n=this.tableCreate(e,s);t.appendChild(n)},methods:{tableCreate:function(t,e){for(var s=this,n=document.createElement("table"),i=0;i<t;i++)for(var o=n.insertRow(),r=function(t){var e=o.insertCell();e.innerHTML=" ",e.addEventListener("mouseover",(function(){s.repeatXI((function(){e.innerHTML=s.generate_random_string()}),100,10),setTimeout((function(){e.innerHTML=" "}),1050),setTimeout((function(){e.innerHTML=" "}),3e3)}))},a=0;a<e;a++)r(a);return n},generate_random_string:function(){var t=39,e=47,s=Math.floor(Math.random()*(e-t)+t),n=String.fromCharCode(s);return n},repeatXI:function(t,e,s){var n,i;return i=function(){t(),--s||clearInterval(n)},e=e<=0?1e3:e,s=parseInt(s,10)||0,n=setInterval(i,e),!0}}},Zo=qo,Wo=(s("0444"),Object(H["a"])(Zo,Fo,Vo,!1,null,"c6d57a60",null)),Go=Wo.exports,Yo={name:"Home",components:{Mainland:Ho,Nomansland:Go},props:["slug"],data:function(){return{wantsToView:null,loadingMessage:"Loading...",serverError:"server error.",tickerLoaded:!1,territoriesLoaded:!1,messagesLoaded:!1,usersLoaded:!1,selfEvaluated:!1}},computed:Object(b["a"])(Object(b["a"])(Object(b["a"])({},Object(y["d"])({isMobile:function(t){return t.isMobile},blocked:function(t){return t.users.blocked}})),Object(y["c"])("users",["me"])),{},{contentLoaded:function(){return this.tickerLoaded&&this.territoriesLoaded&&this.messagesLoaded&&this.usersLoaded&&this.selfEvaluated}}),created:function(){var t=this;this.slug&&(this.wantsToView=this.slug),this.$router.afterEach((function(e){t.wantsToView=e.fullPath})),E.territories.getTicker().then((function(e){t.$store.commit("territories/setTicker",e),t.tickerLoaded=!0,t.loadingMessage="Getting regions..."})).catch((function(e){console.log(e),t.loadingMessage=t.serverError})),E.territories.getAll().then((function(e){t.$store.commit("territories/setTerritories",e),t.territoriesLoaded=!0,t.loadingMessage="Getting users..."})).catch((function(e){console.log(e),t.loadingMessage=t.serverError})),E.chat.get("messages").then((function(e){t.$store.commit("messages/setMessages",e),t.messagesLoaded=!0})).catch((function(e){console.log(e),t.loadingMessage=t.serverError})),E.chat.get("users").then((function(e){var s,n,i;if(s=e,t.$store.commit("users/setUsers",s),t.usersLoaded=!0,localStorage.uid&&s[localStorage.uid])t.$store.commit("users/visit"),i="You've visited.",n=s[localStorage.uid],s[n.uid].name.includes(n.uid)||(t.$store.commit("users/register"),i="You're a local."),console.log("* AUTH:",i),n.blocked&&(console.log("You're not welcome here."),t.$store.commit("users/block"));else{console.log("you're new");var o=Object(w["a"])();n={uid:o,name:"newUser-"+o,connected:!0,color:t.randomColor(),x:0,y:0,typing:null,messageLifetime:2592e6,moderator:!1,deleted:!1,blocked:!1},localStorage.uid=n.uid,localStorage.color=n.color}t.isMobile&&(t.$store.commit("users/visit"),n.isMobile=!0),t.$store.commit("users/register"),t.$store.commit("users/setUID",n.uid),t.$store.commit("users/setUser",n),t.$socket.client.emit("user",n),t.selfEvaluated=!0})).catch((function(e){console.log(e),t.loadingMessage=t.serverError})),window.onbeforeunload=function(){t.me&&!t.me.deleted&&(t.$store.dispatch("users/disconnect"),(t.isMobile||t.me.name.includes(t.me.uid))&&t.$store.dispatch("users/deleteUser",t.me))}},mounted:function(){},methods:{randomColor:function(){var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),s=Math.floor(256*Math.random()),n=1;return"rgb(".concat(t,", ").concat(e,", ").concat(s,", ").concat(n,")")}}},Xo=Yo,Jo=(s("f9da"),Object(H["a"])(Xo,g,v,!1,null,"136cb415",null)),Ko=Jo.exports,Qo={name:"App",components:{Home:Ko},data:function(){return{slug:null,isMobile:null}},created:function(){var t=this;console.log("*****************************************************"),console.log("* ENVIRONMENT : ".concat(this.$env)),console.log("* VERSION     : ".concat(localStorage.version)),console.log("* APP URL     : ".concat(this.$appURL)),console.log("* LIFECYCLE   : ".concat(this.$lifecycle)),console.log("*****************************************************"),localStorage.version!=this.$version&&(console.log("this version is outdated, clearing your storage."),localStorage.clear(),localStorage.version=this.$version),this.slug=window.location.pathname,this.checkCompatibility(),this.isMobile=this.checkIfMobile(),this.isMobile&&(this.$store.commit("setMobile",!0),this.$store.commit("setScale",8),this.$store.commit("setWidthFactor",3.4)),window.addEventListener("resize",(function(){t.isMobile=t.checkIfMobile(),t.$store.commit("setMobile",t.isMobile),t.$store.commit("resize",{w:window.innerWidth,h:window.innerHeight})})),"scrollRestoration"in history&&(history.scrollRestoration="manual")},methods:{checkIfMobile:function(){return window.innerWidth<750},checkCompatibility:function(){var t=navigator.userAgent,e=t.indexOf("Chrome")>-1,s=t.indexOf("Firefox")>-1,n=t.indexOf("Safari")<-1;e&&n&&(n=!1),this.$store.commit("setCompatibility",e||s)}}},tr=Qo,er=(s("034f"),Object(H["a"])(tr,h,p,!1,null,null,null)),sr=er.exports,nr=s("8c4f");n["a"].use(nr["a"]);var ir=[{path:"/",name:"Home",component:Ko}],or=new nr["a"]({mode:"history",routes:ir}),rr=or,ar=s("ade3"),cr={namespaced:!0,state:{territories:{},location:{},ticker:{},currentLiveSession:null,general:{name:"general",slug:"general"}},mutations:{setTerritories:function(t,e){for(var s in e)n["a"].set(t.territories,s,e[s])},setLocation:function(t,e){t.location=e},setTicker:function(t,e){n["a"].set(t,"ticker",e)},setCurrentLiveSession:function(t,e){n["a"].set(t,"currentLiveSession",e)}},getters:{territoriesArray:function(t){return Object.values(t.territories)},regionColors:function(t,e,s){return e.territoriesArray.map((function(t){return Object(ar["a"])({},"--".concat(t.slug),s.scale>7?t.color:null)}))},liveSessions:function(t){return Object.values(t.territories["schedule"].content).sort((function(t,e){return new Date(t.Start)-new Date(e.Start)})).filter((function(t){return t.livestream}))},territoryByBorders:function(t,e,s,n){return function(i){var o=.5/s.scale,r=n.coordsFrom(i);return e.territoriesArray.find((function(t){var e=t.borders.x*s.widthFactor,n=t.borders.y,i=t.borders.w*s.widthFactor,a=t.borders.h,c=e-o,u=n-o,l=i+e-o,d=a+n-o;return r.x>c&&r.x<l&&r.y>u&&r.y<d}))||t.general}},positionOfIsland:function(t,e,s){return function(t){var e=t+"Island",n=document.getElementById(e);if(n){var i=n.offsetParent,o=i.offsetParent,r=o.offsetParent,a=n.offsetLeft+i.offsetLeft+o.offsetLeft+r.offsetLeft,c=n.offsetTop+i.offsetTop+o.offsetTop+r.offsetTop,u=a-(s.windowSize.w-n.offsetWidth)/2,l=(s.isMobile,c-100);return{x:u,y:l}}}}},actions:{}},ur={namespaced:!0,state:{users:{},save:!0,uid:null,registered:!1,visited:!1,blocked:!1,moderator:!1,connectedCount:1,maxLiveCount:200,wait:!1,highCPUNotifiction:{time:(new Date).getTime(),author:"Server",content:"The platframe is currently experiencing a high number of concurrent visitors. To remain functional, it will stop displaying the correct positions of participants' cursors. You can still send and receive messages."}},mutations:{doNotSave:function(t){return t.save=!1},setUID:function(t,e){return t.uid=e},register:function(t){return t.registered=!0},deregister:function(t){return t.registered=!1},visit:function(t){return t.visited=!0},block:function(t){return t.blocked=!0},setWait:function(t,e){return t.wait=e},setConnectedCount:function(t,e){return t.connectedCount=e},setUser:function(t,e){n["a"].set(t.users,e.uid,e)},setUsers:function(t,e){for(var s in e)n["a"].set(t.users,s,e[s])},setUserAppearance:function(t,e){t.users[e.uid].connected=e.connected,t.users[e.uid].name=e.name,t.users[e.uid].color=e.color,t.users[e.uid].x=e.x,t.users[e.uid].y=e.y,t.users[e.uid].typing=e.typing||"",t.users[e.uid].messageLifetime=e.messageLifetime},setUserBlocked:function(t,e){t.users[e.uid].blocked=!0},setUserDeleted:function(t,e){t.users[e.uid].deleted=!0},setUserModerator:function(t,e){t.users[e.uid].moderator=e.moderator},setUserPosition:function(t,e){t.users[e.uid].x=e.x,t.users[e.uid].y=e.y,t.users[e.uid].connected=e.connected},setUserTyping:function(t,e){t.users[e.uid].typing=e.typing},setUserColor:function(t,e){t.users[e.uid].color=e.color}},getters:{me:function(t){return t.users[t.uid]},isMe:function(t){return function(e){return e.uid===t.uid}},networkConservationMode:function(t){return t.connectedCount>t.maxLiveCount},emitsPerSecond:function(t){return 2*t.maxLiveCount/t.connectedCount},usersArray:function(t){return Object.values(t.users)},notDeletedUsers:function(t,e){return e.usersArray.filter((function(t){return t.uid&&t.name&&!t.deleted&&!t.blocked&&!t.isMobile})).sort((function(t,e){return e.moderator-t.moderator}))},connectedUsers:function(t,e){return e.notDeletedUsers.filter((function(t){return t.connected})).sort((function(t,s){return e.isNamed(s)-e.isNamed(t)}))},connectedUsersFirst:function(t,e){return e.notDeletedUsers.sort((function(t,s){return e.isNamed(s)-e.isNamed(t)||s.connected-t.connected}))},userNames:function(t,e){return e.notDeletedUsers.map((function(t){return t.name}))},userColors:function(t,e){return e.usersArray.map((function(e){return Object(ar["a"])({},"--".concat(e.uid),t.desiresContrast?"black":e.connected?e.color:"var(--disconnected)")}))},isNamed:function(){return function(t){return!(t.name&&t.name.includes(t.uid))}}},actions:{socket_user:function(t,e){var s=t.state,n=t.commit;n("setUser",e);var i=!0===e.deleted?"deleted":!0===e.blocked?"blocked":"connected";console.log("* USER:",e.name,i),e.uid===s.uid&&(e.blocked&&n("block"),e.deleted&&(n("doNotSave"),console.log("You're deleted."),localStorage.clear(),window.location.reload(!0)))},socket_appearance:function(t,e){var s=t.state,n=t.commit,i=t.dispatch,o=t.rootState;if(e.uid!==s.uid&&n("setUserAppearance",e),!1===e.connected&&console.log("* USER:",e.name,"disconnected"),e.messageLifetime){var r=(new Date).getTime(),a=1728e5;for(var c in o.messages.messages){var u=o.messages.messages[c];u.authorUID==e.uid&&u.time<r-(e.messageLifetime||a)&&(console.log("* MESSAGE DIED:",u.content),i("messages/deleteMessage",u,{root:!0}))}}},socket_moderator:function(t,e){var s=t.state,n=t.commit;e.uid!==s.uid&&(n("setUserModerator",e),console.log("* USER",e.name,"upgraded to moderator"))},socket_position:function(t,e){var s=t.state,n=t.commit;e.uid!==s.uid&&(s.users[e.uid]?n("setUserPosition",e):console.log(e.uid,"not found."))},socket_typing:function(t,e){var s=t.state,n=t.commit;e.uid!==s.uid&&(s.users[e.uid]?n("setUserTyping",e):console.log(e.uid,"not found."))},socket_color:function(t,e){var s=t.state,n=t.commit;e.uid!==s.uid&&n("setUserColor",e)},socket_count:function(t,e){var s=t.commit;s("setConnectedCount",e)},socket_disconnect:function(t){var e=t.state;e.save&&(e.registered||(localStorage.uid=e.uid))},updateAppearance:function(t,e){var s=t.state,n=t.commit;e.uid=s.uid,n("setUserAppearance",e),this._vm.$socket.client.emit("appearance",e)},updateModerator:function(t,e){var s=t.state,n=t.commit;e.uid=s.uid,n("setUserModerator",e),this._vm.$socket.client.emit("moderator",e)},blockUser:function(t,e){var s=t.commit,n=t.dispatch,i=t.rootState;for(var o in s("setUserBlocked",e),this._vm.$socket.client.emit("user",e),i.messages.messages){var r=i.messages.messages[o];r.authorUID==e.uid&&n("messages/deleteMessage",r,{root:!0})}},deleteUser:function(t,e){var s=t.commit,n=t.dispatch,i=t.rootState;for(var o in s("setUserDeleted",e),this._vm.$socket.client.emit("user",e),i.messages.messages){var r=i.messages.messages[o];r.authorUID==e.uid&&n("messages/deleteMessage",r,{root:!0})}},updatePosition:function(t,e){var s=t.state,n=t.getters,i=t.commit,o=t.dispatch;e.uid=s.uid,i("setUserPosition",e),n.networkConservationMode||s.wait||(this._vm.$socket.client.emit("position",e),o("resetWait"))},updateTyping:function(t,e){var s=t.state,n=t.getters,i=t.commit,o=t.dispatch;e.uid=s.uid,i("setUserTyping",e),n.networkConservationMode||s.wait||(this._vm.$socket.client.emit("typing",e),o("resetWait"))},updateColor:function(t,e){var s=t.state,n=t.getters,i=t.commit,o=t.dispatch;e.uid=s.uid,i("setUserColor",e),n.networkConservationMode||s.wait||(this._vm.$socket.client.emit("color",e),o("resetWait"))},disconnect:function(t){var e=t.state,s=t.dispatch;console.log("disconnecting");var n=e.users[e.uid];s("updateAppearance",{name:n.name,color:n.color,x:n.x,y:n.y,messageLifetime:n.messageLifetime,connected:!1,typing:null})},deleteAllUnamed:function(t){var e=t.state,s=t.dispatch;for(var n in e.users){var i=e.users[n];i&&i.name&&i.name.includes(i.uid)&&0==i.connected&&s("deleteUser",i)}},resetWait:function(t){var e=t.commit,s=t.getters;e("setWait",!0),setTimeout((function(){e("setWait",!1)}),1e3/s.emitsPerSecond)}}},lr={namespaced:!0,state:{messages:{}},mutations:{setMessages:function(t,e){for(var s in e)n["a"].set(t.messages,s,e[s])},setMessage:function(t,e){n["a"].set(t.messages,e.uid,e)},setMessageDeleted:function(t,e){t.messages[e.uid].deleted=!0},setMessageCensored:function(t,e){t.messages[e.uid].censored=!t.messages[e.uid].censored}},getters:{messagesArray:function(t){return Object.values(t.messages)},notDeletedMessages:function(t,e,s){return e.messagesArray.filter((function(t){return s.users.users[t.authorUID]&&t.uid&&!t.deleted&&!t.navigation&&!t.stream&&(!s.territories.currentLiveSession||"livestream"!==t.location)}))},messagesByUser:function(t,e){return function(t){return e.messagesArray.filter((function(e){return!e.deleted&&e.authorUID===t.uid}))}}},actions:{socket_message:function(t,e){var s=t.commit;console.log("* MESSAGE:",e.content),s("setMessage",e)},deleteMessage:function(t,e){var s=t.commit;s("setMessageDeleted",e),this._vm.$socket.client.emit("message",e)},censorMessage:function(t,e){var s=t.commit;s("setMessageCensored",e),this._vm.$socket.client.emit("message",e)}}};n["a"].use(y["a"]);var dr=new y["a"].Store({strict:!1,modules:{territories:cr,users:ur,messages:lr},state:{isMobile:!1,isCompatible:!0,scale:10,widthFactor:1,windowSize:{w:window.innerWidth,h:window.innerHeight},windowPos:{x:null,y:null},desiresTexture:!localStorage.desiresTexture||JSON.parse(localStorage.desiresTexture),desiresContrast:!!localStorage.desiresContrast&&JSON.parse(localStorage.desiresContrast)},mutations:{setScale:function(t,e){return t.scale=e},setWidthFactor:function(t,e){return t.widthFactor=e},zoomIn:function(t){return t.scale<20?t.scale+=.25:null},zoomOut:function(t){return t.scale>1?t.scale-=.25:null},setMobile:function(t,e){return t.isMobile=e},setCompatibility:function(t,e){return t.isCompatible=e},toggleGrid:function(t){return t.grid=!t.grid},resize:function(t,e){return t.windowSize=e},viewerPosition:function(t,e){return t.windowPos=e},toggleTexture:function(t){t.desiresTexture=localStorage.desiresTexture=!t.desiresTexture},toggleContrast:function(t){t.desiresContrast=localStorage.desiresContrast=!t.desiresContrast}},actions:{},getters:{centerOf:function(t,e){return function(s){s=e.pixelsFrom(s);var n=(t.windowSize.w-s.w)/2,i=(t.windowSize.h-s.h)/2,o=t.isMobile||n>=0?n:0,r=t.isMobile?50:i>=0?i:0,a=s.x-o,c=s.y-r;return{x:a,y:c}}},pixelsFrom:function(t){return function(e){return{x:e.x*t.scale*t.windowSize.w,y:e.y*t.scale*t.windowSize.h,w:e.w*t.scale*t.windowSize.w||0,h:e.h*t.scale*t.windowSize.h||0}}},coordsFrom:function(t){return function(e){return{x:e.x/(t.scale*t.windowSize.w),y:e.y/(t.scale*t.windowSize.h),w:e.w/(t.scale*t.windowSize.w)||0,h:e.h/(t.scale*t.windowSize.h)||0}}}}});n["a"].config.productionTip=!1,n["a"].prototype.$http=o.a,n["a"].prototype.$apiURL="https://api.obfuscation.karls.computer",n["a"].prototype.$appURL="https://3rd.obfuscationworkshop.org",n["a"].prototype.$aanURL="https://www.aanmelder.nl/115987/xsembed?auth=UB-PSIJLXsgRsW62W1FtPyhMMTE1OTg3TApWRU1CRURVUkxDSEVDSwpwMAp0cDEKLg..",n["a"].prototype.$publicPath="/",n["a"].prototype.$env="production",n["a"].prototype.$lifecycle="2",n["a"].prototype.$version="8",n["a"].use(c["a"],Object(u["io"])(n["a"].prototype.$appURL,{transports:["websocket"]}),{store:dr}),s("fda2"),s("2440"),n["a"].use(d.a),a.a.props.anchorAttributes.default=function(){return{target:"_blank",rel:"noopener noreferrer nofollow"}},n["a"].component("vue-markdown",a.a),m.a.polyfill(),new n["a"]({router:rr,store:dr,render:function(t){return t(sr)}}).$mount("#app")},"573a":function(t,e,s){"use strict";s("43a6")},"5aba":function(t,e,s){},"5bc8":function(t,e,s){"use strict";s("039c")},"5df1":function(t,e,s){},"5f99":function(t,e,s){"use strict";s("61e9")},"61e9":function(t,e,s){},6298:function(t,e,s){"use strict";s("229e")},"647d":function(t,e,s){"use strict";s("1552")},"682d":function(t,e,s){"use strict";s("5aba")},"6c73":function(t,e,s){},"6c8b":function(t,e,s){"use strict";s("9bad")},"754f":function(t,e,s){},"767e":function(t,e,s){"use strict";s("de1b")},"76d3":function(t,e,s){"use strict";s("7a65")},"77e6":function(t,e,s){"use strict";s("3224")},"78a2":function(t,e,s){},"7a65":function(t,e,s){},"81c2":function(t,e,s){"use strict";s("fd8c")},"84fa":function(t,e,s){"use strict";s("e4f3")},"85ec":function(t,e,s){},"85fe":function(t,e,s){},"8a48":function(t,e,s){},"8dae":function(t,e,s){"use strict";s("d403")},"928e":function(t,e,s){"use strict";s("f8d9")},9529:function(t,e,s){},"97fb":function(t,e,s){},"997d":function(t,e,s){},"9ac7":function(t,e,s){},"9bad":function(t,e,s){},a02a:function(t,e,s){"use strict";s("6c73")},a59f:function(t,e,s){},a939:function(t,e,s){},ac1c:function(t,e,s){"use strict";s("9529")},b005:function(t,e,s){"use strict";s("d1fd")},b2f8:function(t,e,s){"use strict";s("3460")},b464:function(t,e,s){"use strict";s("c8d1")},c629:function(t,e,s){"use strict";s("372f")},c6c8:function(t,e,s){"use strict";s("1ef2")},c727:function(t,e,s){},c8d1:function(t,e,s){},cf06:function(t,e,s){"use strict";s("2c8c")},d009:function(t,e,s){"use strict";s("2156")},d1fd:function(t,e,s){},d25c:function(t,e,s){"use strict";s("5df1")},d333:function(t,e,s){},d403:function(t,e,s){},d66f:function(t,e,s){"use strict";s("2bb4")},dadb:function(t,e,s){},db6e:function(t,e,s){},dc09:function(t,e,s){"use strict";s("8a48")},dda3:function(t,e,s){},de1b:function(t,e,s){},dec3:function(t,e,s){},e1b5:function(t,e,s){"use strict";s("9ac7")},e2dd:function(t,e,s){},e4f3:function(t,e,s){},e8b8:function(t,e,s){"use strict";s("85fe")},ebb3:function(t,e,s){"use strict";s("997d")},eece:function(t,e,s){},efd2:function(t,e,s){"use strict";s("db6e")},f0e4:function(t,e,s){"use strict";s("50d7")},f11b:function(t,e,s){},f3d8:function(t,e,s){},f8d9:function(t,e,s){},f9b0:function(t,e,s){"use strict";s("f3d8")},f9da:function(t,e,s){"use strict";s("eece")},fa90:function(t,e,s){"use strict";s("42c6")},fab3:function(t,e,s){"use strict";s("e2dd")},fd40:function(t,e,s){"use strict";s("dda3")},fd8c:function(t,e,s){}});
//# sourceMappingURL=app.88de86e0.js.map