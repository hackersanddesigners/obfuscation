(function(e){function t(t){for(var s,r,a=t[0],c=t[1],u=t[2],d=0,f=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},i={app:0},o=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01ae":function(e,t,n){},"02a2":function(e,t,n){},"034f":function(e,t,n){"use strict";n("85ec")},"03d1":function(e,t,n){},"0478":function(e,t,n){},"054c":function(e,t,n){"use strict";n("f11b")},"0601":function(e,t,n){"use strict";n("a2a5")},"063b":function(e,t,n){"use strict";n("bff4")},"0686":function(e,t,n){},"0ae6":function(e,t,n){"use strict";n("1a4a")},"0e1c":function(e,t,n){"use strict";n("6e85")},"0e66":function(e,t,n){},"101a":function(e,t,n){},1812:function(e,t,n){"use strict";n("101a")},"1a4a":function(e,t,n){},"1b5e":function(e,t,n){"use strict";n("f1dd")},2156:function(e,t,n){},"271d":function(e,t,n){"use strict";n("01ae")},"2c8c":function(e,t,n){},"2daa":function(e,t,n){"use strict";n("9b7c")},"2ef9":function(e,t,n){"use strict";n("dd4d")},"2ff7":function(e,t,n){},"320a":function(e,t,n){},"32a0":function(e,t,n){"use strict";n("5d18")},"345f":function(e,t,n){"use strict";n("0686")},3713:function(e,t,n){},"3cfd":function(e,t,n){"use strict";n("0478")},"3cfe":function(e,t,n){"use strict";n("02a2")},"43bb":function(e,t,n){"use strict";n("3713")},4738:function(e,t,n){"use strict";n("e5e1")},4770:function(e,t,n){"use strict";n("8a32")},"4a07":function(e,t,n){},"4a15":function(e,t,n){},"4f29":function(e,t,n){"use strict";n("aba9")},5508:function(e,t,n){"use strict";n("c841")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=n("bc3a"),o=n.n(i),r=n("ff64"),a=n.n(r),c=n("f87c"),u=n("8e27"),l=n("7707"),d=n.n(l),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{mobile:e.isMobile},attrs:{id:"app"}},[n("Home",{attrs:{slug:e.slug}})],1)},m=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"home"}},[e.blocked?n("Nomansland"):e.contentLoaded?n("Mainland",{attrs:{wantsToView:e.wantsToView}}):n("div",{attrs:{id:"loading"}},[n("span",{staticClass:"message"},[e._v(" "+e._s(e.loadingMessage)+" ")])])],1)},p=[],g=(n("99af"),n("caad"),n("b0c0"),n("2532"),n("5530")),v=n("2f62"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{class:{blur:!e.registered||e.editing},style:[e.userColors,e.regionColors,{"--scale":e.scale}]},[!e.registered||e.editing?n("Editor",{on:{stopEdit:function(t){e.editing=!1}}}):e._e(),n("nav",{class:{hidden:!e.desiresNav}},[n("NavHandle",{attrs:{desiresNav:e.desiresNav,desiresList:e.desiresList,isMobile:e.isMobile},on:{showNav:function(t){e.desiresNav=!0},hideNav:function(t){e.desiresNav=!1},showList:function(t){e.desiresList=!0},showMap:function(t){e.desiresList=!1}}}),e.desiresList?n("Minilist",{on:{goTo:function(t){return e.route(t,!1,!1,!0)}}}):n("Minimap",{attrs:{dragging:e.dragging,miniDragging:e.miniDragging},on:{startedDrag:function(t){e.miniDragging=!0},stoppedDrag:function(t){e.miniDragging=!1},newPosition:function(t){return e.handleMini(t)}}}),e.isMobile?n("div",{staticClass:"ui",attrs:{id:"joinChat"}},[n("p",[e._v(" To join the discussion, please open this website on a larger screen. ")])]):n("Options",{on:{startEdit:function(t){e.editing=!0},goTo:function(t){return e.goTo(t)}}})],1),n("div",{ref:"userlandContainer",class:["LIFECYCLE"+e.lifecycle,{dragging:e.dragging}],attrs:{id:"userlandContainer"},on:{keyup:function(t){return e.handleInput(t)},click:function(t){return e.handleClick(t)}}},[n("div",{attrs:{id:"location"}},[n("div",{staticClass:"ui",on:{click:function(t){return e.handleIslandClick("/"+e.location.slug)}}},[e._v(" #"+e._s(e.location.slug)+" ")])]),n("div",{ref:"userland",class:e.location.slug,style:{height:100*e.scale+"%",width:100*e.scale*e.widthFactor+"%"},attrs:{id:"userland"},on:{mousedown:function(t){t.stopPropagation(),e.dragging=!0},mousemove:function(t){return e.drag(t)},mouseup:function(t){return t.stopPropagation(),e.release(t)}}},[e._l(e.territories,(function(t){return n("Territory",{key:t.slug,attrs:{territory:t},on:{moreInfo:function(t){return e.handleIslandClick(t)}}})})),e._l(e.connectedUsers,(function(t){return n("Cursorr",{key:t.uid,ref:e.isMe(t)?"me":"Users",refInFor:!0,attrs:{user:t,dragging:e.isMe(t)?e.dragging:null}})})),e._l(e.notDeletedMessages,(function(t){return n("Message",{key:t.uid,attrs:{message:t,isMe:t.authorUID===e.me.uid},on:{goTo:function(t){e.goTo(e.userByName(t))}}})}))],2)]),n("Ticker",{attrs:{marquee:e.isMobile}}),n("Overlay",{attrs:{id:"overlay",dragging:e.dragging,content:e.moreInformation,desiresOverlay:e.desiresOverlay,isGeneral:"general"===e.location.slug},on:{showOverlay:function(t){e.desiresOverlay=!0},hideOverlay:e.handleOverlayClose}})],1)},y=[],w=(n("4160"),n("a630"),n("fb6a"),n("ac1f"),n("3ca3"),n("5319"),n("1276"),n("2ca0"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"navHandle"}},[n("span",{class:["ui","navToggle","hide",{hidden:!e.desiresNav}],on:{click:function(t){return t.stopPropagation(),e.$emit("hideNav")}}},[e._v(" "+e._s(e.isMobile?"< nav":"<")+" ")]),e.isMobile?e._e():n("div",{staticClass:"ui navType"},[n("span",{class:["map",{selected:!e.desiresList}],on:{click:function(t){return t.stopPropagation(),e.$emit("showMap")}}},[e._v(" map ")]),n("span",{class:["list",{selected:e.desiresList}],on:{click:function(t){return t.stopPropagation(),e.$emit("showList")}}},[e._v(" list ")])]),n("span",{class:["ui","navToggle","show",{hidden:e.desiresNav}],on:{click:function(t){return t.stopPropagation(),e.$emit("showNav")}}},[e._v(" nav > ")])])}),_=[],k={name:"Handle",props:["isMobile","desiresNav","desiresList"]},$=k,C=(n("4770"),n("2877")),O=Object(C["a"])($,w,_,!1,null,"03f1ba66",null),x=O.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"registerContainer"}},[n("div",{staticClass:"ui",attrs:{id:"register"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}}},[e.registered?e._e():n("div",{staticClass:"introText"},[n("h3",[e._v("Welcome.")]),n("p",[e._v("To join the conversation, please pick a display name and color. You can change these later.")])]),n("div",{staticClass:"form"},[n("input",{ref:"name",staticClass:"ui",attrs:{type:"text",placeholder:"pick a display name"}}),e.invalid||e.tooshort||e.inuse?n("p",{staticClass:"error"},[e._v(" "+e._s(e.invalid?"Your display name cannot contain any spaces or special characters.":e.tooshort?"Your display name must contain at least 2 characters.":e.inuse?"This name has already been taken by someone else.":null)+" ")]):e._e(),n("input",{ref:"color",staticClass:"ui",attrs:{type:"text","data-jscolor":""},on:{input:e.updateColor}}),n("input",{ref:"submit",staticClass:"ui",attrs:{type:"button",value:"save"},on:{click:function(t){return t.stopPropagation(),e.save(t)}}})]),e.registered?e._e():n("div",{staticClass:"introText"},[n("p",[e._v("The information you are entering is stored on our server and sent to all the other users.")])])])])},T=[],S=(n("c975"),n("4d63"),n("25f0"),n("881d")),P=n.n(S),I={name:"Editor",data:function(){return{invalid:!1,tooshort:!1,inuse:!1,colorPickerOpts:{format:"rgba",previewPosition:"right",previewSize:30,borderRadius:0,padding:0,controlBorderColor:"rgba(255,255,255,0)",sliderSize:13,shadow:!1}}},computed:Object(g["a"])(Object(g["a"])({},Object(v["e"])(["registered"])),Object(v["c"])(["me","userNames"])),mounted:function(){P.a.presets.default=this.colorPickerOpts,this.$refs.color.value=this.me.color,new P.a(this.$refs.color),P.a.init(),this.registered&&(this.$refs.name.value=this.me.name,this.$refs.name.select())},methods:{save:function(){var e=this.$refs.name.value,t=this.$refs.color.value;this.validateChars(e)?this.validateLength(e)?this.existingUser(e)?this.inuse=!0:this.register(e,t):this.tooshort=!0:this.invalid=!0},cancel:function(){this.$emit("stopEdit")},register:function(e,t){this.$store.dispatch("updateAppearance",{name:e,color:t}),this.$emit("stopEdit"),this.$store.commit("register")},updateColor:function(){this.$store.dispatch("updateColor",{color:this.$refs.color.value})},validateChars:function(e){return/^[A-Za-z0-9]+(?:-[A-Za-z0-9]+)*$/.test(e)},validateLength:function(e){return e.length>1},existingUser:function(e){return this.userNames.indexOf(e)>-1&&e!==this.me.name},toSlug:function(e){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();for(var t="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",n="aaaaeeeeiiiioooouuuunc------",s=0,i=t.length;s<i;s++)e=e.replace(new RegExp(t.charAt(s),"g"),n.charAt(s));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),e}}},E=I,j=(n("3cfe"),Object(C["a"])(E,M,T,!1,null,"dd589ce8",null)),L=j.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["ui",{hovered:e.hovered||e.dragging}],style:{minHeight:e.height+"px",width:e.width+"px"},attrs:{id:"minimap"},on:{mouseover:function(t){e.hovered=!0},mouseout:function(t){e.hovered=!1},mousedown:function(t){return e.mouseDown(t)},mousemove:function(t){return e.mouseMove(t)},mouseup:function(t){return e.mouseUp(t)}}},[n("div",{staticClass:"terrContainer"},e._l(e.territories,(function(t){return n("Territory",{key:t.slug,attrs:{hovered:e.hovered,territory:t}})})),1),n("div",{staticClass:"messageContainer"},e._l(e.messages,(function(e){return n("Message",{key:e.uid,attrs:{message:e}})})),1),n("div",{staticClass:"cursorContainer"},e._l(e.users,(function(e){return n("Cursorr",{key:e.uid,attrs:{user:e}})})),1),n("Window",{attrs:{id:"viewport",width:e.width/e.scale,height:e.height/e.scale,left:e.left/e.scale,top:e.top/e.scale}}),n("div",{staticClass:"zoom"},[n("div",{staticClass:"in",on:{mousedown:function(t){return t.stopPropagation(),e.$store.commit("zoomIn")},mouseup:function(e){e.stopPropagation()}}},[e._v("+")]),n("div",{staticClass:"out",on:{mousedown:function(t){return t.stopPropagation(),e.$store.commit("zoomOut")},mouseup:function(e){e.stopPropagation()}}},[e._v("-")]),n("div",{staticClass:"zero",on:{mousedown:function(t){return t.stopPropagation(),e.$store.commit("setScale",10)},mouseup:function(e){e.stopPropagation()}}},[e._v("○")])])],1)},B=[],U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{left:100*e.user.x-.1+"%",top:100*e.user.y-.2+"%","--scale":3,"--userColor":"var(--"+e.user.uid+")"}})},z=[],N={name:"Cursorr",props:["user"]},A=N,R=(n("dbfd"),Object(C["a"])(A,U,z,!1,null,"9a58fd5e",null)),F=R.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{left:e.toNearestX(e.message.x,.4)+"%",top:e.toNearestX(e.message.y,.4)+"%",width:e.message.content.length/1.5+"px","--userColor":"var(--"+e.message.authorUID+")"}})},V=[],q={name:"Message",props:["message","hovered","dragging"],methods:{toNearestX:function(e,t){return Math.floor(100*e/t)*t}}},X=q,Z=(n("4738"),Object(C["a"])(X,H,V,!1,null,"916c743a",null)),W=Z.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["mini-territory",{hovered:e.hovered}],style:{left:100*e.territory.borders.x+"%",top:100*e.territory.borders.y+"%",width:100*e.territory.borders.w+"%",height:100*e.territory.borders.h+"%","--ground":e.territory.color},attrs:{id:"mini-"+e.territory.slug}},[n("svg",{staticClass:"shape",attrs:{viewBox:e.viewBox,preserveAspectRatio:"none"}},[n("path",{attrs:{fill:e.territory.color,d:e.d}})]),n("div",{staticClass:"background"},[n("vue-markdown",[e._v(" "+e._s(e.territory.name)+" ")])],1)])},G=[],J=(n("466d"),{name:"Territory",props:["territory","hovered"],data:function(){return{d:null,viewBox:null}},created:function(){var e=this;this.$http.get("".concat(this.$apiURL).concat(this.territory.shape.url)).then((function(t){e.d=t.data.match(/ d="([\s\S]*?)"/g)[0].replace(' d="',"").replace('"',""),e.viewBox=t.data.match(/ viewBox="([\s\S]*?)"/g)[0].replace(' viewBox="',"").replace('"',"")}))},mounted:function(){},methods:{toNearestX:function(e,t){return Math.floor(100*e/t)*t}}}),K=J,Q=(n("84fa"),Object(C["a"])(K,Y,G,!1,null,null,null)),ee=Q.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{width:e.width+"px",height:e.height+"px",left:e.left+"px",top:e.top+"px"}})},ne=[],se={name:"Window",props:["width","height","left","top"]},ie=se,oe=(n("054c"),Object(C["a"])(ie,te,ne,!1,null,"61e25564",null)),re=oe.exports,ae={name:"Map",components:{Cursorr:F,Message:W,Territory:ee,Window:re},props:["dragging","miniDragging"],data:function(){return{hovered:!1}},computed:Object(g["a"])(Object(g["a"])({},Object(v["e"])({territories:function(e){return e.territories},left:function(e){return e.windowPos.x/5},top:function(e){return e.windowPos.y/5},width:function(e){return e.windowSize.w/5},height:function(e){return e.windowSize.h/5},scale:function(e){return e.scale},zoomIndex:function(e){return 5*e.scale}})),Object(v["c"])({users:"connectedUsers",messages:"notDeletedMessages"})),methods:{mouseDown:function(e){this.sendDesiredPosition(e),this.$emit("startedDrag")},mouseMove:function(e){this.miniDragging&&this.sendDesiredPosition(e)},mouseUp:function(e){this.$emit("stoppedDrag"),this.sendDesiredPosition(e)},sendDesiredPosition:function(e){var t=e.pageX-this.$el.offsetLeft,n=this.width/(2*this.scale),s=(t-n)*this.zoomIndex,i=e.pageY-this.$el.offsetTop,o=this.height/(2*this.scale),r=(i-o)*this.zoomIndex;this.$emit("newPosition",{x:s,y:r})}}},ce=ae,ue=(n("0e1c"),Object(C["a"])(ce,D,B,!1,null,"44f154f2",null)),le=ue.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"options"}},[n("div",{staticClass:"participants"},[e.showParticipants?n("Userslist",{on:{goTo:function(t){return e.$emit("goTo",t)},hide:function(t){e.showParticipants=!1}}}):n("div",{staticClass:"ui button showParticipants",on:{click:function(t){e.showParticipants=!0}}},[e._v(" participants ")])],1),n("div",{staticClass:"edituser"},[n("div",{staticClass:"ui button",on:{click:function(t){return t.stopPropagation(),e.$emit("startEdit")}}},[e._v(" edit appearance ")])]),n("div",{staticClass:"storage"},[n("div",{staticClass:"ui button",on:{click:function(t){return t.stopPropagation(),e.$store.dispatch("deleteUser",e.me)}}},[e._v(" delete self ")])])])},fe=[],me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["ui",{moderating:e.moderating}],attrs:{id:"userlist"}},[n("div",{staticClass:"title"},[n("span",{staticClass:"hideParticipants",on:{click:function(t){return e.$emit("hide")}}},[e._v(" participants ")]),n("div",{attrs:{id:"moderate"}},[n("span",{staticClass:"moderateButton",on:{click:function(t){e.moderating?e.moderating=!1:e.moderator?e.moderating=!0:e.authenticating?e.authenticating=!1:e.authenticating=!0}}},[e.moderating?n("span",[e._v("—")]):n("span",[e._v("M")])]),e.authenticating?n("input",{ref:"password",attrs:{type:"password",name:"moderator",placeholder:"password",autofocus:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.authenticate()}}}):e._e()])]),n("ul",e._l(e.connectedUsers,(function(t){return n("Label",{key:t.uid,attrs:{user:t,isMe:t.uid===e.me.uid,moderating:e.moderating,messages:e.messagesByUser(t)},on:{goTo:function(t){return e.$emit("goTo",t)}},nativeOn:{click:function(n){return n.stopPropagation(),e.$emit("goTo",t)}}})})),1)])},he=[],pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"userLabel",style:{"--userColor":"var(--"+e.user.uid+")"},on:{mouseover:function(t){t.stopPropagation(),e.hovered=!0},mouseleave:function(t){t.stopPropagation(),e.hovered=!1}}},[n("span",{staticClass:"name"},[e._v(" "+e._s(e.isMe?"me":e.user.name)+" ")]),e.moderating?n("div",{staticClass:"moderatorOptions"},[n("span",{staticClass:"ui button messages",on:{click:function(t){t.stopPropagation(),e.messagesVisible=!e.messagesVisible}}},[e._v("messages")]),n("span",{staticClass:"ui button block",on:{click:function(t){return t.stopPropagation(),e.$store.dispatch("blockUser",e.user)}}},[e._v("block")]),n("span",{staticClass:"ui button delete",on:{click:function(t){return t.stopPropagation(),e.$store.dispatch("deleteUser",e.user)}}},[e._v("delete")])]):e._e(),n("span",{staticClass:"goto"},[e._v(" "+e._s(e.hovered?"→":""))]),e.moderating&&e.messagesVisible?n("div",{staticClass:"messageListContiner"},[e.messages.length>0?n("ul",{staticClass:"messageList"},e._l(e.messages,(function(t){return n("MessageOptions",{key:t.uid,attrs:{message:t},nativeOn:{click:function(n){return n.stopPropagation(),e.$emit("goTo",t)}}})})),1):n("p",[e._v("This user has no messaages.")])]):e._e()])},ge=[],ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["miniMessageContainer",{hover:e.hovered}],on:{mouseover:function(t){e.hovered=!0},mouseleave:function(t){e.hovered=!1}}},[n("span",{staticClass:"message"},[e._v(" "+e._s(e.message.content)+" ")]),n("span",{staticClass:"time"},[e._v(" "+e._s(e.format(e.message.time))+" ")]),n("span",{staticClass:"delete",on:{click:function(t){return t.stopPropagation(),e.deleteMessage(e.message)}}},[e._v("delete")]),e.message.censored?n("span",{staticClass:"delete",on:{click:function(t){return t.stopPropagation(),e.censorMessage(e.message)}}},[e._v("uncensor")]):n("span",{staticClass:"delete",on:{click:function(t){return t.stopPropagation(),e.censorMessage(e.message)}}},[e._v("censor")]),n("span",{staticClass:"goto"},[e._v(" "+e._s(e.hovered?"→":""))])])},be=[],ye=n("f817"),we={name:"MessageOptions",components:{},props:["message"],data:function(){return{now:(new Date).getTime(),hovered:!1}},mounted:function(){},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])(["deleteMessage","censorMessage"])),{},{format:function(e){return Object(ye["default"])(e).format("MMM Do @ HH:mm:ss ")}})},_e=we,ke=(n("1b5e"),Object(C["a"])(_e,ve,be,!1,null,"e926a782",null)),$e=ke.exports,Ce={name:"Label",components:{MessageOptions:$e},props:["isMe","user","messages","moderating"],data:function(){return{hovered:!1,messagesVisible:!1}},mounted:function(){},methods:{}},Oe=Ce,xe=(n("271d"),Object(C["a"])(Oe,pe,ge,!1,null,"d03dc65e",null)),Me=xe.exports,Te={name:"List",components:{Label:Me},props:[],data:function(){return{moderator:!1,authenticating:!1,moderating:!1}},computed:Object(g["a"])({},Object(v["c"])(["me","connectedUsers","notDeletedMessages","messagesByUser","connectedUsersFirst"])),mounted:function(){},sockets:{},methods:{authenticate:function(){var e=this.$refs.password.value;"0000"===e&&(this.moderator=!0,this.authenticating=!1,this.moderating=!0)}}},Se=Te,Pe=(n("5f03"),Object(C["a"])(Se,me,he,!1,null,"9de9aca2",null)),Ie=Pe.exports,Ee={name:"Options",components:{Userslist:Ie},data:function(){return{showParticipants:!1}},computed:Object(g["a"])(Object(g["a"])({},Object(v["e"])(["grid"])),Object(v["c"])(["me"])),methods:Object(g["a"])({},Object(v["d"])(["toggleGrid"]))},je=Ee,Le=(n("e5a0"),Object(C["a"])(je,de,fe,!1,null,"e69b086e",null)),De=Le.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["cursorContainer",{hovered:e.user.typing||e.hovered,dragging:e.dragging,me:e.isMe(e.user)}],style:{left:100*e.user.x-.1+"%",top:100*e.user.y-.15+"%","--scale":15,"--userColor":"var(--"+e.user.uid+")"},on:{mouseover:function(t){t.stopPropagation(),e.hovered=!0},mouseout:function(t){t.stopPropagation(),e.hovered=!1}}},[e.isMe(e.user)?n("input",{ref:"input",staticClass:"input",attrs:{type:"text",placeholder:"type message & press enter",autofocus:""}}):n("span",{staticClass:"input"},[e._v(" "+e._s(e.user.typing)+" ")]),n("div",{staticClass:"cursor"},[n("span",{staticClass:"name",on:{mouseover:function(t){t.stopPropagation(),e.hovered=!0},mouseout:function(t){t.stopPropagation(),e.hovered=!1}}},[e._v(" "+e._s(e.isMe(e.user)?"me":e.user.connected?e.user.name:e.user.name+" (offline)")+" ")])])])},Ue=[],ze={name:"Cursorr",props:{user:Object,dragging:Boolean},data:function(){return{hovered:!1,current:String,navigation:!1,announcement:!1,locationTimer:0}},computed:Object(g["a"])(Object(g["a"])({},Object(v["e"])(["isMobile","scale","windowSize","windowPos"])),Object(v["c"])(["me","isMe","messagesByUser","territoryByBorders"])),mounted:function(){this.isMe&&!this.isMobile&&this.trackCursor()},methods:{sendMessage:function(){var e=this.$refs.input,t=this.constructMessage(e.value);e.focus(),this.navigation&&this.$router.push(e.value),t.content&&" "!=t.content&&this.$socket.client.emit("message",t),this.announcement=!1,this.navigation=!1,this.stream=!1,this.current=null,e.value="",e.placeholder=""},constructMessage:function(e){var t=(new Date).getTime(),n={uid:this.me.uid+t,author:this.me.name,authorUID:this.me.uid,content:e,time:t,color:this.me.color,x:this.me.x,y:this.me.y,deleted:!1,censored:!1,announcement:this.announcement,navigation:this.navigation,stream:this.stream,location:this.$store.state.location.slug};return n},trackCursor:function(){var e=this;document.addEventListener("mousemove",(function(t){if(!e.dragging){var n={x:(e.windowPos.x+t.clientX)/(e.windowSize.w*e.scale),y:(e.windowPos.y+t.clientY)/(e.windowSize.h*e.scale)};e.$store.dispatch("updatePosition",n),t.preventDefault()}}))},trackInput:function(e){var t=this.$refs.input,n=e.which||e.keyCode;if(t!==document.activeElement&&(t.focus(),n>=48&&n<=90)){var s=String.fromCharCode(n);t.value=s}"~"==t.value?this.navigation=!0:"!"==t.value?this.announcement=!0:t.value.includes("/stream")&&(this.stream=!0);var i=this.messagesByUser(this.me),o=i[0],r=i[i.length-1],a=i[i.indexOf(this.current)-1],c=i[i.indexOf(this.current)+1];38==n?(this.current?this.current=a||o:this.current=r,t.value=this.current.content,t.select()):40==n?(this.current&&c&&(this.current=c),t.value=this.current.content,t.select()):13==n?this.sendMessage():27==n&&(t.value="",t.blur()),this.$store.dispatch("updateTyping",{typing:t.value})}}},Ne=ze,Ae=(n("af2b"),Object(C["a"])(Ne,Be,Ue,!1,null,"771b4746",null)),Re=Ae.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["messageContainer","message"+e.message.uid,{hover:e.hovered,announcement:e.message.announcement}],style:{left:e.toNearestX(e.message.x,.2)+"%",top:e.toNearestX(e.message.y,.2)+"%","--blur":"blur("+(e.now-e.message.time)/1e8+"px)","--userColor":"var(--"+e.message.authorUID+")"},attrs:{id:e.message.uid},on:{mouseover:function(t){e.hovered=!0},mouseleave:function(t){e.hovered=!1}}},[e.message.censored?n("div",{staticClass:"message censored"},[e._v(" This message has been censored by a moderator. ")]):n("vue-markdown",{staticClass:"message",attrs:{inline:""}},[e._v(" "+e._s(e.message.content)+" ")]),n("div",{staticClass:"details"},[n("span",[e._v(" — ")]),n("span",{staticClass:"author",on:{click:function(t){return t.stopPropagation(),e.$emit("goTo",e.message.author)}}},[e._v(e._s(e.message.author))]),n("span",{staticClass:"time"},[e._v(", "+e._s(e.fromNow(e.message.time)))]),e.isMe?n("span",[e._v(" ● ")]):e._e(),e.isMe?n("span",{staticClass:"delete",on:{click:function(t){return t.stopPropagation(),e.deleteMessage(e.message)}}},[e._v("delete")]):e._e()])],1)},He=[],Ve={name:"Message",components:{},props:["isMe","message"],data:function(){return{now:(new Date).getTime(),hovered:!1}},mounted:function(){},methods:Object(g["a"])(Object(g["a"])({},Object(v["b"])(["deleteMessage"])),{},{fromNow:function(e){return Object(ye["default"])(e).fromNow()},toNearestX:function(e,t){return Math.floor(100*e/t)*t}})},qe=Ve,Xe=(n("fd40"),Object(C["a"])(qe,Fe,He,!1,null,null,null)),Ze=Xe.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"territory",style:{left:100*e.territory.borders.x+"%",top:100*e.territory.borders.y+"%",width:100*e.territory.borders.w+"%",height:100*e.territory.borders.h+"%","--ground":e.territory.color},attrs:{id:e.slug}},["reception"===e.slug?n("Reception",{class:e.slug,attrs:{content:e.content},on:{moreInfo:function(t){return e.$emit("moreInfo",t)}}}):"exhibition"===e.slug?n("Exhibition",{class:e.slug,attrs:{content:e.content},on:{moreInfo:function(t){return e.$emit("moreInfo",t)}}}):"timetable"===e.slug?n("Timetable",{class:e.slug,attrs:{content:e.content},on:{moreInfo:function(t){return e.$emit("moreInfo",t)}}}):"glossary"===e.slug?n("Glossary",{class:e.slug,attrs:{content:e.content},on:{moreInfo:function(t){return e.$emit("moreInfo",t)}}}):"contributors"===e.slug?n("Contributors",{class:e.slug,attrs:{content:e.content},on:{moreInfo:function(t){return e.$emit("moreInfo",t)}}}):"library"===e.slug?n("Library",{class:e.slug,attrs:{content:e.content},on:{moreInfo:function(t){return e.$emit("moreInfo",t)}}}):"hangout"===e.slug?n("Hangout",{class:e.slug,attrs:{content:e.content},on:{moreInfo:function(t){return e.$emit("moreInfo",t)}}}):"livestream"===e.slug?n("Livestream",{class:e.slug,attrs:{content:e.content},on:{moreInfo:function(t){return e.$emit("moreInfo",t)}}}):e.content?n("div",{staticClass:"placeholder",class:e.slug}):e._e()],1)},Ye=[],Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.content,(function(t){return n("Island",{key:t.slug,attrs:{id:t.slug+"Island",section:t},nativeOn:{click:function(n){return e.$emit("moreInfo","/reception/"+t.slug)}}})})),1)},Je=[],Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"island"},[n("div",{staticClass:"header"},[n("h1",[e._v(" "+e._s(e.section.Title)+" ")])])])},Qe=[],et={name:"Island",props:["section"]},tt=et,nt=(n("c266"),Object(C["a"])(tt,Ke,Qe,!1,null,"cada4a9a",null)),st=nt.exports,it={name:"Reception",components:{Island:st},props:["content"]},ot=it,rt=(n("86e7"),Object(C["a"])(ot,Ge,Je,!1,null,"17e10dd1",null)),at=rt.exports,ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.content,(function(e){return n("Island",{key:e.slug,attrs:{id:e.slug+"Island",section:e}})})),1)},ut=[],lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["island",{active:e.active}]})},dt=[],ft={name:"Island",components:{},props:["section"],data:function(){return{active:!1}},computed:{src:function(){return this.$apiURL+this.section.File.url}},created:function(){},methods:{play:function(){this.active?(this.$refs.player.pause(),this.active=!1):(this.$refs.player.play(),this.active=!0)}}},mt=ft,ht=(n("43bb"),Object(C["a"])(mt,lt,dt,!1,null,"a4473d78",null)),pt=ht.exports,gt={name:"Exhibition",components:{Island:pt},props:["content"]},vt=gt,bt=(n("6962"),Object(C["a"])(vt,ct,ut,!1,null,"42c15606",null)),yt=bt.exports,wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"timeZone"}},[n("h3",[e._v("Sessions are displayed in "+e._s(e.timeZone)+" time.")]),e.isInDefaultTimeZone?e._e():n("h3",{staticClass:"toggle",on:{click:function(t){return t.stopPropagation(),e.toggleTimezone(t)}}},[e._v(" "+e._s(e.desiresOwnTimezone?"View sessions in "+e.defaultTimeZone+" time.":"View sessions in "+e.ownTimeZone+" time.")+" ")])]),e._l(e.contentByDays,(function(t){return n("div",{key:e.getDay(t.date),staticClass:"day"},[n("div",{staticClass:"date"},[e._v(e._s(e.cuteDate(t.date)))]),n("div",{staticClass:"sessionsContainer"},e._l(t.sessions,(function(t){return n("div",{key:t.slug,staticClass:"islandContainer",attrs:{id:t.slug+"Island"}},[n("div",{staticClass:"time"},[n("span",{staticClass:"start"},[e._v(e._s(e.start(t)))]),n("span",{staticClass:"end"},[e._v(" "+e._s(e.end(t)))])]),n("Island",{attrs:{session:t},nativeOn:{click:function(n){return e.$emit("moreInfo","/timetable/"+t.slug)}}})],1)})),0)])}))],2)},_t=[],kt=(n("4de4"),n("d81d"),n("d3b7"),n("07ac"),n("6062"),n("ddb0"),n("7f45")),$t=n.n(kt),Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["island",{break:e.isBreak}]},[n("div",{staticClass:"info"},[n("div",{staticClass:"header"},[n("h1",{staticClass:"title"},[e._v(" "+e._s(e.session.Title)+" ")])])]),e.soon?n("BBB-link",{attrs:{BBBLink:e.session.bbbURL},nativeOn:{mousedown:function(e){e.stopPropagation()},mouseup:function(e){e.stopPropagation()},click:function(e){e.stopPropagation()}}}):e._e()],1)},Ot=[],xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"BBB-container",attrs:{target:"_blank",href:e.BBBLink}},[n("h3",{staticClass:"BBB"},[e._v(" Click here to join the BBB room. ")])])},Mt=[],Tt={name:"BBBLink",components:{},props:["BBBLink"],data:function(){return{}},computed:{},created:function(){},methods:{}},St=Tt,Pt=(n("3cfd"),Object(C["a"])(St,xt,Mt,!1,null,"5f3f4390",null)),It=Pt.exports,Et={name:"Island",components:{BBBLink:It},props:["session"],data:function(){return{}},computed:{soon:function(){return!1},hosts:function(){return this.session.hosts},moderators:function(){return this.session.moderators},isBreak:function(){return!this.session.Description||0===this.session.Description.length}},created:function(){},methods:{}},jt=Et,Lt=(n("2daa"),Object(C["a"])(jt,Ct,Ot,!1,null,"498fa4fb",null)),Dt=Lt.exports,Bt={name:"Timetable",components:{Island:Dt},props:["content"],data:function(){return{defaultTimeZone:"Europe/Amsterdam",ownTimeZone:$t.a.tz.guess(),desiresOwnTimezone:!1,contentByDays:{}}},computed:{timeZone:function(){return this.desiresOwnTimezone?this.ownTimeZone:this.defaultTimeZone},isInDefaultTimeZone:function(){return this.ownTimeZone===this.defaultTimeZone}},created:function(){$t.a.tz.setDefault(this.defaultTimeZone),this.orderContentByDays()},methods:{orderContentByDays:function(){var e=this,t={},n=Object.values(this.content),s=n.map((function(t){return e.getDay(t["Start"])})),i=Array.from(new Set(s));i.forEach((function(s){var i=n.filter((function(t){return e.sessionInDay(t,s)}));t[s]={date:i[0].Start,sessions:i}})),this.$set(this,"contentByDays",t)},toggleTimezone:function(){this.desiresOwnTimezone=!this.desiresOwnTimezone,$t.a.tz.setDefault(this.timeZone),this.orderContentByDays()},sessionInDay:function(e,t){return this.getDay(e.Start)===t},sizeByDuration:function(e){var t=this.getUnixTime(e.Start),n=this.getUnixTime(e.End),s=n-t,i=this.isBreak(e)?8:s/45e4,o="calc(".concat(i," * var(--one))");return o},start:function(e){return this.getHumanTime(e.Start)},end:function(e){return this.getHumanTime(e.Ens)},isBreak:function(e){return!e.Description||0===e.Description.length},getHumanTime:function(e){return $t()(e).format("HH:mm")},getUnixTime:function(e){return $t()(e).format("x")},getDay:function(e){return $t()(e).format("D")},cuteDate:function(e){return $t()(e).format("dddd, MMMM Do")}}},Ut=Bt,zt=(n("cba4"),Object(C["a"])(Ut,wt,_t,!1,null,"46dbf8e6",null)),Nt=zt.exports,At=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.content,(function(t){return n("Island",{key:t.slug,attrs:{id:t.slug+"Island",section:t},nativeOn:{click:function(n){return e.$emit("moreInfo","/glossary/"+t.slug)}}})})),1)},Rt=[],Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"island"},[n("div",{staticClass:"header"},[n("h1",[e._v(" "+e._s(e.section.Term)+" ")])])])},Ht=[],Vt={name:"Island",props:["section"]},qt=Vt,Xt=(n("7692"),Object(C["a"])(qt,Ft,Ht,!1,null,"09fdeeb8",null)),Zt=Xt.exports,Wt={name:"Glossary",components:{Island:Zt},props:["content"]},Yt=Wt,Gt=(n("5fbb"),Object(C["a"])(Yt,At,Rt,!1,null,"0b01dd5b",null)),Jt=Gt.exports,Kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.content,(function(t){return n("Island",{key:t.slug,attrs:{id:t.slug+"Island",section:t},nativeOn:{click:function(n){return e.$emit("moreInfo","/contributors/"+t.slug)}}})})),1)},Qt=[],en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"island"},[n("div",{staticClass:"header"},[n("h1",[e._v(" "+e._s(e.section.Name)+" ")])])])},tn=[],nn={name:"Island",props:["section"]},sn=nn,on=(n("c0f8"),Object(C["a"])(sn,en,tn,!1,null,"93a8a8c2",null)),rn=on.exports,an={name:"Contributors",components:{Island:rn},props:["content"]},cn=an,un=(n("0601"),Object(C["a"])(cn,Kt,Qt,!1,null,"6e955732",null)),ln=un.exports,dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.content,(function(e){return n("Island",{key:e.slug,ref:e.slug,refInFor:!0,attrs:{id:e.slug+"Island",section:e}})})),1)},fn=[],mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"island"},[n("a",{staticClass:"header",attrs:{href:e.src,target:"_blank"}},[n("h3",[e._v(" "+e._s(e.section.author)+" ")]),n("h1",[e._v(" "+e._s(e.section.Name)+" ")])])])},hn=[],pn={name:"Island",props:["section"],computed:{src:function(){return this.section.File?this.$apiURL+this.section.File.url:this.section.URL}}},gn=pn,vn=(n("5508"),Object(C["a"])(gn,mn,hn,!1,null,"7b28c653",null)),bn=vn.exports,yn={name:"Library",components:{Island:bn},props:["content"]},wn=yn,_n=(n("063b"),Object(C["a"])(wn,dn,fn,!1,null,"932d65a6",null)),kn=_n.exports,$n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},Cn=[],On={name:"Hangout"},xn=On,Mn=(n("d5c0"),Object(C["a"])(xn,$n,Cn,!1,null,"54f0f2a6",null)),Tn=Mn.exports,Sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Island")],1)},Pn=[],In=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"island"},[n("div",{staticClass:"body"},[n("Video")],1)])},En=[],jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("video",{attrs:{muted:"",controls:e.controls,autoplay:""},domProps:{muted:!0}})},Ln=[],Dn=n("dff4"),Bn=n.n(Dn),Un={name:"Video",components:{},props:["desiresPosition","muted","playing","fullscreen"],data:function(){return{controls:!1}},computed:{playbackId:function(){return this.$store.state.stream.playbackId}},watch:{playbackId:function(){this.updateVideo()},desiresPosition:function(e){this.active&&(this.$el.currentTime=e*this.$el.duration)},playing:function(e){e?this.$el.play():this.$el.pause()},muted:function(e){this.$el.muted=!!e},fullscreen:function(e){var t=this;e&&(this.$el.requestFullScreen?this.$el.requestFullScreen():this.$el.mozRequestFullScreen?this.$el.mozRequestFullScreen():this.$el.webkitRequestFullScreen&&this.$el.webkitRequestFullScreen(),setTimeout((function(){t.controls=!0}),300))}},mounted:function(){var e=this;this.isMobile&&(this.controls=!0),this.playbackId&&this.updateVideo();var t=["","webkit","moz","ms"];t.forEach((function(t){e.$el.addEventListener(t+"fullscreenchange",(function(){window.innerHeight!==screen.height&&(e.$emit("unfullscreened"),e.isMobile||(e.controls=!1))}))})),this.$el.addEventListener("timeupdate",(function(){var t=e.$el.currentTime/e.$el.duration;e.$emit("elapsed",t)}))},methods:{src:function(e){return"https://stream.mux.com/".concat(e,".m3u8")},updateVideo:function(){console.log("updating video");var e=this.playbackId,t=this.src(e),n=this.$el;if(Bn.a.isSupported()){var s=new Bn.a;s.loadSource(t),s.attachMedia(n),s.on(Bn.a.Events.MANIFEST_PARSED,(function(){n.play()}))}else n.canPlayType("application/vnd.apple.mpegurl")&&(n.src=t,n.addEventListener("loadedmetadata",(function(){n.play()})))}}},zn=Un,Nn=(n("cf06"),Object(C["a"])(zn,jn,Ln,!1,null,null,null)),An=Nn.exports,Rn={name:"Island",components:{Video:An}},Fn=Rn,Hn=(n("db96"),Object(C["a"])(Fn,In,En,!1,null,"0ecde456",null)),Vn=Hn.exports,qn={name:"Livestream",components:{Island:Vn}},Xn=qn,Zn=(n("4f29"),Object(C["a"])(Xn,Sn,Pn,!1,null,"3f304efc",null)),Wn=Zn.exports,Yn={name:"Territory",components:{Reception:at,Exhibition:yt,Timetable:Nt,Glossary:Jt,Contributors:ln,Library:kn,Hangout:Tn,Livestream:Wn},props:["territory"],data:function(){return{d:null,viewBox:null}},computed:{slug:function(){return this.territory.slug},content:function(){return this.territory.content}},created:function(){var e=this;this.$http.get("".concat(this.$apiURL).concat(this.territory.shape.url)).then((function(t){e.d=t.data.match(/ d="([\s\S]*?)"/g)[0].replace(' d="',"").replace('"',""),e.viewBox=t.data.match(/ viewBox="([\s\S]*?)"/g)[0].replace(' viewBox="',"").replace('"',"")}))},mounted:function(){},methods:{}},Gn=Yn,Jn=(n("345f"),Object(C["a"])(Gn,We,Ye,!1,null,"a53b64fc",null)),Kn=Jn.exports,Qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui",attrs:{id:"list"}},e._l(e.territories,(function(t){return n("Territory",{key:t.slug,attrs:{territory:t},nativeOn:{click:function(n){return n.stopPropagation(),e.handleTerritoryClick(t)}}})})),1)},es=[],ts=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{class:["list-territory",{active:e.isActive}],style:{"--ground":e.territory.color,"--image":e.shape},attrs:{id:"list-"+e.territory.slug}},[n("span",{staticClass:"name"},[e._v(e._s(e.territory.name))]),n("span",{staticClass:"goto"},[e._v(" → ")])])},ns=[],ss={name:"Territory",props:["territory"],computed:{location:function(){return this.$store.state.location},shape:function(){return'url("'.concat(this.$apiURL).concat(this.territory.shape.url,'#svgView(preserveAspectRatio(none))")')},isActive:function(){return this.territory.slug===this.location.slug}}},is=ss,os=(n("d009"),Object(C["a"])(is,ts,ns,!1,null,null,null)),rs=os.exports,as={name:"List",components:{Territory:rs},computed:Object(g["a"])({},Object(v["e"])({territories:function(e){return e.territories}})),methods:{handleTerritoryClick:function(e){this.$emit("goTo",e.slug)}}},cs=as,us=(n("0ae6"),Object(C["a"])(cs,Qn,es,!1,null,"eddd7d68",null)),ls=us.exports,ds=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{hover:e.hover},attrs:{id:"tickerContainer"},on:{mouseover:function(t){t.stopPropagation(),e.hover=!0},mousemove:function(t){return t.stopPropagation(),e.handleMousemove(t)},mouseout:function(t){t.stopPropagation(),e.hover=!1},mouseup:function(t){t.stopPropagation(),e.href&&e.$router.push(e.href)}}},[n("div",{ref:"smarq",style:{transform:"translateX("+e.x+"px)"},attrs:{id:"ticker"}},[n("vue-markdown",{staticClass:"content",attrs:{inline:""}},[e._v(" "+e._s(e.content)+" ")])],1)])},fs=[],ms=(n("9911"),n("5370")),hs=n.n(ms),ps={name:"Ticker",components:{},props:["marquee"],data:function(){return{hover:!1,x:0}},computed:{location:function(){return this.$store.state.location},phrase:function(){return this.$store.state.ticker.phrase},href:function(){return this.$store.state.ticker.link},content:function(){for(var e="",t=0;t<20;t++)e=e+this.phrase+" ";return e}},watch:{marquee:function(){this.handleSmarquee()}},mounted:function(){this.smarquee=new hs.a({element:this.$refs.smarq,iterationCount:"infinite",onAnimationStart:function(){console.log("smarquee start")},onAnimationIterate:function(){console.log("smarquee loop")},onAnimationEnd:function(){console.log("smarquee stop")}}),this.smarquee.init(),this.handleSmarquee()},methods:{handleMousemove:function(e){this.marquee||(this.x=e.clientX)},handleSmarquee:function(){this.marquee?this.smarquee.play():this.smarquee.pause()}}},gs=ps,vs=(n("98cf"),Object(C["a"])(gs,ds,fs,!1,null,"8e41a3ba",null)),bs=vs.exports,ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["overlayContainer",{visible:e.desiresOverlay},{hidden:e.isGeneral}]},[n("div",{attrs:{id:"infoTitle"}},[n("span",{class:["ui","infoToggle","hide",{hidden:!e.desiresOverlay}],on:{click:function(t){return t.stopPropagation(),e.$emit("hideOverlay")}}},[e._v(" hide > ")]),n("span",{class:["ui","infoToggle","show",{hidden:e.desiresOverlay}],on:{click:function(t){t.stopPropagation(),!e.dragging&&e.$emit("showOverlay")}}},[e._v(" < info ")])]),e.content?n("div",{ref:"overlay",class:["ui","overlay",e.content.slug]},[e.content.Sections?e.content.Sections?n("div",{staticClass:"content"},[e._l(e.content.Sections,(function(e){return n("Section",{key:e.id,attrs:{section:e}})})),e.isRegister?n("div",{attrs:{id:"aanmelderContainer"}},[n("a",{attrs:{id:"backupLink",href:"https://www.aanmelder.nl/wo2021/subscribe"}},[e._v(" Register online for the event. ")]),n("div",{attrs:{id:"AanmelderRootDiv"}})]):e._e()],2):e._e():n("div",{staticClass:"content"},[n("Section",{attrs:{section:e.content}})],1)]):e._e()])},ws=[],_s=n("d10b"),ks=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"header"},[n("h3",{staticClass:"subtitle"},[e._v(" "+e._s(e.subtitle)+" ")]),n("h1",{staticClass:"title"},[e._v(" "+e._s(e.title)+" ")])]),n("div",{staticClass:"body"},[n("vue-markdown",{attrs:{source:e.body}})],1),n("div",{staticClass:"footer"},[e.source?n("vue-markdown",{attrs:{source:e.source}}):e._e()],1)])},$s=[],Cs=(n("a4d3"),n("e01a"),{name:"Section",props:["section"],data:function(){return{}},computed:{subtitle:function(){return this.getSubtitle()},title:function(){return this.getTitle()},body:function(){return this.getBody()},source:function(){return this.getSource()}},watch:{body:function(){this.handleLinks()}},created:function(){},mounted:function(){this.handleLinks()},methods:{getSubtitle:function(){return this.section.Subtitle?this.section.Subtitle:this.section.Start?Object(ye["default"])(this.section.Start).format("dddd, MMMM Do [at] HH:mm"):""},getTitle:function(){return this.section.Title||this.section.title||this.section.Name||this.section.name||this.section.Term||""},getBody:function(){return this.processBody(this.section.Body||this.section.body||this.section.Description||this.section.description||this.section.Bio||this.section.Definition||"")},getSource:function(){return this.section.Source||this.section.link},processBody:function(e){return e&&(e=e.replace(/\]\(\/uploads\//g,"](".concat(this.$apiURL,"/uploads/"))),e},handleLinks:function(){var e=this;setTimeout((function(){Array.from(document.querySelectorAll("section a")).forEach((function(t){var n=t.attributes.href.value;n&&n.startsWith("/")&&t.addEventListener("click",(function(t){e.$router.push(n),t.preventDefault()}))}))}),500)}}}),Os=Cs,xs=(n("6f46"),Object(C["a"])(Os,ks,$s,!1,null,"2f4e6863",null)),Ms=xs.exports,Ts={name:"Overlay",components:{Section:Ms},props:["dragging","content","isGeneral","desiresOverlay"],mixins:[_s["a"]],data:function(){return{isRegister:!1}},computed:{},watch:{content:function(){this.handleAanmelder()}},mounted:function(){this.$smoothElement({el:this.$refs.overlay,hideOverflow:!0,transition:"height 0.2s ease"}),this.handleAanmelder()},methods:{handleAanmelder:function(){if(this.content&&"register"===this.content.slug){this.isRegister=!0;var e=document.createElement("script");e.setAttribute("src","https://www.aanmelder.nl/115987/xsembed?auth=UB-PSIJLXsgRsW62W1FtPyhMMTE1OTg3TApWRU1CRURVUkxDSEVDSwpwMAp0cDEKLg.."),document.head.appendChild(e)}else this.isRegister=!1}}},Ss=Ts,Ps=(n("6abb"),Object(C["a"])(Ss,ys,ws,!1,null,"f1a5fa08",null)),Is=Ps.exports,Es={name:"Mainland",components:{NavHandle:x,Editor:L,Minimap:le,Minilist:ls,Options:De,Cursorr:Re,Message:Ze,Territory:Kn,Ticker:bs,Overlay:Is},props:{wantsToView:String},data:function(){return{moreInformation:{},secondPath:!1,desiresNav:!0,desiresList:!0,desiresOverlay:!0,editing:!1,scrolling:!1,dragging:!1,miniDragging:!1,lastScrollX:0,lastScrollY:0}},computed:Object(g["a"])(Object(g["a"])({},Object(v["e"])(["lifecycle","registered","visited","blocked","users","messages","territories","location","general","isMobile","scale","widthFactor","windowPos","windowSize"])),Object(v["c"])(["me","isMe","territoryByBorders","territoryBySlug","userByName","regionColors","userColors","connectedUsers","notDeletedMessages","positionOf","positionOfIsland","centerOf","pixelsFrom"])),watch:{wantsToView:function(e){this.route(e)},location:function(e,t){e.slug!==t.slug&&(this.secondPath||this.$router.push("/"+this.location.slug))},scale:function(){this.goTo(this.me,"auto")},me:function(e,t){t&&e.uid!==t.uid&&console.log("you: ",e.uid)}},created:function(){this.isMobile&&(this.$store.commit("setScale",6),this.$store.commit("setWidthFactor",3.5))},mounted:function(){var e=this;this.wantsToView&&"/"!==this.wantsToView&&"/general"!==this.wantsToView?this.route(this.wantsToView,"smooth"):this.$router.push("reception"),this.handleLinks(".message a"),this.$el.addEventListener("wheel",(function(e){e.ctrlKey&&(e.preventDefault(),e.stopPropagation())})),this.$refs.userlandContainer.addEventListener("scroll",(function(t){e.setViewerPosition(t)}))},beforeDestroy:function(){this.registered&&this.me&&this.$store.dispatch("disconnect")},sockets:{message:function(e){this.handleLinks(".message".concat(e.uid," a")),e.announcement?this.scrollTo(this.positionOf(e),"smooth"):e.stream&&this.$store.commit("setStream",e.content.replace("/stream ",""))}},methods:{route:function(e,t,n,s){var i=this;e=e.startsWith("/")?e.slice(1):e;var o,r,a=e.split("/")[0],c=e.split("/")[1];if(console.log(a,c),e.startsWith("~")){var u=this.userByName(a.replace("~",""));u?o=this.positionOf(u):console.log("user not found")}else{var l=this.territories[a];l?(o=this.centerOf({x:l.borders.x*this.widthFactor,y:l.borders.y,w:l.borders.w*this.widthFactor,h:l.borders.h}),r=l,c&&(this.secondPath=!0,o=this.positionOfIsland(c),r=this.territories[a].content[c],setTimeout((function(){i.secondPath=!1}),1e3))):console.log("territory not found")}(s||this.location.slug!==a||c)&&setTimeout((function(){i.scrollTo(o,t||"smooth")}),n||0),this.moreInformation=r,this.isMobile?(this.desiresNav=!1,this.desiresOverlay=!!c):this.desiresOverlay="general"!==a},handleOverlayClose:function(){var e=this;this.$router.history.current.path.split("/")[2]&&this.$router.push("/"+this.location.slug),setTimeout((function(){e.desiresOverlay=!1}),10)},handleIslandClick:function(e){if(!this.dragging){var t=this.$router.history.current.path;t===e?this.route(e,!1,!1,!0):this.$router.push("".concat(e))}},handleInput:function(e){this.editing||this.isMobile||this.$refs.me[0].trackInput(e)},handleClick:function(){this.editing||this.isMobile||this.$refs.me[0].sendMessage()},handleMini:function(e){this.scrollTo(e,this.miniDragging?"auto":"smooth")},goTo:function(e,t){this.scrollTo(this.centerOf(e),t||"smooth")},drag:function(e){if(this.dragging){var t={x:this.windowPos.x-e.movementX,y:this.windowPos.y-e.movementY};e.clientX<=10||e.clientX>=this.windowSize.w-20||e.clientY<=10||e.clientY>=this.windowSize.h-20?this.dragging=!1:this.scrollTo(t)}},release:function(){this.dragging=!1},scrollTo:function(e,t){var n=this;this.dragging?this.$refs.userlandContainer.scroll({left:e.x,top:e.y,behavior:t||"auto"}):requestAnimationFrame((function(){n.$refs.userlandContainer.scroll({left:e.x,top:e.y,behavior:t||"auto"})}))},setViewerPosition:function(){var e={x:this.$refs.userlandContainer.scrollLeft,y:this.$refs.userlandContainer.scrollTop},t=this.territoryByBorders(e);this.$store.commit("viewerPosition",e),this.$store.commit("setLocation",t);var n=e.x-this.lastScrollX,s=e.y-this.lastScrollY,i={x:this.me.x*this.windowSize.w*this.scale,y:this.me.y*this.windowSize.h*this.scale},o={x:(i.x+n)/(this.windowSize.w*this.scale),y:(i.y+s)/(this.windowSize.h*this.scale)};this.$store.dispatch("updatePosition",o),this.lastScrollX=e.x,this.lastScrollY=e.y},handleLinks:function(e){var t=this;setTimeout((function(){Array.from(document.querySelectorAll(e)).forEach((function(e){var n=e.attributes.href.value;n&&n.startsWith("/")&&e.addEventListener("click",(function(e){t.$router.push(n),e.preventDefault()}))}))}),1e3)}}},js=Es,Ls=(n("1812"),Object(C["a"])(js,b,y,!1,null,null,null)),Ds=Ls.exports,Bs=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Us=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"blocked"}},[n("div",{staticClass:"message"},[n("p",[e._v("You have been removed.")]),n("p",[e._v("Please reflect on your behaviour.")])])])}],zs={name:"Nomansland",components:{},props:[],data:function(){return{}},created:function(){},mounted:function(){var e=this.$el,t=window.innerHeight/14,n=window.innerWidth/10,s=this.tableCreate(t,n);e.appendChild(s)},methods:{tableCreate:function(e,t){for(var n=this,s=document.createElement("table"),i=0;i<e;i++)for(var o=s.insertRow(),r=function(e){var t=o.insertCell();t.innerHTML=" ",t.addEventListener("mouseover",(function(){n.repeatXI((function(){t.innerHTML=n.generate_random_string()}),100,10),setTimeout((function(){t.innerHTML=" "}),1050),setTimeout((function(){t.innerHTML=" "}),3e3)}))},a=0;a<t;a++)r(a);return s},generate_random_string:function(){var e=39,t=47,n=Math.floor(Math.random()*(t-e)+e),s=String.fromCharCode(n);return s},repeatXI:function(e,t,n){var s,i;return i=function(){e(),--n||clearInterval(s)},t=t<=0?1e3:t,n=parseInt(n,10)||0,s=setInterval(i,t),!0}}},Ns=zs,As=(n("32a0"),Object(C["a"])(Ns,Bs,Us,!1,null,"55f17412",null)),Rs=As.exports,Fs=(n("96cf"),n("1da1")),Hs="https://api.obfuscation.karls.computer/",Vs="https://obfuscation.karls.computer/",qs={getUsers:function(){return new Promise((function(e,t){o.a.get(Vs+"users").then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},getMessages:function(){var e=this;return new Promise((function(t,n){o.a.get(Vs+"messages").then((function(n){var s=e.lastTwoDaysOnly(n.data);t(s)})).catch((function(e){n(e)}))}))},getTicker:function(){return new Promise((function(e,t){o.a.get(Hs+"ticker").then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},getRegions:function(){var e=this;return new Promise((function(t,n){o.a.get(Hs+"regions").then(function(){var n=Object(Fs["a"])(regeneratorRuntime.mark((function n(s){var i,o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i={reception:{},readme:{},hangout:{},exhibition:{},livestream:{},timetable:{},contributors:{},"study-room":{},library:{},glossary:{}},o=0;case 2:if(!(o<s.data.length)){n.next=13;break}return r=s.data[o],delete r.id,r.borders={x:r.borders.x/100,y:r.borders.y/100,w:r.borders.w/100,h:r.borders.h/100},n.next=8,e.getRegionContent(r.slug);case 8:r.content=n.sent,i[r.slug]=r;case 10:o++,n.next=2;break;case 13:t(i);case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){n(e)}))}))},getRegionContent:function(e){var t=this;return new Promise((function(n,s){var i=t.resolveQueryFromRegion(e);if(i){var r={};o.a.get(Hs+i).then((function(s){for(var i=0;i<s.data.length;i++){var o=s.data[i];r[o.slug]=o}"timetable"===e&&t.correctDates(r),n(r)})).catch((function(e){s(e)}))}else n(null)}))},lastTwoDaysOnly:function(e){var t=(new Date).getTime(),n=1728e5;for(var s in e){var i=e[s];i.time<t-n&&delete e[s]}return e},correctDates:function(e){for(var t in e){var n=e[t];n.Start=this.correctTimeZone(n.Start),n.End=this.correctTimeZone(n.End)}return e},correctTimeZone:function(e){return e},resolveQueryFromRegion:function(e){return"reception"===e?"statics":"exhibition"===e?"videos":"timetable"===e?"sessions":"contributors"===e?"hosts":"glossary"===e?"glossaries":"library"===e?"libraries":null}},Xs=qs,Zs=n("8a77"),Ws={name:"Home",components:{Mainland:Ds,Nomansland:Rs},props:["slug"],data:function(){return{wantsToView:null,loadingMessage:"Loading...",serverError:"server error.",tickerLoaded:!1,territoriesLoaded:!1,messagesLoaded:!1,usersLoaded:!1,selfEvaluated:!1}},computed:Object(g["a"])({contentLoaded:function(){return this.tickerLoaded&&this.territoriesLoaded&&this.messagesLoaded&&this.usersLoaded&&this.selfEvaluated}},Object(v["e"])(["lifecycle","version","blocked","isMobile"])),created:function(){var e,t,n,s,i=this;console.log("VERSION: ".concat(localStorage.version)),console.log("LIFECYCLE: ".concat(this.lifecycle)),localStorage.version!=this.version&&(console.log("this version is outdated, clearing your storage."),localStorage.clear(),localStorage.version=this.version),Xs.getTicker().then((function(e){i.$store.commit("setTicker",e),i.tickerLoaded=!0})).catch((function(e){console.log(e),i.loadingMessage=i.serverError})),this.loadingMessage="Getting regions...",Xs.getRegions().then((function(t){e=t,i.$store.commit("setTerritories",e),i.territoriesLoaded=!0,i.loadingMessage="Getting users..."})).catch((function(e){console.log(e),i.loadingMessage=i.serverError})),Xs.getMessages().then((function(e){t=e,i.$store.commit("setMessages",t),i.messagesLoaded=!0})).catch((function(e){console.log(e),i.loadingMessage=i.serverError})),Xs.getUsers().then((function(e){if(n=e,i.$store.commit("setUsers",n),i.usersLoaded=!0,localStorage.uid&&n[localStorage.uid])console.log("You've visited."),i.$store.commit("visit"),s=n[localStorage.uid],n[s.uid].name.includes(s.uid)||(console.log("You're a local."),i.$store.commit("register")),s.blocked&&(console.log("You're not welcome here."),i.$store.commit("block"));else{console.log("youre new");var t=Object(Zs["a"])();s={uid:t,connected:!1,name:"newUser-"+t,color:i.randomColor(),x:0,y:0,typing:null,blocked:!1},localStorage.uid=s.uid,localStorage.color=s.color}i.isMobile&&(i.$store.commit("visit"),i.$store.commit("register")),i.$store.commit("setUID",s.uid),i.$store.commit("setUser",s),i.$socket.client.emit("user",s),i.selfEvaluated=!0})).catch((function(e){console.log(e),i.loadingMessage=i.serverError})),this.slug&&(this.wantsToView=this.slug)},mounted:function(){var e=this;this.$router.afterEach((function(t){e.wantsToView=t.fullPath}))},methods:{randomColor:function(){var e=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),n=Math.floor(256*Math.random()),s=1;return"rgb(".concat(e,", ").concat(t,", ").concat(n,", ").concat(s,")")}}},Ys=Ws,Gs=(n("2ef9"),Object(C["a"])(Ys,h,p,!1,null,"1055c8fd",null)),Js=Gs.exports,Ks={name:"App",components:{Home:Js},data:function(){return{slug:null,isMobile:null}},created:function(){var e=this;this.isMobile=this.checkIfMobile(),this.isMobile&&this.$store.commit("makeMobile"),this.slug=window.location.pathname,window.addEventListener("resize",(function(){e.$store.commit("resize",{w:window.innerWidth,h:window.innerHeight}),e.isMobile=e.checkIfMobile(),e.isMobile?e.$store.commit("makeMobile"):e.$store.commit("makeDesktop")}))},methods:{checkIfMobile:function(){return window.innerWidth<750}}},Qs=Ks,ei=(n("034f"),Object(C["a"])(Qs,f,m,!1,null,null,null)),ti=ei.exports,ni=n("8c4f");s["a"].use(ni["a"]);var si=[{path:"/",name:"Home",component:Js}],ii=new ni["a"]({mode:"history",routes:si}),oi=ii;n("7db0");s["a"].use(v["a"]);var ri=new v["a"].Store({strict:!1,state:{version:3,lifecycle:"0",save:!0,uid:null,registered:!1,visited:!1,blocked:!1,users:{},messages:{},territories:{},general:{name:"general",slug:"general"},location:{},stream:{playbackId:null,status:null},ticker:{},isMobile:!1,scale:10,widthFactor:1,grid:!1,windowSize:{w:window.innerWidth,h:window.innerHeight},windowPos:{x:null,y:null}},mutations:{setLifecycle:function(e,t){return e.lifecycle=t},doNotSave:function(e){return e.save=!1},setUID:function(e,t){return e.uid=t},register:function(e){return e.registered=!0},visit:function(e){return e.visited=!0},block:function(e){return e.blocked=!0},setUsers:function(e,t){for(var n in t)s["a"].set(e.users,n,t[n])},setUser:function(e,t){s["a"].set(e.users,t.uid,t)},setUserPosition:function(e,t){e.users[t.uid].x=t.x,e.users[t.uid].y=t.y,e.users[t.uid].connected=!0},setUserTyping:function(e,t){e.users[t.uid].typing=t.typing,e.users[t.uid].connected=!0},setUserColor:function(e,t){e.users[t.uid].color=t.color,e.users[t.uid].connected=!0},setUserAppearance:function(e,t){e.users[t.uid].name=t.name,e.users[t.uid].color=t.color,e.users[t.uid].connected=!0},setUserDisconnected:function(e,t){e.users[t].connected=!1},setUserBlocked:function(e,t){e.users[t.uid].blocked=!0},setUserDeleted:function(e,t){e.users[t.uid].deleted=!0},setMessages:function(e,t){for(var n in t)s["a"].set(e.messages,n,t[n])},setMessage:function(e,t){s["a"].set(e.messages,t.uid,t)},setMessageDeleted:function(e,t){e.messages[t.uid].deleted=!0},setMessageCensored:function(e,t){e.messages[t.uid].censored=!0},setTerritories:function(e,t){for(var n in t)s["a"].set(e.territories,n,t[n])},setTerritoryBorders:function(e,t){s["a"].set(e.territories[t.slug].borders,"x",t.x),s["a"].set(e.territories[t.slug].borders,"y",t.y),s["a"].set(e.territories[t.slug].borders,"w",t.w),s["a"].set(e.territories[t.slug].borders,"h",t.h)},setLocation:function(e,t){e.location=t},setStream:function(e,t){s["a"].set(e.stream,"playbackId",t)},setTicker:function(e,t){e.ticker=t},setScale:function(e,t){return e.scale=t},setWidthFactor:function(e,t){return e.widthFactor=t},zoomIn:function(e){return e.scale<20?e.scale+=.25:null},zoomOut:function(e){return e.scale>1?e.scale-=.25:null},makeMobile:function(e){return e.isMobile=!0},makeDesktop:function(e){return e.isMobile=!1},toggleGrid:function(e){return e.grid=!e.grid},resize:function(e,t){return e.windowSize=t},viewerPosition:function(e,t){return e.windowPos=t}},actions:{socket_user:function(e,t){var n=e.state,s=e.commit;s("setUser",t),t.uid===n.uid&&(t.blocked&&s("block"),t.deleted&&(s("doNotSave"),localStorage.clear(),window.location.reload(!0)))},socket_message:function(e,t){var n=e.commit;n("setMessage",t)},socket_position:function(e,t){var n=e.state,s=e.commit;t.uid!==n.uid&&s("setUserPosition",t)},socket_typing:function(e,t){var n=e.state,s=e.commit;t.uid!==n.uid&&s("setUserTyping",t)},socket_color:function(e,t){var n=e.state,s=e.commit;t.uid!==n.uid&&s("setUserColor",t)},socket_appearance:function(e,t){var n=e.state,s=e.commit;t.uid!==n.uid&&s("setUserAppearance",t)},socket_disconnect:function(e){var t=e.state,n=e.dispatch;n("disconnect"),t.save&&(t.registered||(localStorage.uid=t.uid))},updatePosition:function(e,t){var n=e.state,s=e.commit;t.uid=n.uid,s("setUserPosition",t),this._vm.$socket.client.emit("position",t)},updateTyping:function(e,t){var n=e.state,s=e.commit;t.uid=n.uid,s("setUserTyping",t),this._vm.$socket.client.emit("typing",t)},updateColor:function(e,t){var n=e.state,s=e.commit;t.uid=n.uid,s("setUserColor",t),this._vm.$socket.client.emit("color",t)},updateAppearance:function(e,t){var n=e.state,s=e.commit;t.uid=n.uid,s("setUserAppearance",t),this._vm.$socket.client.emit("appearance",t)},disconnect:function(e){var t=e.state,n=e.commit;n("setUserDisconnected",t.uid),this._vm.$socket.client.emit("user",t.users[t.uid])},blockUser:function(e,t){var n=e.state,s=e.commit,i=e.dispatch;for(var o in s("setUserBlocked",t),this._vm.$socket.client.emit("user",t),n.messages){var r=n.messages[o];r.authorUID==t.uid&&i("deleteMessage",r)}},deleteUser:function(e,t){var n=e.state,s=e.commit,i=e.dispatch;for(var o in s("setUserDeleted",t),this._vm.$socket.client.emit("user",t),n.messages){var r=n.messages[o];r.authorUID==t.uid&&i("deleteMessage",r)}},deleteMessage:function(e,t){var n=e.commit;n("setMessageDeleted",t),this._vm.$socket.client.emit("message",t)},censorMessage:function(e,t){var n=e.commit;n("setMessageCensored",t),this._vm.$socket.client.emit("message",t)}},getters:{me:function(e){return e.users[e.uid]},isMe:function(e){return function(t){return t.uid===e.uid}},userByName:function(e,t){return function(n){var s=t.usersArray.find((function(e){return e.name==n}));if(s)return e.users[s.uid]}},territoryByName:function(e){return function(t){return e.territoriesArray.find((function(e){return e.name==t}))}},territoryBySlug:function(e){return function(t){return e.territories[t]}},territoryByBorders:function(e,t){return function(n){var s=.5/e.scale,i=t.coordsFrom(n),o=t.territoriesArray.find((function(t){var n={x:t.borders.x*e.widthFactor,y:t.borders.y,w:t.borders.w*e.widthFactor,h:t.borders.h},o=n.x-s,r=n.y-s,a=n.w+n.x-s,c=n.h+n.y-s;if(i.x>o&&i.x<a&&i.y>r&&i.y<c)return t}));return o||e.general}},messagesByUser:function(e){return function(t){var n=[];for(var s in e.messages){var i=e.messages[s];i.authorUID!=t.uid||i.deleted||n.push(i)}return n}},regionColors:function(e){var t={};for(var n in e.territories){var s=e.territories[n];t["--".concat(n)]=s.color}return t},userColors:function(e){var t={};for(var n in e.users){var s=e.users[n];t["--".concat(n)]=s.connected?s.color:"var(--disconnected)"}return t},userNames:function(e,t){return t.notDeletedUsers.map((function(e){return e.name}))},connectedUsers:function(e,t){return t.notBlockedUsers.filter((function(e){return!0===e.connected}))},connectedUsersFirst:function(e,t){return t.notBlockedUsers.sort((function(e,t){return e.connected===t.connected?0:e.connected?-1:1}))},notBlockedUsers:function(e,t){return t.notDeletedUsers.filter((function(e){return!e.blocked}))},notDeletedUsers:function(e,t){return t.usersArray.filter((function(e){return!e.deleted}))},notDeletedMessages:function(e,t){return t.messagesArray.filter((function(e){return e.uid&&!e.deleted&&!e.navigation&&!e.stream}))},usersArray:function(e){return Object.values(e.users)},messagesArray:function(e){return Object.values(e.messages)},territoriesArray:function(e){return Object.values(e.territories)},centerOf:function(e,t){return function(n){n=t.pixelsFrom(n);var s=e.isMobile||(e.windowSize.w-n.w)/2>=0?(e.windowSize.w-n.w)/2:0,i=e.isMobile||(e.windowSize.h-n.h)/2>=0?(e.windowSize.h-n.h)/2:0,o=n.x-s,r=n.y-i;return{x:o,y:r}}},positionOfIsland:function(e){return function(t){var n=t+"Island",s=document.getElementById(n);if(s){var i=s.offsetLeft+s.offsetParent.offsetLeft,o=s.offsetTop+s.offsetParent.offsetTop,r=i-(e.windowSize.w-s.offsetWidth)/2,a=o-100;return{x:r,y:a}}return null}},positionOf:function(e,t){return function(n){return n=t.pixelsFrom(n),{x:n.x-e.windowSize.w/2,y:n.y-e.windowSize.h/2}}},pixelsFrom:function(e){return function(t){return{x:t.x*e.scale*e.windowSize.w,y:t.y*e.scale*e.windowSize.h,w:t.w*e.scale*e.windowSize.w||0,h:t.h*e.scale*e.windowSize.h||0}}},coordsFrom:function(e){return function(t){return{x:t.x/(e.scale*e.windowSize.w),y:t.y/(e.scale*e.windowSize.h),w:t.w/(e.scale*e.windowSize.w)||0,h:t.h/(e.scale*e.windowSize.h)||0}}}}}),ai=ri;s["a"].config.productionTip=!1,s["a"].prototype.$http=o.a,s["a"].prototype.$apiURL="https://api.obfuscation.karls.computer",s["a"].prototype.$LIFECYCLE="0",s["a"].prototype.$publicPath="/",a.a.props.anchorAttributes.default=function(){return{target:"_blank",rel:"noopener noreferrer nofollow"}},s["a"].component("vue-markdown",a.a),d.a.polyfill(),s["a"].use(c["a"],Object(u["io"])("https://obfuscation.karls.computer"),{store:ai}),new s["a"]({router:oi,store:ai,render:function(e){return e(ti)}}).$mount("#app")},"5d18":function(e,t,n){},"5d7d":function(e,t,n){},"5f03":function(e,t,n){"use strict";n("efbd")},"5fbb":function(e,t,n){"use strict";n("4a15")},6962:function(e,t,n){"use strict";n("786f")},"6abb":function(e,t,n){"use strict";n("d0a0")},"6e85":function(e,t,n){},"6f46":function(e,t,n){"use strict";n("d6b8")},7390:function(e,t,n){},7515:function(e,t,n){},7692:function(e,t,n){"use strict";n("03d1")},"786f":function(e,t,n){},"7d9c":function(e,t,n){},"84fa":function(e,t,n){"use strict";n("e4f3")},"85ec":function(e,t,n){},"86e7":function(e,t,n){"use strict";n("320a")},"8a32":function(e,t,n){},"98cf":function(e,t,n){"use strict";n("d7b4")},"9b7c":function(e,t,n){},a2a5:function(e,t,n){},aba9:function(e,t,n){},af2b:function(e,t,n){"use strict";n("f8b8")},bff4:function(e,t,n){},c0f8:function(e,t,n){"use strict";n("2ff7")},c266:function(e,t,n){"use strict";n("7515")},c841:function(e,t,n){},cba4:function(e,t,n){"use strict";n("7d9c")},cf06:function(e,t,n){"use strict";n("2c8c")},d009:function(e,t,n){"use strict";n("2156")},d0a0:function(e,t,n){},d5c0:function(e,t,n){"use strict";n("0e66")},d6b8:function(e,t,n){},d7b4:function(e,t,n){},db96:function(e,t,n){"use strict";n("5d7d")},dbfd:function(e,t,n){"use strict";n("4a07")},dd4d:function(e,t,n){},dda3:function(e,t,n){},e4f3:function(e,t,n){},e5a0:function(e,t,n){"use strict";n("7390")},e5e1:function(e,t,n){},efbd:function(e,t,n){},f11b:function(e,t,n){},f1dd:function(e,t,n){},f8b8:function(e,t,n){},fd40:function(e,t,n){"use strict";n("dda3")}});
//# sourceMappingURL=app.dbdc3197.js.map